(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{249:function(t,e,n){"use strict";(function(t){u(n(315)),u(n(289)),u(n(293)),u(n(298)),u(n(300)),u(n(312)),u(n(418));var e=u(n(15)),r=u(n(2)),o=u(n(29)),i=s(n(3)),a=u(n(25)),l=s(n(287));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}n(421),n(422),n(423),n(424),n(425),n(426),n(282),n(311),n(316),n(63),t(document).ready(function(){var n={_id:(0,a.default)(window.location).segment(-1)},s=null,u=null,c=null,A=null,d=null,h=null,f=null,p=null,g=null,v=null,m=null,b=null,w=null,y=null,C=!1,x=!1,_=!1,k=!1,M=!1,S=!1,R="";function E(){t(".load-status").css("display","none"),i.dialog({title:"Load Error",message:"Oops, there was a problem retrieving data from the model. This likely means that there was a problem during computation."})}function N(){if(C&&w){var t=w["row-count"];f=new Int32Array(t);for(var e=0;e!=t;++e)f[e]=e;D()}}function T(){if(A&&w){var t=w["column-count"]-1;if("variable-selection"in A&&(t=A["variable-selection"]),t==w["column-count"]-1){var r=w["row-count"];v=new Float64Array(r);for(var o=0;o!=r;++o)v[o]=o;D()}else l.get_model_array_attribute({api_root:e.default,mid:n._id,aid:"data-table",array:0,attribute:t,success:function(t){v=t,D()},error:E})}}function D(){if(!M&&A&&w){M=!0,t("#legend-pane .load-status").css("display","none");var o=void 0!==A.colormap?A.colormap:"night";t("#legend-pane").css("background",t("#color-switcher").colorswitcher("get_background",o).toString());var i=w["column-count"]-1;"variable-selection"in A&&(i=A["variable-selection"]),t("#legend").legend({width:t("#legend-pane").width(),height:t("#legend-pane").height(),gradient:t("#color-switcher").colorswitcher("get_gradient_data",o),label:w["column-names"][i],min:w["column-min"][i],max:w["column-max"][i]})}if(!x&&A&&w&&m&&b&&d&&h){x=!0,t("#barplot-pane .load-status").css("display","none");var a=void 0!==A["cca-component"]?A["cca-component"]:0;t("#barplot-table").barplot({metadata:w,inputs:s,outputs:u,r2:m,wilks:b,x_loadings:d,y_loadings:h,component:a}),"variable-selection"in A&&t("#barplot-table").barplot("option","variable",A["variable-selection"]),t("#barplot-table").bind("component-changed",function(t,e){!function(t){r.default.post_event({path:"models/"+n._id+"/select/component/"+t}),c.updateState({"cca-component":t})}(e)}),t("#barplot-table").bind("component-sort-changed",function(t,e,o){!function(t,e){r.default.post_event({path:"models/"+n._id+"/sort/component/"+t+"/"+e}),c.updateState({"sort-cca-component":t,"sort-direction-cca-component":e})}(e,o)}),"sort-cca-component"in A&&"sort-direction-cca-component"in A&&t("#barplot-table").barplot("option",{sort:[A["sort-cca-component"],A["sort-direction-cca-component"]]})}if(!_&&A&&f&&p&&g&&v&&null!==y){_=!0,t("#scatterplot-pane .load-status").css("display","none");a=void 0!==A["cca-component"]?A["cca-component"]:0,o=void 0!==A.colormap?A.colormap:"night";t("#scatterplot-pane").css("background",t("#color-switcher").colorswitcher("get_background",o).toString()),t("#scatterplot").scatterplot({indices:f,x:p[a],y:g[a],v:v,width:t("#scatterplot-pane").width(),height:t("#scatterplot-pane").height(),color:t("#color-switcher").colorswitcher("get_color_scale",o),selection:y}),t("#scatterplot").bind("selection-changed",function(e,n){y=n,t("#table").table("option","row-selection",y),H(y)}),t("#barplot-table").bind("component-changed",function(e,n){t("#scatterplot").scatterplot("option",{x:p[n],y:g[n]})})}if(!k&&A&&w&&null!==y){k=!0,t("#table-pane .load-status").css("display","none");for(var l=[],C=0;C!=w["column-count"]-1;++C)-1==t.inArray(C,s)&&-1==t.inArray(C,u)&&l.push(C);var R={api_root:e.default,mid:n._id,aid:"data-table",metadata:w,inputs:s,outputs:u,others:l,"row-selection":y};o=void 0!==A.colormap?A.colormap:"night";R.colormap=t("#color-switcher").colorswitcher("get_color_scale",o),"sort-variable"in A&&"sort-order"in A&&(R["sort-variable"]=A["sort-variable"],R["sort-order"]=A["sort-order"]),R["variable-selection"]="variable-selection"in A?[A["variable-selection"]]:[w["column-count"]-1],t("#table").table(R),t("#table").bind("variable-sort-changed",function(t,e,o){!function(t,e){r.default.post_event({path:"models/"+n._id+"/select/sort-order/"+t+"/"+e}),c.updateState({"sort-variable":t,"sort-order":e})}(e,o)}),t("#table").bind("row-selection-changed",function(e,n){for(var r=[],o=0;o!=n.length;++o)r.push(n[o]);y=r,t("#scatterplot").scatterplot("option","selection",y),H(y)})}if(!S&&A&&w&&null!=y){S=!0;var E=[];E.push(w["column-count"]-1);for(C=0;C<s.length;C++)E.push(s[C]);for(C=0;C<u.length;C++)E.push(u[C]);for(C=0;C!=w["column-count"]-1;++C)-1==t.inArray(C,s)&&-1==t.inArray(C,u)&&"string"!=w["column-types"][C]&&E.push(C);var N=w["column-count"]-1;"variable-selection"in A&&(N=[A["variable-selection"]]),t("#controls-pane #controls").controls({mid:n._id,model_name:window.model_name,aid:"data-table",metadata:w,color_variables:E,"color-variable":N,selection:y})}}function L(t){r.default.post_event({path:"models/"+n._id+"/select/variable/"+t}),c.updateState({"variable-selection":t})}function H(e){t("#controls").controls("option","selection",e),r.default.post_event({path:"models/"+n._id+"/select/simulation/count/"+e.length}),c.updateState({"simulation-selection":e})}function I(r){if(r==w["column-count"]-1){for(var o=v.length,i=0;i!=o;++i)v[i]=i;t("#scatterplot").scatterplot("option",{v:v})}else l.get_model_array_attribute({api_root:e.default,mid:n._id,aid:"data-table",array:0,attribute:r,success:function(e){v=e,t("#scatterplot").scatterplot("option",{v:v})},error:E})}!function a(){r.default.get_model({mid:n._id,success:function(i){n=i,""===R&&(R=n.state),c=o.default.create(n.project,n._id),s=n["artifact:input-columns"],u=n["artifact:output-columns"],n["artifact:scale-inputs"],"waiting"!==n.state&&"running"!==n.state?"closed"===n.state&&null===n.result||"failed"!==n.result&&(t(".slycat-navbar-alert").remove(),"waiting"!=n.state&&"running"!=n.state&&("closed"==n.state&&null===n.result||"failed"!=n.result&&(t(".load-status").text("Loading data."),l.get_model_array_attribute({api_root:e.default,mid:n._id,aid:"input-structure-correlation",array:0,attribute:0,success:function(t){d=t,D()},error:E}),l.get_model_array_attribute({api_root:e.default,mid:n._id,aid:"output-structure-correlation",array:0,attribute:0,success:function(t){h=t,D()},error:E}),l.get_model_array_attribute({api_root:e.default,mid:n._id,aid:"cca-statistics",array:0,attribute:0,success:function(t){m=t,D()},error:E}),l.get_model_array_attribute({api_root:e.default,mid:n._id,aid:"cca-statistics",array:0,attribute:1,success:function(t){b=t,D()},error:E}),l.get_model_array_attribute({api_root:e.default,mid:n._id,aid:"canonical-indices",array:0,attribute:0,success:function(t){f=t,D()},error:function(){C=!0,N()}}),l.get_model_array_attribute({api_root:e.default,mid:n._id,aid:"canonical-variables",array:0,attribute:0,success:function(t){p=t,D()},error:E}),l.get_model_array_attribute({api_root:e.default,mid:n._id,aid:"canonical-variables",array:0,attribute:1,success:function(t){g=t,D()},error:E}),r.default.get_model_table_metadata({mid:n._id,aid:"data-table",index:"Index",success:function(t){w=t,N(),T(),D()},error:E}),c.getState(function(e){y=void 0!==(A=e)["simulation-selection"]?A["simulation-selection"]:[],function(){var e=void 0!==A.colormap?A.colormap:"night";t("#color-switcher").colorswitcher({colormap:e})}(),T(),D()})))):setTimeout(a,5e3)},error:i.ajax_error("Error retrieving model.")})}(),t("#cca-model").layout({applyDefaultStyles:!1,north:{size:28,resizable:!1},west:{size:t("#cca-model").width()/2,resizeWhileDragging:!1,onresize:function(){t("#barplot-table").barplot("resize_canvas")}},center:{resizeWhileDragging:!1,onresize:function(){t("#scatterplot").scatterplot("option",{width:t("#scatterplot-pane").width(),height:t("#scatterplot-pane").height()})}},east:{size:130,resizeWhileDragging:!1,onresize:function(){t("#legend").legend("option",{width:t("#legend-pane").width(),height:t("#legend-pane").height()})}},south:{size:t("body").height()/2,resizeWhileDragging:!1,onresize:function(){t("#table").css("height",t("#table-pane").height()),t("#table").table("resize_canvas")}}}),t("#barplot-table").bind("variable-changed",function(e,n){L(n),t("#legend").legend("option",{min:w["column-min"][n],max:w["column-max"][n],label:w["column-names"][n]}),I(n),t("#table").table("option","variable-selection",[n]),t("#controls").controls("option","color-variable",n)}),t("#color-switcher").bind("colormap-changed",function(e,o){!function(t){r.default.post_event({path:"models/"+n._id+"/select/colormap/"+t}),c.updateState({colormap:t})}(o),t("#legend-pane").css("background",t("#color-switcher").colorswitcher("get_background",o).toString()),t("#legend").legend("option",{gradient:t("#color-switcher").colorswitcher("get_gradient_data",o)}),t("#scatterplot-pane").css("background",t("#color-switcher").colorswitcher("get_background",o).toString()),t("#scatterplot").scatterplot("option",{color:t("#color-switcher").colorswitcher("get_color_scale",o)}),t("#table").table("option","colormap",t("#color-switcher").colorswitcher("get_color_scale",o))}),t("#table").bind("variable-selection-changed",function(e,n){L(n[0]),t("#barplot-table").barplot("option","variable",n[0]),I(n[0]),t("#controls").controls("option","color-variable",n[0]),t("#legend").legend("option",{min:w["column-min"][n[0]],max:w["column-max"][n[0]],label:w["column-names"][n[0]]})}),t("#controls").bind("color-selection-changed",function(e,n){L(n),t("#barplot-table").barplot("option","variable",n),t("#legend").legend("option",{min:w["column-min"][n],max:w["column-max"][n],label:w["column-names"][n]}),I(n),t("#table").table("option","variable-selection",[Number(n)])})})}).call(this,n(1))},283:function(t,e,n){"use strict";var r,o,i,a=c(n(229)),l=c(n(100)),s=c(n(62)),u=c(n(228));function c(t){return t&&t.__esModule?t:{default:t}}!function(){function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function c(t){return null!=t&&!isNaN(t)}function A(t){return{left:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);o>r;){var i=r+o>>>1;t(e[i],n)<0?r=i+1:o=i}return r},right:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);o>r;){var i=r+o>>>1;t(e[i],n)>0?o=i:r=i+1}return r}}}function d(t){return t.length}function h(t,e){try{for(var n in e)(0,u.default)(t.prototype,n,{value:e[n],enumerable:!1})}catch(n){t.prototype=e}}function f(){}function p(t){return ci+t in this}function g(){var t=[];return this.forEach(function(e){t.push(e)}),t}function v(){var t=0;for(var e in this)e.charCodeAt(0)===Ai&&++t;return t}function m(){for(var t in this)if(t.charCodeAt(0)===Ai)return!1;return!0}function b(){}function w(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function y(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,r=di.length;r>n;++n){var o=di[n]+e;if(o in t)return o}}function C(){}function x(){}function _(t){function e(){for(var e,r=n,o=-1,i=r.length;++o<i;)(e=r[o].on)&&e.apply(this,arguments);return t}var n=[],r=new f;return e.on=function(e,o){var i,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,i=n.indexOf(a)).concat(n.slice(i+1)),r.remove(e)),o&&n.push(r.set(e,{on:o})),t)},e}function k(){Ko.event.preventDefault()}function M(){for(var t,e=Ko.event;t=e.sourceEvent;)e=t;return e}function S(t){for(var e=new x,n=0,r=arguments.length;++n<r;)e[arguments[n]]=_(e);return e.of=function(n,r){return function(o){try{var i=o.sourceEvent=Ko.event;o.target=t,Ko.event=o,e[o.type].apply(n,r)}finally{Ko.event=i}}},e}function R(t){return fi(t,bi),t}function E(t){return"function"==typeof t?t:function(){return pi(t,this)}}function N(t){return"function"==typeof t?t:function(){return gi(t,this)}}function T(t,e){return t=Ko.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function D(t){return t.trim().replace(/\s+/g," ")}function L(t){return new RegExp("(?:^|\\s+)"+Ko.requote(t)+"(?:\\s+|$)","g")}function H(t){return t.trim().split(/^|\s+/)}function I(t,e){var n=(t=H(t).map(P)).length;return"function"==typeof e?function(){for(var r=-1,o=e.apply(this,arguments);++r<n;)t[r](this,o)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function P(t){var e=L(t);return function(n,r){if(o=n.classList)return r?o.add(t):o.remove(t);var o=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(o)||n.setAttribute("class",D(o+" "+t))):n.setAttribute("class",D(o.replace(e," ")))}}function z(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function $(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function F(t){return"function"==typeof t?t:(t=Ko.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function W(t){return{__data__:t}}function V(t){return function(){return mi(this,t)}}function B(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function U(t,e){for(var n=0,r=t.length;r>n;n++)for(var o,i=t[n],a=0,l=i.length;l>a;a++)(o=i[a])&&e(o,a,n);return t}function O(t){return fi(t,yi),t}function q(){var t=this.__transition__;t&&++t.active}function j(t,e,n){function r(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}var o="__on"+t,i=t.indexOf("."),a=G;i>0&&(t=t.substring(0,i));var l=xi.get(t);return l&&(t=l,a=Y),i?e?function(){var i=a(e,Zo(arguments));r.call(this),this.addEventListener(t,this[o]=i,i.$=n),i._=e}:r:e?C:function(){var e,n=new RegExp("^__on([^.]+)"+Ko.requote(t)+"$");for(var r in this)if(e=r.match(n)){var o=this[r];this.removeEventListener(e[1],o,o.$),delete this[r]}}}function G(t,e){return function(n){var r=Ko.event;Ko.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Ko.event=r}}}function Y(t,e){var n=G(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function X(){var t=".dragsuppress-"+ ++ki,e="click"+t,n=Ko.select(ni).on("touchmove"+t,k).on("dragstart"+t,k).on("selectstart"+t,k);if(_i){var r=ei.style,o=r[_i];r[_i]="none"}return function(i){function a(){n.on(e,null)}n.on(t,null),_i&&(r[_i]=o),i&&(n.on(e,function(){k(),a()},!0),setTimeout(a,0))}}function Q(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function K(){return Ko.event.changedTouches[0].identifier}function J(){return Ko.event.target}function Z(){return ni}function tt(t){return t>0?1:0>t?-1:0}function et(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function nt(t){return t>1?0:-1>t?Mi:Math.acos(t)}function rt(t){return t>1?Ri:-1>t?-Ri:Math.asin(t)}function ot(t){return((t=Math.exp(t))+1/t)/2}function it(t){return(t=Math.sin(t/2))*t}function at(){}function lt(t,e,n){return new st(t,e,n)}function st(t,e,n){this.h=t,this.s=e,this.l=n}function ut(t,e,n){function r(t){return Math.round(255*function(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(i-o)*t/60:180>t?i:240>t?o+(i-o)*(240-t)/60:o}(t))}var o,i;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,o=2*(n=0>n?0:n>1?1:n)-(i=.5>=n?n*(1+e):n+e-n*e),Ct(r(t+120),r(t),r(t-120))}function ct(t,e,n){return new At(t,e,n)}function At(t,e,n){this.h=t,this.c=e,this.l=n}function dt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),ht(n,Math.cos(t*=Ti)*e,Math.sin(t)*e)}function ht(t,e,n){return new ft(t,e,n)}function ft(t,e,n){this.l=t,this.a=e,this.b=n}function pt(t,e,n){var r=(t+16)/116,o=r+e/500,i=r-n/200;return Ct(bt(3.2404542*(o=vt(o)*Vi)-1.5371385*(r=vt(r)*Bi)-.4985314*(i=vt(i)*Ui)),bt(-.969266*o+1.8760108*r+.041556*i),bt(.0556434*o-.2040259*r+1.0572252*i))}function gt(t,e,n){return t>0?ct(Math.atan2(n,e)*Di,Math.sqrt(e*e+n*n),t):ct(NaN,NaN,t)}function vt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function mt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function bt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function wt(t){return Ct(t>>16,255&t>>8,255&t)}function yt(t){return wt(t)+""}function Ct(t,e,n){return new xt(t,e,n)}function xt(t,e,n){this.r=t,this.g=e,this.b=n}function _t(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function kt(t,e,n){var r,o,i,a=0,l=0,s=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(o=r[2].split(","),r[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(Et(o[0]),Et(o[1]),Et(o[2]))}return(i=ji.get(t))?e(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.substring(1),16))||(4===t.length?(a=(3840&i)>>4,a|=a>>4,l=240&i,l|=l>>4,s=15&i,s|=s<<4):7===t.length&&(a=(16711680&i)>>16,l=(65280&i)>>8,s=255&i)),e(a,l,s))}function Mt(t,e,n){var r,o,i=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),l=a-i,s=(a+i)/2;return l?(o=.5>s?l/(a+i):l/(2-a-i),r=t==a?(e-n)/l+(n>e?6:0):e==a?(n-t)/l+2:(t-e)/l+4,r*=60):(r=NaN,o=s>0&&1>s?0:r),lt(r,o,s)}function St(t,e,n){var r=mt((.4124564*(t=Rt(t))+.3575761*(e=Rt(e))+.1804375*(n=Rt(n)))/Vi),o=mt((.2126729*t+.7151522*e+.072175*n)/Bi);return ht(116*o-16,500*(r-o),200*(o-mt((.0193339*t+.119192*e+.9503041*n)/Ui)))}function Rt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Et(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Nt(t){return"function"==typeof t?t:function(){return t}}function Tt(t){return t}function Dt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Lt(e,n,t,r)}}function Lt(t,e,n,r){function o(){var t,e=s.status;if(!e&&s.responseText||e>=200&&300>e||304===e){try{t=n.call(i,s)}catch(t){return void a.error.call(i,t)}a.load.call(i,t)}else a.error.call(i,s)}var i={},a=Ko.dispatch("beforesend","progress","load","error"),l={},s=new XMLHttpRequest,u=null;return!ni.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=o:s.onreadystatechange=function(){s.readyState>3&&o()},s.onprogress=function(t){var e=Ko.event;Ko.event=t;try{a.progress.call(i,s)}finally{Ko.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(u=t,i):u},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(Zo(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),s.open(n,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),s.setRequestHeader)for(var c in l)s.setRequestHeader(c,l[c]);return null!=e&&s.overrideMimeType&&s.overrideMimeType(e),null!=u&&(s.responseType=u),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(i,s),s.send(null==r?null:r),i},i.abort=function(){return s.abort(),i},Ko.rebind(i,a,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}function Ht(){var t=It(),e=Pt()-t;e>24?(isFinite(e)&&(clearTimeout(Qi),Qi=setTimeout(Ht,e)),Xi=0):(Xi=1,Ji(Ht))}function It(){var t=Date.now();for(Ki=Gi;Ki;)t>=Ki.t&&(Ki.f=Ki.c(t-Ki.t)),Ki=Ki.n;return t}function Pt(){for(var t,e=Gi,n=1/0;e;)e.f?e=t?t.n=e.n:Gi=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Yi=t,n}function zt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function $t(t){return t+""}function Ft(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Wt(t,e,n){function r(e){var n=t(e),r=i(n,1);return r-e>e-n?n:r}function o(n){return e(n=t(new ra(n-1)),1),n}function i(t,n){return e(t=new ra(+t),n),t}function a(t,r,i){var a=o(t),l=[];if(i>1)for(;r>a;)n(a)%i||l.push(new Date(+a)),e(a,1);else for(;r>a;)l.push(new Date(+a)),e(a,1);return l}t.floor=t,t.round=r,t.ceil=o,t.offset=i,t.range=a;var l=t.utc=Vt(t);return l.floor=l,l.round=Vt(r),l.ceil=Vt(o),l.offset=Vt(i),l.range=function(t,e,n){try{ra=Ft;var r=new Ft;return r._=t,a(r,e,n)}finally{ra=Date}},t}function Vt(t){return function(e,n){try{ra=Ft;var r=new Ft;return r._=e,t(r,n)._}finally{ra=Date}}}function Bt(t,e,n){var r=0>t?"-":"",o=(r?-t:t)+"",i=o.length;return r+(n>i?new Array(n-i+1).join(e)+o:o)}function Ut(t){return new RegExp("^(?:"+t.map(Ko.requote).join("|")+")","i")}function Ot(t){for(var e=new f,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function qt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function jt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n));return r?(t.U=+r[0],n+r[0].length):-1}function Gt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n));return r?(t.W=+r[0],n+r[0].length):-1}function Yt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Xt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+2));return r?(t.y=function(t){return t+(t>68?1900:2e3)}(+r[0]),n+r[0].length):-1}function Qt(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=-e,n+5):-1}function Kt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Jt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Zt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function te(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ee(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ne(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function re(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=~~(ui(e)/60),o=ui(e)%60;return n+Bt(r,"0",2)+Bt(o,"0",2)}function ie(t,e,n){la.lastIndex=0;var r=la.exec(e.substring(n,n+1));return r?n+r[0].length:-1}function ae(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function le(){}function se(t,e,n){var r=n.s=t+e,o=r-t,i=r-o;n.t=t-i+(e-o)}function ue(t,e){t&&Aa.hasOwnProperty(t.type)&&Aa[t.type](t,e)}function ce(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function Ae(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ce(t[n],e,1);e.polygonEnd()}function de(){function t(t,e){e=e*Ti/2+Mi/4;var n=(t*=Ti)-r,a=n>=0?1:-1,l=a*n,s=Math.cos(e),u=Math.sin(e),c=i*u,A=o*s+c*Math.cos(l),d=c*a*Math.sin(l);ha.add(Math.atan2(d,A)),r=t,o=s,i=u}var e,n,r,o,i;fa.point=function(a,l){fa.point=t,r=(e=a)*Ti,o=Math.cos(l=(n=l)*Ti/2+Mi/4),i=Math.sin(l)},fa.lineEnd=function(){t(e,n)}}function he(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function fe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function pe(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ge(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ve(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function me(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function be(t){return[Math.atan2(t[1],t[0]),rt(t[2])]}function we(t,e){return ui(t[0]-e[0])<Ei&&ui(t[1]-e[1])<Ei}function ye(t,e){t*=Ti;var n=Math.cos(e*=Ti);Ce(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ce(t,e,n){va+=(t-va)/++pa,ma+=(e-ma)/pa,ba+=(n-ba)/pa}function xe(){function t(t,o){t*=Ti;var i=Math.cos(o*=Ti),a=i*Math.cos(t),l=i*Math.sin(t),s=Math.sin(o),u=Math.atan2(Math.sqrt((u=n*s-r*l)*u+(u=r*a-e*s)*u+(u=e*l-n*a)*u),e*a+n*l+r*s);ga+=u,wa+=u*(e+(e=a)),ya+=u*(n+(n=l)),Ca+=u*(r+(r=s)),Ce(e,n,r)}var e,n,r;Ma.point=function(o,i){o*=Ti;var a=Math.cos(i*=Ti);e=a*Math.cos(o),n=a*Math.sin(o),r=Math.sin(i),Ma.point=t,Ce(e,n,r)}}function _e(){Ma.point=ye}function ke(){function t(t,e){t*=Ti;var n=Math.cos(e*=Ti),a=n*Math.cos(t),l=n*Math.sin(t),s=Math.sin(e),u=o*s-i*l,c=i*a-r*s,A=r*l-o*a,d=Math.sqrt(u*u+c*c+A*A),h=r*a+o*l+i*s,f=d&&-nt(h)/d,p=Math.atan2(d,h);xa+=f*u,_a+=f*c,ka+=f*A,ga+=p,wa+=p*(r+(r=a)),ya+=p*(o+(o=l)),Ca+=p*(i+(i=s)),Ce(r,o,i)}var e,n,r,o,i;Ma.point=function(a,l){e=a,n=l,Ma.point=t,a*=Ti;var s=Math.cos(l*=Ti);r=s*Math.cos(a),o=s*Math.sin(a),i=Math.sin(l),Ce(r,o,i)},Ma.lineEnd=function(){t(e,n),Ma.lineEnd=_e,Ma.point=ye}}function Me(){return!0}function Se(t,e,n,r,o){var i=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(we(n,r)){o.lineStart();for(var l=0;e>l;++l)o.point((n=t[l])[0],n[1]);return void o.lineEnd()}var s=new Ee(n,t,null,!0),u=new Ee(n,null,s,!1);s.o=u,i.push(s),a.push(u),u=new Ee(r,null,s=new Ee(r,t,null,!1),!0),s.o=u,i.push(s),a.push(u)}}),a.sort(e),Re(i),Re(a),i.length){for(var l=0,s=n,u=a.length;u>l;++l)a[l].e=s=!s;for(var c,A,d=i[0];;){for(var h=d,f=!0;h.v;)if((h=h.n)===d)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(l=0,u=c.length;u>l;++l)o.point((A=c[l])[0],A[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(f)for(l=(c=h.p.z).length-1;l>=0;--l)o.point((A=c[l])[0],A[1]);else r(h.x,h.p.x,-1,o);h=h.p}c=(h=h.o).z,f=!f}while(!h.v);o.lineEnd()}}}function Re(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}function Ee(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ne(t,e,n,r){return function(o,i){function a(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&i.point(e,n)}function l(t,e){var n=o(t,e);g.point(n[0],n[1])}function s(){m.point=l,g.lineStart()}function u(){m.point=a,g.lineEnd()}function c(t,e){p.push([t,e]);var n=o(t,e);w.point(n[0],n[1])}function A(){w.lineStart(),p=[]}function d(){c(p[0][0],p[0][1]),w.lineEnd();var t,e=w.clean(),n=b.buffer(),r=n.length;if(p.pop(),f.push(p),p=null,r)if(1&e){var o,a=-1;if((r=(t=n[0]).length-1)>0){for(y||(i.polygonStart(),y=!0),i.lineStart();++a<r;)i.point((o=t[a])[0],o[1]);i.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Te))}var h,f,p,g=e(i),v=o.invert(r[0],r[1]),m={point:a,lineStart:s,lineEnd:u,polygonStart:function(){m.point=c,m.lineStart=A,m.lineEnd=d,h=[],f=[]},polygonEnd:function(){m.point=a,m.lineStart=s,m.lineEnd=u,h=Ko.merge(h);var t=function(t,e){var n=t[0],r=t[1],o=[Math.sin(n),-Math.cos(n),0],i=0,a=0;ha.reset();for(var l=0,s=e.length;s>l;++l){var u=e[l],c=u.length;if(c)for(var A=u[0],d=A[0],h=A[1]/2+Mi/4,f=Math.sin(h),p=Math.cos(h),g=1;;){g===c&&(g=0);var v=(t=u[g])[0],m=t[1]/2+Mi/4,b=Math.sin(m),w=Math.cos(m),y=v-d,C=y>=0?1:-1,x=C*y,_=x>Mi,k=f*b;if(ha.add(Math.atan2(k*C*Math.sin(x),p*w+k*Math.cos(x))),i+=_?y+C*Si:y,_^d>=n^v>=n){var M=pe(he(A),he(t));me(M);var S=pe(o,M);me(S);var R=(_^y>=0?-1:1)*rt(S[2]);(r>R||r===R&&(M[0]||M[1]))&&(a+=_^y>=0?1:-1)}if(!g++)break;d=v,f=b,p=w,A=t}}return(-Ei>i||Ei>i&&0>ha)^1&a}(v,f);h.length?(y||(i.polygonStart(),y=!0),Se(h,Le,t,n,i)):t&&(y||(i.polygonStart(),y=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),y&&(i.polygonEnd(),y=!1),h=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},b=De(),w=e(b),y=!1;return m}}function Te(t){return t.length>1}function De(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:C,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Le(t,e){return((t=t.x)[0]<0?t[1]-Ri-Ei:Ri-t[1])-((e=e.x)[0]<0?e[1]-Ri-Ei:Ri-e[1])}function He(t,e,n,r){return function(o){var i,a=o.a,l=o.b,s=a.x,u=a.y,c=0,A=1,d=l.x-s,h=l.y-u;if(i=t-s,d||!(i>0)){if(i/=d,0>d){if(c>i)return;A>i&&(A=i)}else if(d>0){if(i>A)return;i>c&&(c=i)}if(i=n-s,d||!(0>i)){if(i/=d,0>d){if(i>A)return;i>c&&(c=i)}else if(d>0){if(c>i)return;A>i&&(A=i)}if(i=e-u,h||!(i>0)){if(i/=h,0>h){if(c>i)return;A>i&&(A=i)}else if(h>0){if(i>A)return;i>c&&(c=i)}if(i=r-u,h||!(0>i)){if(i/=h,0>h){if(i>A)return;i>c&&(c=i)}else if(h>0){if(c>i)return;A>i&&(A=i)}return c>0&&(o.a={x:s+c*d,y:u+c*h}),1>A&&(o.b={x:s+A*d,y:u+A*h}),o}}}}}}function Ie(t,e,n,r){function o(r,o){return ui(r[0]-t)<Ei?o>0?0:3:ui(r[0]-n)<Ei?o>0?2:1:ui(r[1]-e)<Ei?o>0?1:0:o>0?3:2}function i(t,e){return a(t.x,e.x)}function a(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(l){function s(i,l,s,u){var c=0,A=0;if(null==i||(c=o(i,s))!==(A=o(l,s))||a(i,l)<0^s>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==A);else u.point(l[0],l[1])}function u(o,i){return o>=t&&n>=o&&i>=e&&r>=i}function c(t,e){u(t,e)&&l.point(t,e)}function A(t,e){var n=u(t=Math.max(-Ra,Math.min(Ra,t)),e=Math.max(-Ra,Math.min(Ra,e)));if(h&&f.push([t,e]),y)p=t,g=e,v=n,y=!1,n&&(l.lineStart(),l.point(t,e));else if(n&&w)l.point(t,e);else{var r={a:{x:m,y:b},b:{x:t,y:e}};k(r)?(w||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),C=!1):n&&(l.lineStart(),l.point(t,e),C=!1)}m=t,b=e,w=n}var d,h,f,p,g,v,m,b,w,y,C,x=l,_=De(),k=He(t,e,n,r),M={point:c,lineStart:function(){M.point=A,h&&h.push(f=[]),y=!0,w=!1,m=b=NaN},lineEnd:function(){d&&(A(p,g),v&&w&&_.rejoin(),d.push(_.buffer())),M.point=c,w&&l.lineEnd()},polygonStart:function(){l=_,d=[],h=[],C=!0},polygonEnd:function(){l=x,d=Ko.merge(d);var e=function(t){for(var e=0,n=h.length,r=t[1],o=0;n>o;++o)for(var i,a=1,l=h[o],s=l.length,u=l[0];s>a;++a)i=l[a],u[1]<=r?i[1]>r&&et(u,i,t)>0&&++e:i[1]<=r&&et(u,i,t)<0&&--e,u=i;return 0!==e}([t,r]),n=C&&e,o=d.length;(n||o)&&(l.polygonStart(),n&&(l.lineStart(),s(null,null,1,l),l.lineEnd()),o&&Se(d,i,e,s,l),l.polygonEnd()),d=h=f=null}};return M}}function Pe(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function ze(t){var e=0,n=Mi/3,r=Xe(t),o=r(e,n);return o.parallels=function(t){return arguments.length?r(e=t[0]*Mi/180,n=t[1]*Mi/180):[e/Mi*180,n/Mi*180]},o}function $e(t,e){function n(t,e){var n=Math.sqrt(i-2*o*Math.sin(e))/o;return[n*Math.sin(t*=o),a-n*Math.cos(t)]}var r=Math.sin(t),o=(r+Math.sin(e))/2,i=1+r*(2*o-r),a=Math.sqrt(i)/o;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/o,rt((i-(t*t+n*n)*o*o)/(2*o))]},n}function Fe(){function t(t,e){Na+=o*t-r*e,r=t,o=e}var e,n,r,o;Ia.point=function(i,a){Ia.point=t,e=r=i,n=o=a},Ia.lineEnd=function(){t(e,n)}}function We(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ve(t,e){va+=t,ma+=e,++ba}function Be(){function t(t,r){var o=t-e,i=r-n,a=Math.sqrt(o*o+i*i);wa+=a*(e+t)/2,ya+=a*(n+r)/2,Ca+=a,Ve(e=t,n=r)}var e,n;za.point=function(r,o){za.point=t,Ve(e=r,n=o)}}function Ue(){za.point=Ve}function Oe(){function t(t,e){var n=t-r,i=e-o,a=Math.sqrt(n*n+i*i);wa+=a*(r+t)/2,ya+=a*(o+e)/2,Ca+=a,xa+=(a=o*t-r*e)*(r+t),_a+=a*(o+e),ka+=3*a,Ve(r=t,o=e)}var e,n,r,o;za.point=function(i,a){za.point=t,Ve(e=r=i,n=o=a)},za.lineEnd=function(){t(e,n)}}function qe(t){function e(t){return(l?r:n)(t)}function n(e){return Ge(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){m=NaN,x.point=i,e.lineStart()}function i(n,r){var i=he([n,r]),a=t(n,r);o(m,b,v,w,y,C,m=a[0],b=a[1],v=n,w=i[0],y=i[1],C=i[2],l,e),e.point(m,b)}function a(){x.point=n,e.lineEnd()}function s(){r(),x.point=u,x.lineEnd=c}function u(t,e){i(A=t,e),d=m,h=b,f=w,p=y,g=C,x.point=i}function c(){o(m,b,v,w,y,C,d,h,A,f,p,g,l,e),x.lineEnd=a,a()}var A,d,h,f,p,g,v,m,b,w,y,C,x={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),x.lineStart=s},polygonEnd:function(){e.polygonEnd(),x.lineStart=r}};return x}function o(e,n,r,l,s,u,c,A,d,h,f,p,g,v){var m=c-e,b=A-n,w=m*m+b*b;if(w>4*i&&g--){var y=l+h,C=s+f,x=u+p,_=Math.sqrt(y*y+C*C+x*x),k=Math.asin(x/=_),M=ui(ui(x)-1)<Ei||ui(r-d)<Ei?(r+d)/2:Math.atan2(C,y),S=t(M,k),R=S[0],E=S[1],N=R-e,T=E-n,D=b*N-m*T;(D*D/w>i||ui((m*N+b*T)/w-.5)>.3||a>l*h+s*f+u*p)&&(o(e,n,r,l,s,u,R,E,M,y/=_,C/=_,x,g,v),v.point(R,E),o(R,E,M,y,C,x,c,A,d,h,f,p,g,v))}}var i=.5,a=Math.cos(30*Ti),l=16;return e.precision=function(t){return arguments.length?(l=(i=t*t)>0&&16,e):Math.sqrt(i)},e}function je(t){this.stream=t}function Ge(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Ye(t){return Xe(function(){return t})()}function Xe(t){function e(t){return[(t=l(t[0]*Ti,t[1]*Ti))[0]*d+s,u-t[1]*d]}function n(t){return(t=l.invert((t[0]-s)/d,(u-t[1])/d))&&[t[0]*Di,t[1]*Di]}function r(){l=Pe(a=Ze(v,m,b),i);var t=i(p,g);return s=h-t[0]*d,u=f+t[1]*d,o()}function o(){return c&&(c.valid=!1,c=null),e}var i,a,l,s,u,c,A=qe(function(t,e){return[(t=i(t,e))[0]*d+s,u-t[1]*d]}),d=150,h=480,f=250,p=0,g=0,v=0,m=0,b=0,w=Sa,y=Tt,C=null,x=null;return e.stream=function(t){return c&&(c.valid=!1),(c=Qe(w(a,A(y(t))))).valid=!0,c},e.clipAngle=function(t){return arguments.length?(w=null==t?(C=t,Sa):function(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t,e,n){var r=[1,0,0],i=pe(he(t),he(e)),a=fe(i,i),l=i[0],s=a-l*l;if(!s)return!n&&t;var u=o*a/s,c=-o*l/s,A=pe(r,i),d=ve(r,u);ge(d,ve(i,c));var h=A,f=fe(d,h),p=fe(h,h),g=f*f-p*(fe(d,d)-1);if(!(0>g)){var v=Math.sqrt(g),m=ve(h,(-f-v)/p);if(ge(m,d),m=be(m),!n)return m;var b,w=t[0],y=e[0],C=t[1],x=e[1];w>y&&(b=w,w=y,y=b);var _=y-w,k=ui(_-Mi)<Ei;if(!k&&C>x&&(b=C,C=x,x=b),k||Ei>_?k?C+x>0^m[1]<(ui(m[0]-w)<Ei?C:x):C<=m[1]&&m[1]<=x:_>Mi^(w<=m[0]&&m[0]<=y)){var M=ve(h,(-f+v)/p);return ge(M,d),[m,be(M)]}}}function r(e,n){var r=i?t:Mi-t,o=0;return-r>e?o|=1:e>r&&(o|=2),-r>n?o|=4:n>r&&(o|=8),o}var o=Math.cos(t),i=o>0,a=ui(o)>Ei;return Ne(e,function(t){var o,l,s,u,c;return{lineStart:function(){u=s=!1,c=1},point:function(A,d){var h,f=[A,d],p=e(A,d),g=i?p?0:r(A,d):p?r(A+(0>A?Mi:-Mi),d):0;if(!o&&(u=s=p)&&t.lineStart(),p!==s&&(h=n(o,f),(we(o,h)||we(f,h))&&(f[0]+=Ei,f[1]+=Ei,p=e(f[0],f[1]))),p!==s)c=0,p?(t.lineStart(),h=n(f,o),t.point(h[0],h[1])):(h=n(o,f),t.point(h[0],h[1]),t.lineEnd()),o=h;else if(a&&o&&i^p){var v;g&l||!(v=n(f,o,!0))||(c=0,i?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!p||o&&we(o,f)||t.point(f[0],f[1]),o=f,s=p,l=g},lineEnd:function(){s&&t.lineEnd(),o=null},clean:function(){return c|(u&&s)<<1}}},rn(t,6*Ti),i?[0,-t]:[-Mi,t-Mi])}((C=+t)*Ti),o()):C},e.clipExtent=function(t){return arguments.length?(x=t,y=t?Ie(t[0][0],t[0][1],t[1][0],t[1][1]):Tt,o()):x},e.scale=function(t){return arguments.length?(d=+t,r()):d},e.translate=function(t){return arguments.length?(h=+t[0],f=+t[1],r()):[h,f]},e.center=function(t){return arguments.length?(p=t[0]%360*Ti,g=t[1]%360*Ti,r()):[p*Di,g*Di]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ti,m=t[1]%360*Ti,b=t.length>2?t[2]%360*Ti:0,r()):[v*Di,m*Di,b*Di]},Ko.rebind(e,A,"precision"),function(){return i=t.apply(this,arguments),e.invert=i.invert&&n,r()}}function Qe(t){return Ge(t,function(e,n){t.point(e*Ti,n*Ti)})}function Ke(t,e){return[t,e]}function Je(t,e){return[t>Mi?t-Si:-Mi>t?t+Si:t,e]}function Ze(t,e,n){return t?e||n?Pe(en(t),nn(e,n)):en(t):e||n?nn(e,n):Je}function tn(t){return function(e,n){return[(e+=t)>Mi?e-Si:-Mi>e?e+Si:e,n]}}function en(t){var e=tn(t);return e.invert=tn(-t),e}function nn(t,e){function n(t,e){var n=Math.cos(e),l=Math.cos(t)*n,s=Math.sin(t)*n,u=Math.sin(e),c=u*r+l*o;return[Math.atan2(s*i-c*a,l*r-u*o),rt(c*i+s*a)]}var r=Math.cos(t),o=Math.sin(t),i=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),l=Math.cos(t)*n,s=Math.sin(t)*n,u=Math.sin(e),c=u*i-s*a;return[Math.atan2(s*i+u*a,l*r+c*o),rt(c*r-l*o)]},n}function rn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(o,i,a,l){var s=a*e;null!=o?(o=on(n,o),i=on(n,i),(a>0?i>o:o>i)&&(o+=a*Si)):(o=t+a*Si,i=t-.5*s);for(var u,c=o;a>0?c>i:i>c;c-=s)l.point((u=be([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function on(t,e){var n=he(e);n[0]-=t,me(n);var r=nt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ei)%(2*Math.PI)}function an(t,e,n){var r=Ko.range(t,e-Ei,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function ln(t,e,n){var r=Ko.range(t,e-Ei,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function sn(t){return t.source}function un(t){return t.target}function cn(t,e){function n(e,n){var r=Math.cos(e),o=Math.cos(n),i=t(r*o);return[i*o*Math.sin(e),i*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),o=e(r),i=Math.sin(o),a=Math.cos(o);return[Math.atan2(t*i,r*a),Math.asin(r&&n*i/r)]},n}function An(t,e){function n(t,e){a>0?-Ri+Ei>e&&(e=-Ri+Ei):e>Ri-Ei&&(e=Ri-Ei);var n=a/Math.pow(o(e),i);return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var r=Math.cos(t),o=function(t){return Math.tan(Mi/4+t/2)},i=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(o(e)/o(t)),a=r*Math.pow(o(t),i)/i;return i?(n.invert=function(t,e){var n=a-e,r=tt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(a/r,1/i))-Ri]},n):hn}function dn(t,e){function n(t,e){var n=i-e;return[n*Math.sin(o*t),i-n*Math.cos(o*t)]}var r=Math.cos(t),o=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),i=r/o+t;return ui(o)<Ei?Ke:(n.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/o,i-tt(o)*Math.sqrt(t*t+n*n)]},n)}function hn(t,e){return[t,Math.log(Math.tan(Mi/4+e/2))]}function fn(t){var e,n=Ye(t),r=n.scale,o=n.translate,i=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=o.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=i.apply(n,arguments);if(a===n){if(e=null==t){var l=Mi*r(),s=o();i([[s[0]-l,s[1]-l],[s[0]+l,s[1]+l]])}}else e&&(a=null);return a},n.clipExtent(null)}function pn(t,e){return[Math.log(Math.tan(Mi/4+e/2)),-t]}function gn(t){return t[0]}function vn(t){return t[1]}function mn(t){for(var e=t.length,n=[0,1],r=2,o=2;e>o;o++){for(;r>1&&et(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function bn(t,e){return t[0]-e[0]||t[1]-e[1]}function wn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function yn(t,e,n,r){var o=t[0],i=n[0],a=e[0]-o,l=r[0]-i,s=t[1],u=n[1],c=e[1]-s,A=r[1]-u,d=(l*(s-u)-A*(o-i))/(A*a-l*c);return[o+d*a,s+d*c]}function Cn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function xn(t){var e=Ka.pop()||new function(){Wn(this),this.edge=this.site=this.circle=null};return e.site=t,e}function _n(t){Dn(t),Ya.remove(t),Ka.push(t),Wn(t)}function kn(t){var e=t.circle,n=e.x,r=e.cy,o={x:n,y:r},i=t.P,a=t.N,l=[t];_n(t);for(var s=i;s.circle&&ui(n-s.circle.x)<Ei&&ui(r-s.circle.cy)<Ei;)i=s.P,l.unshift(s),_n(s),s=i;l.unshift(s),Dn(s);for(var u=a;u.circle&&ui(n-u.circle.x)<Ei&&ui(r-u.circle.cy)<Ei;)a=u.N,l.push(u),_n(u),u=a;l.push(u),Dn(u);var c,A=l.length;for(c=1;A>c;++c)u=l[c],s=l[c-1],zn(u.edge,s.site,u.site,o);s=l[0],(u=l[A-1]).edge=In(s.site,u.site,null,o),Tn(s),Tn(u)}function Mn(t){for(var e,n,r,o,i=t.x,a=t.y,l=Ya._;l;)if((r=Sn(l,a)-i)>Ei)l=l.L;else{if(!((o=i-Rn(l,a))>Ei)){r>-Ei?(e=l.P,n=l):o>-Ei?(e=l,n=l.N):e=n=l;break}if(!l.R){e=l;break}l=l.R}var s=xn(t);if(Ya.insert(e,s),e||n){if(e===n)return Dn(e),n=xn(e.site),Ya.insert(s,n),s.edge=n.edge=In(e.site,s.site),Tn(e),void Tn(n);if(!n)return void(s.edge=In(e.site,s.site));Dn(e),Dn(n);var u=e.site,c=u.x,A=u.y,d=t.x-c,h=t.y-A,f=n.site,p=f.x-c,g=f.y-A,v=2*(d*g-h*p),m=d*d+h*h,b=p*p+g*g,w={x:(g*m-h*b)/v+c,y:(d*b-p*m)/v+A};zn(n.edge,u,f,w),s.edge=In(u,t,null,w),n.edge=In(t,f,null,w),Tn(e),Tn(n)}}function Sn(t,e){var n=t.site,r=n.x,o=n.y,i=o-e;if(!i)return r;var a=t.P;if(!a)return-1/0;var l=(n=a.site).x,s=n.y,u=s-e;if(!u)return l;var c=l-r,A=1/i-1/u,d=c/u;return A?(-d+Math.sqrt(d*d-2*A*(c*c/(-2*u)-s+u/2+o-i/2)))/A+r:(r+l)/2}function Rn(t,e){var n=t.N;if(n)return Sn(n,e);var r=t.site;return r.y===e?r.x:1/0}function En(t){this.site=t,this.edges=[]}function Nn(t,e){return e.angle-t.angle}function Tn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,o=t.site,i=n.site;if(r!==i){var a=o.x,l=o.y,s=r.x-a,u=r.y-l,c=i.x-a,A=2*(s*(g=i.y-l)-u*c);if(!(A>=-Ni)){var d=s*s+u*u,h=c*c+g*g,f=(g*d-u*h)/A,p=(s*h-c*d)/A,g=p+l,v=Ja.pop()||new function(){Wn(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=o,v.x=f+a,v.y=g+Math.sqrt(f*f+p*p),v.cy=g,t.circle=v;for(var m=null,b=Qa._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}Qa.insert(m,v),m||(Xa=v)}}}}function Dn(t){var e=t.circle;e&&(e.P||(Xa=e.N),Qa.remove(e),Ja.push(e),Wn(e),t.circle=null)}function Ln(t,e){var n=t.b;if(n)return!0;var r,o,i=t.a,a=e[0][0],l=e[1][0],s=e[0][1],u=e[1][1],c=t.l,A=t.r,d=c.x,h=c.y,f=A.x,p=A.y,g=(d+f)/2,v=(h+p)/2;if(p===h){if(a>g||g>=l)return;if(d>f){if(i){if(i.y>=u)return}else i={x:g,y:s};n={x:g,y:u}}else{if(i){if(i.y<s)return}else i={x:g,y:u};n={x:g,y:s}}}else if(o=v-(r=(d-f)/(p-h))*g,-1>r||r>1)if(d>f){if(i){if(i.y>=u)return}else i={x:(s-o)/r,y:s};n={x:(u-o)/r,y:u}}else{if(i){if(i.y<s)return}else i={x:(u-o)/r,y:u};n={x:(s-o)/r,y:s}}else if(p>h){if(i){if(i.x>=l)return}else i={x:a,y:r*a+o};n={x:l,y:r*l+o}}else{if(i){if(i.x<a)return}else i={x:l,y:r*l+o};n={x:a,y:r*a+o}}return t.a=i,t.b=n,!0}function Hn(t,e){this.l=t,this.r=e,this.a=this.b=null}function In(t,e,n,r){var o=new Hn(t,e);return ja.push(o),n&&zn(o,t,e,n),r&&zn(o,e,t,r),Ga[t.i].edges.push(new $n(o,t,e)),Ga[e.i].edges.push(new $n(o,e,t)),o}function Pn(t,e,n){var r=new Hn(t,null);return r.a=e,r.b=n,ja.push(r),r}function zn(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function $n(t,e,n){var r=t.a,o=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function Fn(){this._=null}function Wn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Vn(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Bn(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Un(t){for(;t.L;)t=t.L;return t}function On(t,e){var n,r,o,i=t.sort(qn).pop();for(ja=[],Ga=new Array(t.length),Ya=new Fn,Qa=new Fn;;)if(o=Xa,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))(i.x!==n||i.y!==r)&&(Ga[i.i]=new En(i),Mn(i),n=i.x,r=i.y),i=t.pop();else{if(!o)break;kn(o.arc)}e&&(function(t){for(var e,n=ja,r=He(t[0][0],t[0][1],t[1][0],t[1][1]),o=n.length;o--;)(!Ln(e=n[o],t)||!r(e)||ui(e.a.x-e.b.x)<Ei&&ui(e.a.y-e.b.y)<Ei)&&(e.a=e.b=null,n.splice(o,1))}(e),function(t){for(var e,n,r,o,i,a,l,s,u,c,A=t[0][0],d=t[1][0],h=t[0][1],f=t[1][1],p=Ga,g=p.length;g--;)if((i=p[g])&&i.prepare())for(s=(l=i.edges).length,a=0;s>a;)r=(c=l[a].end()).x,o=c.y,e=(u=l[++a%s].start()).x,n=u.y,(ui(r-e)>Ei||ui(o-n)>Ei)&&(l.splice(a,0,new $n(Pn(i.site,c,ui(r-A)<Ei&&f-o>Ei?{x:A,y:ui(e-A)<Ei?n:f}:ui(o-f)<Ei&&d-r>Ei?{x:ui(n-f)<Ei?e:d,y:f}:ui(r-d)<Ei&&o-h>Ei?{x:d,y:ui(e-d)<Ei?n:h}:ui(o-h)<Ei&&r-A>Ei?{x:ui(n-h)<Ei?e:A,y:h}:null),i.site,null)),++s)}(e));var a={cells:Ga,edges:ja};return Ya=Qa=ja=Ga=null,a}function qn(t,e){return e.y-t.y||e.x-t.x}function jn(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function Gn(t){return t.x}function Yn(t){return t.y}function Xn(t,e){t=Ko.rgb(t),e=Ko.rgb(e);var n=t.r,r=t.g,o=t.b,i=e.r-n,a=e.g-r,l=e.b-o;return function(t){return"#"+_t(Math.round(n+i*t))+_t(Math.round(r+a*t))+_t(Math.round(o+l*t))}}function Qn(t,e){var n,r={},o={};for(n in t)n in e?r[n]=Zn(t[n],e[n]):o[n]=t[n];for(n in e)n in t||(o[n]=e[n]);return function(t){for(n in r)o[n]=r[n](t);return o}}function Kn(t,e){return e-=t=+t,function(n){return t+e*n}}function Jn(t,e){var n,r,o,i=tl.lastIndex=el.lastIndex=0,a=-1,l=[],s=[];for(t+="",e+="";(n=tl.exec(t))&&(r=el.exec(e));)(o=r.index)>i&&(o=e.substring(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:Kn(n,r)})),i=el.lastIndex;return i<e.length&&(o=e.substring(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?(e=s[0].x,function(t){return e(t)+""}):function(){return e}:(e=s.length,function(t){for(var n,r=0;e>r;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}function Zn(t,e){for(var n,r=Ko.interpolators.length;--r>=0&&!(n=Ko.interpolators[r](t,e)););return n}function tr(t,e){var n,r=[],o=[],i=t.length,a=e.length,l=Math.min(t.length,e.length);for(n=0;l>n;++n)r.push(Zn(t[n],e[n]));for(;i>n;++n)o[n]=t[n];for(;a>n;++n)o[n]=e[n];return function(t){for(n=0;l>n;++n)o[n]=r[n](t);return o}}function er(t){return function(e){return 1-t(1-e)}}function nr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function rr(t){return t*t}function or(t){return t*t*t}function ir(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function ar(t){return 1-Math.cos(t*Ri)}function lr(t){return Math.pow(2,10*(t-1))}function sr(t){return 1-Math.sqrt(1-t*t)}function ur(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function cr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ar(t){var e=[t.a,t.b],n=[t.c,t.d],r=hr(e),o=dr(e,n),i=hr(function(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}(n,e,-o))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,o*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Di,this.translate=[t.e,t.f],this.scale=[r,i],this.skew=i?Math.atan2(o,i)*Di:0}function dr(t,e){return t[0]*e[0]+t[1]*e[1]}function hr(t){var e=Math.sqrt(dr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function fr(t,e){var n,r=[],o=[],i=Ko.transform(t),a=Ko.transform(e),l=i.translate,s=a.translate,u=i.rotate,c=a.rotate,A=i.skew,d=a.skew,h=i.scale,f=a.scale;return l[0]!=s[0]||l[1]!=s[1]?(r.push("translate(",null,",",null,")"),o.push({i:1,x:Kn(l[0],s[0])},{i:3,x:Kn(l[1],s[1])})):s[0]||s[1]?r.push("translate("+s+")"):r.push(""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),o.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:Kn(u,c)})):c&&r.push(r.pop()+"rotate("+c+")"),A!=d?o.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:Kn(A,d)}):d&&r.push(r.pop()+"skewX("+d+")"),h[0]!=f[0]||h[1]!=f[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),o.push({i:n-4,x:Kn(h[0],f[0])},{i:n-2,x:Kn(h[1],f[1])})):(1!=f[0]||1!=f[1])&&r.push(r.pop()+"scale("+f+")"),n=o.length,function(t){for(var e,i=-1;++i<n;)r[(e=o[i]).i]=e.x(t);return r.join("")}}function pr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function gr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function vr(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;for(var n=mr(t),r=mr(e),o=n.pop(),i=r.pop(),a=null;o===i;)a=o,o=n.pop(),i=r.pop();return a}(e,n),o=[e];e!==r;)e=e.parent,o.push(e);for(var i=o.length;n!==r;)o.splice(i,0,n),n=n.parent;return o}function mr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function br(t){t.fixed|=2}function wr(t){t.fixed&=-7}function yr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Cr(t){t.fixed&=-5}function xr(t,e){return Ko.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Sr,t}function _r(t){return t.children}function kr(t){return t.value}function Mr(t,e){return e.value-t.value}function Sr(t){return Ko.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function Rr(t){return t.x}function Er(t){return t.y}function Nr(t,e,n){t.y0=e,t.y=n}function Tr(t){return Ko.range(t.length)}function Dr(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Lr(t){for(var e,n=1,r=0,o=t[0][1],i=t.length;i>n;++n)(e=t[n][1])>o&&(r=n,o=e);return r}function Hr(t){return t.reduce(Ir,0)}function Ir(t,e){return t+e[1]}function Pr(t,e){return zr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function zr(t,e){for(var n=-1,r=+t[0],o=(t[1]-r)/e,i=[];++n<=e;)i[n]=o*n+r;return i}function $r(t){return[Ko.min(t),Ko.max(t)]}function Fr(t,e){return t.parent==e.parent?1:2}function Wr(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function Vr(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function Br(t,e){var n=t.children;if(n&&(o=n.length))for(var r,o,i=-1;++i<o;)e(r=Br(n[i],e),t)>0&&(t=r);return t}function Ur(t,e){return t.x-e.x}function Or(t,e){return e.x-t.x}function qr(t,e){return t.depth-e.depth}function jr(t,e){!function t(n,r){var o=n.children;if(o&&(a=o.length))for(var i,a,l=null,s=-1;++s<a;)t(i=o[s],l),l=i;e(n,r)}(t,null)}function Gr(t,e,n){t=t._tree;var r=n/((e=e._tree).number-t.number);t.change+=r,e.change-=r,e.shift+=n,e.prelim+=n,e.mod+=n}function Yr(t,e,n){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:n}function Xr(t,e){return t.value-e.value}function Qr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Kr(t,e){t._pack_next=e,e._pack_prev=t}function Jr(t,e){var n=e.x-t.x,r=e.y-t.y,o=t.r+e.r;return.999*o*o>n*n+r*r}function Zr(t){function e(t){c=Math.min(t.x-t.r,c),A=Math.max(t.x+t.r,A),d=Math.min(t.y-t.r,d),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(u=n.length)){var n,r,o,i,a,l,s,u,c=1/0,A=-1/0,d=1/0,h=-1/0;if(n.forEach(to),(r=n[0]).x=-r.r,r.y=0,e(r),u>1&&((o=n[1]).x=o.r,o.y=0,e(o),u>2))for(no(r,o,i=n[2]),e(i),Qr(r,i),r._pack_prev=i,Qr(i,o),o=r._pack_next,a=3;u>a;a++){no(r,o,i=n[a]);var f=0,p=1,g=1;for(l=o._pack_next;l!==o;l=l._pack_next,p++)if(Jr(l,i)){f=1;break}if(1==f)for(s=r._pack_prev;s!==l._pack_prev&&!Jr(s,i);s=s._pack_prev,g++);f?(g>p||p==g&&o.r<r.r?Kr(r,o=l):Kr(r=s,o),a--):(Qr(r,i),o=i,e(i))}var v=(c+A)/2,m=(d+h)/2,b=0;for(a=0;u>a;a++)(i=n[a]).x-=v,i.y-=m,b=Math.max(b,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=b,n.forEach(eo)}}function to(t){t._pack_next=t._pack_prev=t}function eo(t){delete t._pack_next,delete t._pack_prev}function no(t,e,n){var r=t.r+n.r,o=e.x-t.x,i=e.y-t.y;if(r&&(o||i)){var a=e.r+n.r,l=o*o+i*i,s=.5+((r*=r)-(a*=a))/(2*l),u=Math.sqrt(Math.max(0,2*a*(r+l)-(r-=l)*r-a*a))/(2*l);n.x=t.x+s*o+u*i,n.y=t.y+s*i-u*o}else n.x=t.x+r,n.y=t.y}function ro(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function oo(t,e){var n=t.x+e[3],r=t.y+e[0],o=t.dx-e[1]-e[3],i=t.dy-e[0]-e[2];return 0>o&&(n+=o/2,o=0),0>i&&(r+=i/2,i=0),{x:n,y:r,dx:o,dy:i}}function io(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function ao(t){return t.rangeExtent?t.rangeExtent():io(t.range())}function lo(t,e,n,r){var o=n(t[0],t[1]),i=r(e[0],e[1]);return function(t){return i(o(t))}}function so(t,e){var n,r=0,o=t.length-1,i=t[r],a=t[o];return i>a&&(n=r,r=o,o=n,n=i,i=a,a=n),t[r]=e.floor(i),t[o]=e.ceil(a),t}function uo(t,e,n,r){var o=[],i=[],a=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=l;)o.push(n(t[a-1],t[a])),i.push(r(e[a-1],e[a]));return function(e){var n=Ko.bisect(t,e,1,l)-1;return i[n](o[n](e))}}function co(t,e){return Ko.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ao(t,e){return so(t,function(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:dl}(ho(t,e)[2]))}function ho(t,e){null==e&&(e=10);var n=io(t),r=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),i=e/r*o;return.15>=i?o*=10:.35>=i?o*=5:.75>=i&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function fo(t,e){return Ko.range.apply(Ko,ho(t,e))}function po(t,e,n){var r=ho(t,e);if(n){var o=ta.exec(n);if(o.shift(),"s"===o[8]){var i=Ko.formatPrefix(Math.max(ui(r[0]),ui(r[1])));return o[7]||(o[7]="."+go(i.scale(r[2]))),o[8]="f",n=Ko.format(o.join("")),function(t){return n(i.scale(t))+i.symbol}}o[7]||(o[7]="."+function(t,e){var n=go(e[2]);return t in hl?Math.abs(n-go(Math.max(ui(e[0]),ui(e[1]))))+ +("e"!==t):n-2*("%"===t)}(o[8],r)),n=o.join("")}else n=",."+go(r[2])+"f";return Ko.format(n)}function go(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function vo(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function mo(t){return t.innerRadius}function bo(t){return t.outerRadius}function wo(t){return t.startAngle}function yo(t){return t.endAngle}function Co(t){function e(e){function a(){u.push("M",i(t(c),l))}for(var s,u=[],c=[],A=-1,d=e.length,h=Nt(n),f=Nt(r);++A<d;)o.call(this,s=e[A],A)?c.push([+h.call(this,s,A),+f.call(this,s,A)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=gn,r=vn,o=Me,i=xo,a=i.key,l=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=Cl.get(t)||xo).key,e):a},e.tension=function(t){return arguments.length?(l=t,e):l},e}function xo(t){return t.join("L")}function _o(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("V",(r=t[e])[1],"H",r[0]);return o.join("")}function ko(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r=t[e])[0],"V",r[1]);return o.join("")}function Mo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return xo(t);var n=t.length!=e.length,r="",o=t[0],i=t[1],a=e[0],l=a,s=1;if(n&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],o=t[1],s=2),e.length>1){l=e[1],i=t[s],s++,r+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1];for(var u=2;u<e.length;u++,s++)i=t[s],l=e[u],r+="S"+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1]}if(n){var c=t[s];r+="Q"+(i[0]+2*l[0]/3)+","+(i[1]+2*l[1]/3)+","+c[0]+","+c[1]}return r}function So(t,e){for(var n,r=[],o=(1-e)/2,i=t[0],a=t[1],l=1,s=t.length;++l<s;)n=i,i=a,a=t[l],r.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return r}function Ro(t){if(t.length<3)return xo(t);var e=1,n=t.length,r=t[0],o=r[0],i=r[1],a=[o,o,o,(r=t[1])[0]],l=[i,i,i,r[1]],s=[o,",",i,"L",Eo(kl,a),",",Eo(kl,l)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),l.shift(),l.push(r[1]),No(s,a,l);return t.pop(),s.push("L",r),s.join("")}function Eo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function No(t,e,n){t.push("C",Eo(xl,e),",",Eo(xl,n),",",Eo(_l,e),",",Eo(_l,n),",",Eo(kl,e),",",Eo(kl,n))}function To(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Do(t){for(var e,n,r,o,i=[],a=function(t){for(var e=0,n=t.length-1,r=[],o=t[0],i=t[1],a=r[0]=To(o,i);++e<n;)r[e]=(a+(a=To(o=i,i=t[e+1])))/2;return r[e]=a,r}(t),l=-1,s=t.length-1;++l<s;)e=To(t[l],t[l+1]),ui(e)<Ei?a[l]=a[l+1]=0:(o=(n=a[l]/e)*n+(r=a[l+1]/e)*r)>9&&(o=3*e/Math.sqrt(o),a[l]=o*n,a[l+1]=o*r);for(l=-1;++l<=s;)o=(t[Math.min(s,l+1)][0]-t[Math.max(0,l-1)][0])/(6*(1+a[l]*a[l])),i.push([o||0,a[l]*o||0]);return i}function Lo(t){for(var e,n,r,o=-1,i=t.length;++o<i;)n=(e=t[o])[0],r=e[1]+wl,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Ho(t){function e(e){function s(){p.push("M",l(t(v),A),c,u(t(g.reverse()),A),"Z")}for(var d,h,f,p=[],g=[],v=[],m=-1,b=e.length,w=Nt(n),y=Nt(o),C=n===r?function(){return h}:Nt(r),x=o===i?function(){return f}:Nt(i);++m<b;)a.call(this,d=e[m],m)?(g.push([h=+w.call(this,d,m),f=+y.call(this,d,m)]),v.push([+C.call(this,d,m),+x.call(this,d,m)])):g.length&&(s(),g=[],v=[]);return g.length&&s(),p.length?p.join(""):null}var n=gn,r=gn,o=0,i=vn,a=Me,l=xo,s=l.key,u=l,c="L",A=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(o=i=t,e):i},e.y0=function(t){return arguments.length?(o=t,e):o},e.y1=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?l=t:(l=Cl.get(t)||xo).key,u=l.reverse||l,c=l.closed?"M":"L",e):s},e.tension=function(t){return arguments.length?(A=t,e):A},e}function Io(t){return t.radius}function Po(t){return[t.x,t.y]}function zo(){return 64}function $o(){return"circle"}function Fo(t){var e=Math.sqrt(t/Mi);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Wo(t,e){return fi(t,Tl),t.id=e,t}function Vo(t,e,n,r){var o=t.id;return U(t,"function"==typeof n?function(t,i,a){t.__transition__[o].tween.set(e,r(n.call(t,t.__data__,i,a)))}:(n=r(n),function(t){t.__transition__[o].tween.set(e,n)}))}function Bo(t){return null==t&&(t=""),function(){this.textContent=t}}function Uo(t,e,n,r){var o=t.__transition__||(t.__transition__={active:0,count:0}),i=o[n];if(!i){var a=r.time;i=o[n]={tween:new f,time:a,ease:r.ease,delay:r.delay,duration:r.duration},++o.count,Ko.timer(function(r){function l(r){return o.active>n?u():(o.active=n,i.event&&i.event.start.call(t,c,e),i.tween.forEach(function(n,r){(r=r.call(t,c,e))&&p.push(r)}),void Ko.timer(function(){return f.c=s(r||1)?Me:s,1},0,a))}function s(r){if(o.active!==n)return u();for(var a=r/h,l=A(a),s=p.length;s>0;)p[--s].call(t,l);return a>=1?(i.event&&i.event.end.call(t,c,e),u()):void 0}function u(){return--o.count?delete o[n]:delete t.__transition__,1}var c=t.__data__,A=i.ease,d=i.delay,h=i.duration,f=Ki,p=[];return f.t=d+a,r>=d?l(r-d):void(f.c=l)},0,a)}}function Oo(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function qo(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function jo(t){return t.toISOString()}function Go(t,e,n){function r(e){return t(e)}function o(t,n){var r=(t[1]-t[0])/n,o=Ko.bisect(Wl,r);return o==Wl.length?[e.year,ho(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/Wl[o-1]<Wl[o]/r?o-1:o]:[Ul,ho(t,n)[2]]}return r.invert=function(e){return Yo(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Yo)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Yo(+n+1),e).length}var i=r.domain(),a=io(i),l=null==t?o(a,10):"number"==typeof t&&o(a,t);return l&&(t=l[0],e=l[1]),r.domain(so(i,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Yo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Yo(+e+1);return e}}:t))},r.ticks=function(t,e){var n=io(r.domain()),i=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],Yo(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Go(t.copy(),e,n)},co(r,t)}function Yo(t){return new Date(t)}function Xo(t){return JSON.parse(t.responseText)}function Qo(t){var e=ti.createRange();return e.selectNode(ti.body),e.createContextualFragment(t.responseText)}var Ko={version:"3.4.6"};Date.now||(Date.now=function(){return+new Date});var Jo=[].slice,Zo=function(t){return Jo.call(t)},ti=document,ei=ti.documentElement,ni=window;try{Zo(ei.childNodes)[0].nodeType}catch(t){Zo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{ti.createElement("div").style.setProperty("opacity",0,"")}catch(t){var ri=ni.Element.prototype,oi=ri.setAttribute,ii=ri.setAttributeNS,ai=ni.CSSStyleDeclaration.prototype,li=ai.setProperty;ri.setAttribute=function(t,e){oi.call(this,t,e+"")},ri.setAttributeNS=function(t,e,n){ii.call(this,t,e,n+"")},ai.setProperty=function(t,e,n){li.call(this,t,e+"",n)}}Ko.ascending=n,Ko.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},Ko.min=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i&&!(null!=(n=t[o])&&n>=n);)n=void 0;for(;++o<i;)null!=(r=t[o])&&n>r&&(n=r)}else{for(;++o<i&&!(null!=(n=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<i;)null!=(r=e.call(t,t[o],o))&&n>r&&(n=r)}return n},Ko.max=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i&&!(null!=(n=t[o])&&n>=n);)n=void 0;for(;++o<i;)null!=(r=t[o])&&r>n&&(n=r)}else{for(;++o<i&&!(null!=(n=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<i;)null!=(r=e.call(t,t[o],o))&&r>n&&(n=r)}return n},Ko.extent=function(t,e){var n,r,o,i=-1,a=t.length;if(1===arguments.length){for(;++i<a&&!(null!=(n=o=t[i])&&n>=n);)n=o=void 0;for(;++i<a;)null!=(r=t[i])&&(n>r&&(n=r),r>o&&(o=r))}else{for(;++i<a&&!(null!=(n=o=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<a;)null!=(r=e.call(t,t[i],i))&&(n>r&&(n=r),r>o&&(o=r))}return[n,o]},Ko.sum=function(t,e){var n,r=0,o=t.length,i=-1;if(1===arguments.length)for(;++i<o;)isNaN(n=+t[i])||(r+=n);else for(;++i<o;)isNaN(n=+e.call(t,t[i],i))||(r+=n);return r},Ko.mean=function(t,e){var n,r=0,o=t.length,i=-1,a=o;if(1===arguments.length)for(;++i<o;)c(n=t[i])?r+=n:--a;else for(;++i<o;)c(n=e.call(t,t[i],i))?r+=n:--a;return a?r/a:void 0},Ko.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),o=+t[r-1],i=n-r;return i?o+i*(t[r]-o):o},Ko.median=function(t,e){return arguments.length>1&&(t=t.map(e)),(t=t.filter(c)).length?Ko.quantile(t.sort(n),.5):void 0};var si=A(n);Ko.bisectLeft=si.left,Ko.bisect=Ko.bisectRight=si.right,Ko.bisector=function(t){return A(1===t.length?function(e,r){return n(t(e),r)}:t)},Ko.shuffle=function(t){for(var e,n,r=t.length;r;)n=0|Math.random()*r--,e=t[r],t[r]=t[n],t[n]=e;return t},Ko.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},Ko.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],o=new Array(0>n?0:n);n>e;)o[e]=[r,r=t[++e]];return o},Ko.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=Ko.min(arguments,d),n=new Array(e);++t<e;)for(var r,o=-1,i=n[t]=new Array(r);++o<r;)i[o]=arguments[o][t];return n},Ko.transpose=function(t){return Ko.zip.apply(Ko,t)},Ko.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Ko.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Ko.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Ko.merge=function(t){for(var e,n,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(n=new Array(a);--o>=0;)for(e=(r=t[o]).length;--e>=0;)n[--a]=r[e];return n};var ui=Math.abs;Ko.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),1/0==(e-t)/n)throw new Error("infinite range");var r,o=[],i=function(t){for(var e=1;t*e%1;)e*=10;return e}(ui(n)),a=-1;if(t*=i,e*=i,0>(n*=i))for(;(r=t+n*++a)>e;)o.push(r/i);else for(;(r=t+n*++a)<e;)o.push(r/i);return o},Ko.map=function(t){var e=new f;if(t instanceof f)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},h(f,{has:p,get:function(t){return this[ci+t]},set:function(t,e){return this[ci+t]=e},remove:function(t){return(t=ci+t)in this&&delete this[t]},keys:g,values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},size:v,empty:m,forEach:function(t){for(var e in this)e.charCodeAt(0)===Ai&&t.call(this,e.substring(1),this[e])}});var ci="\0",Ai=ci.charCodeAt(0);Ko.nest=function(){function t(i,a,l){if(l>=o.length)return n?n.call(r,a):e?a.sort(e):a;for(var s,u,c,A,d=-1,h=a.length,p=o[l++],g=new f;++d<h;)(A=g.get(s=p(u=a[d])))?A.push(u):g.set(s,[u]);return i?(u=i(),c=function(e,n){u.set(e,t(i,n,l))}):(u={},c=function(e,n){u[e]=t(i,n,l)}),g.forEach(c),u}var e,n,r={},o=[],i=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(e){return function t(e,n){if(n>=o.length)return e;var r=[],a=i[n++];return e.forEach(function(e,o){r.push({key:e,values:t(o,n)})}),a?r.sort(function(t,e){return a(t.key,e.key)}):r}(t(Ko.map,e,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return i[o.length-1]=t,r},r.sortValues=function(t){return e=t,r},r.rollup=function(t){return n=t,r},r},Ko.set=function(t){var e=new b;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},h(b,{has:p,add:function(t){return this[ci+t]=!0,t},remove:function(t){return(t=ci+t)in this&&delete this[t]},values:g,size:v,empty:m,forEach:function(t){for(var e in this)e.charCodeAt(0)===Ai&&t.call(this,e.substring(1))}}),Ko.behavior={},Ko.rebind=function(t,e){for(var n,r=1,o=arguments.length;++r<o;)t[n=arguments[r]]=w(t,e,e[n]);return t};var di=["webkit","ms","moz","Moz","o","O"];Ko.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=_(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},Ko.event=null,Ko.requote=function(t){return t.replace(hi,"\\$&")};var hi=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,fi={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},pi=function(t,e){return e.querySelector(t)},gi=function(t,e){return e.querySelectorAll(t)},vi=ei[y(ei,"matchesSelector")],mi=function(t,e){return vi.call(t,e)};"function"==typeof Sizzle&&(pi=function(t,e){return Sizzle(t,e)[0]||null},gi=Sizzle,mi=Sizzle.matchesSelector),Ko.selection=function(){return Ci};var bi=Ko.selection.prototype=[];bi.select=function(t){var e,n,r,o,i=[];t=E(t);for(var a=-1,l=this.length;++a<l;){i.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var s=-1,u=r.length;++s<u;)(o=r[s])?(e.push(n=t.call(o,o.__data__,s,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):e.push(null)}return R(i)},bi.selectAll=function(t){var e,n,r=[];t=N(t);for(var o=-1,i=this.length;++o<i;)for(var a=this[o],l=-1,s=a.length;++l<s;)(n=a[l])&&(r.push(e=Zo(t.call(n,n.__data__,l,o))),e.parentNode=n);return R(r)};var wi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Ko.ns={prefix:wi,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),wi.hasOwnProperty(n)?{space:wi[n],local:t}:t}},bi.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=Ko.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(T(e,t[e]));return this}return this.each(T(t,e))},bi.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=H(t)).length,o=-1;if(e=n.classList){for(;++o<r;)if(!e.contains(t[o]))return!1}else for(e=n.getAttribute("class");++o<r;)if(!L(t[o]).test(e))return!1;return!0}for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},bi.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){for(n in 2>r&&(e=""),t)this.each(z(n,t[n],e));return this}if(2>r)return ni.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(z(t,e,n))},bi.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each($(e,t[e]));return this}return this.each($(t,e))},bi.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},bi.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},bi.append=function(t){return t=F(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},bi.insert=function(t,e){return t=F(t),e=E(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},bi.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},bi.data=function(t,e){function n(t,n){var r,o,i,a=t.length,c=n.length,A=Math.min(a,c),d=new Array(c),h=new Array(c),p=new Array(a);if(e){var g,v=new f,m=new f,b=[];for(r=-1;++r<a;)g=e.call(o=t[r],o.__data__,r),v.has(g)?p[r]=o:v.set(g,o),b.push(g);for(r=-1;++r<c;)g=e.call(n,i=n[r],r),(o=v.get(g))?(d[r]=o,o.__data__=i):m.has(g)||(h[r]=W(i)),m.set(g,i),v.remove(g);for(r=-1;++r<a;)v.has(b[r])&&(p[r]=t[r])}else{for(r=-1;++r<A;)o=t[r],i=n[r],o?(o.__data__=i,d[r]=o):h[r]=W(i);for(;c>r;++r)h[r]=W(n[r]);for(;a>r;++r)p[r]=t[r]}h.update=d,h.parentNode=d.parentNode=p.parentNode=t.parentNode,l.push(h),s.push(d),u.push(p)}var r,o,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++i<a;)(o=r[i])&&(t[i]=o.__data__);return t}var l=O([]),s=R([]),u=R([]);if("function"==typeof t)for(;++i<a;)n(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<a;)n(r=this[i],t);return s.enter=function(){return l},s.exit=function(){return u},s},bi.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},bi.filter=function(t){var e,n,r,o=[];"function"!=typeof t&&(t=V(t));for(var i=0,a=this.length;a>i;i++){o.push(e=[]),e.parentNode=(n=this[i]).parentNode;for(var l=0,s=n.length;s>l;l++)(r=n[l])&&t.call(r,r.__data__,l,i)&&e.push(r)}return R(o)},bi.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],o=r.length-1,i=r[o];--o>=0;)(n=r[o])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},bi.sort=function(t){t=B.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},bi.each=function(t){return U(this,function(e,n,r){t.call(e,e.__data__,n,r)})},bi.call=function(t){var e=Zo(arguments);return t.apply(e[0]=this,e),this},bi.empty=function(){return!this.node()},bi.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,o=n.length;o>r;r++){var i=n[r];if(i)return i}return null},bi.size=function(){var t=0;return this.each(function(){++t}),t};var yi=[];Ko.selection.enter=O,Ko.selection.enter.prototype=yi,yi.append=bi.append,yi.empty=bi.empty,yi.node=bi.node,yi.call=bi.call,yi.size=bi.size,yi.select=function(t){for(var e,n,r,o,i,a=[],l=-1,s=this.length;++l<s;){r=(o=this[l]).update,a.push(e=[]),e.parentNode=o.parentNode;for(var u=-1,c=o.length;++u<c;)(i=o[u])?(e.push(r[u]=n=t.call(o.parentNode,i.__data__,u,l)),n.__data__=i.__data__):e.push(null)}return R(a)},yi.insert=function(t,e){return arguments.length<2&&(e=function(t){var e,n;return function(r,o,i){var a,l=t[i].update,s=l.length;for(i!=n&&(n=i,e=0),o>=e&&(e=o+1);!(a=l[e])&&++e<s;);return a}}(this)),bi.insert.call(this,t,e)},bi.transition=function(){for(var t,e,n=Sl||++Dl,r=[],o=Rl||{time:Date.now(),ease:ir,delay:0,duration:250},i=-1,a=this.length;++i<a;){r.push(t=[]);for(var l=this[i],s=-1,u=l.length;++s<u;)(e=l[s])&&Uo(e,s,n,o),t.push(e)}return Wo(r,n)},bi.interrupt=function(){return this.each(q)},Ko.select=function(t){var e=["string"==typeof t?pi(t,ti):t];return e.parentNode=ei,R([e])},Ko.selectAll=function(t){var e=Zo("string"==typeof t?gi(t,ti):t);return e.parentNode=ei,R([e])};var Ci=Ko.select(ei);bi.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){for(n in 2>r&&(e=!1),t)this.each(j(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(j(t,e,n))};var xi=Ko.map({mouseenter:"mouseover",mouseleave:"mouseout"});xi.forEach(function(t){"on"+t in ti&&xi.remove(t)});var _i="onselectstart"in ti?null:y(ei.style,"userSelect"),ki=0;Ko.mouse=function(t){return Q(t,M())},Ko.touches=function(t,e){return arguments.length<2&&(e=M().touches),e?Zo(e).map(function(e){var n=Q(t,e);return n.identifier=e.identifier,n}):[]},Ko.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",i)}function e(t,e,o,i,a){return function(){var l,s=this,u=Ko.event.target,c=s.parentNode,A=n.of(s,arguments),d=0,h=t(),f=".drag"+(null==h?"":"-"+h),p=Ko.select(o()).on(i+f,function(){var t,n,r=e(c,h);r&&(t=r[0]-v[0],n=r[1]-v[1],d|=t|n,v=r,A({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:n}))}).on(a+f,function(){e(c,h)&&(p.on(i+f,null).on(a+f,null),g(d&&Ko.event.target===u),A({type:"dragend"}))}),g=X(),v=e(c,h);r?l=[(l=r.apply(s,arguments)).x-v[0],l.y-v[1]]:l=[0,0],A({type:"dragstart"})}}var n=S(t,"drag","dragstart","dragend"),r=null,o=e(C,Ko.mouse,Z,"mousemove","mouseup"),i=e(K,Ko.touch,J,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},Ko.rebind(t,n,"on")};var Mi=Math.PI,Si=2*Mi,Ri=Mi/2,Ei=1e-6,Ni=Ei*Ei,Ti=Mi/180,Di=180/Mi,Li=Math.SQRT2,Hi=2;Ko.interpolateZoom=function(t,e){function n(t){var e=t*v;if(g){var n=ot(p),a=i/(Hi*d)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Li*e+p)-function(t){return((t=Math.exp(t))-1/t)/2}(p));return[r+a*u,o+a*c,i*n/ot(Li*e+p)]}return[r+t*u,o+t*c,i*Math.exp(Li*e)]}var r=t[0],o=t[1],i=t[2],a=e[0],l=e[1],s=e[2],u=a-r,c=l-o,A=u*u+c*c,d=Math.sqrt(A),h=(s*s-i*i+4*A)/(2*i*Hi*d),f=(s*s-i*i-4*A)/(2*s*Hi*d),p=Math.log(Math.sqrt(h*h+1)-h),g=Math.log(Math.sqrt(f*f+1)-f)-p,v=(g||Math.log(s/i))/Li;return n.duration=1e3*v,n},Ko.behavior.zoom=function(){function t(t){t.on(_,s).on(zi+".zoom",c).on(M,A).on("dblclick.zoom",d).on(E,u)}function e(t){return[(t[0]-y.x)/y.k,(t[1]-y.y)/y.k]}function n(t){y.k=Math.max(x[0],Math.min(x[1],t))}function r(t,e){e=function(t){return[t[0]*y.k+y.x,t[1]*y.k+y.y]}(e),y.x+=t[0]-e[0],y.y+=t[1]-e[1]}function o(){m&&m.domain(v.range().map(function(t){return(t-y.x)/y.k}).map(v.invert)),w&&w.domain(b.range().map(function(t){return(t-y.y)/y.k}).map(b.invert))}function i(t){t({type:"zoomstart"})}function a(t){o(),t({type:"zoom",scale:y.k,translate:[y.x,y.y]})}function l(t){t({type:"zoomend"})}function s(){var t=this,n=Ko.event.target,o=N.of(t,arguments),s=0,u=Ko.select(ni).on(M,function(){s=1,r(Ko.mouse(t),c),a(o)}).on(R,function(){u.on(M,ni===t?A:null).on(R,null),d(s&&Ko.event.target===n),l(o)}),c=e(Ko.mouse(t)),d=X();q.call(t),i(o)}function u(){function t(){var t=Ko.touches(A);return c=y.k,t.forEach(function(t){t.identifier in h&&(h[t.identifier]=e(t))}),t}function o(){for(var e=Ko.event.changedTouches,o=0,i=e.length;i>o;++o)h[e[o].identifier]=null;var l=t(),s=Date.now();if(1===l.length){if(500>s-g){var u=l[0],c=h[u.identifier];n(2*y.k),r(u,c),k(),a(d)}g=s}else if(l.length>1){u=l[0];var A=l[1],p=u[0]-A[0],v=u[1]-A[1];f=p*p+v*v}}var c,A=this,d=N.of(A,arguments),h={},f=0,p=".zoom-"+Ko.event.changedTouches[0].identifier,v="touchmove"+p,m="touchend"+p,b=Ko.select(Ko.event.target).on(v,function(){for(var t,e,o,i,l=Ko.touches(A),s=0,u=l.length;u>s;++s,i=null)if(o=l[s],i=h[o.identifier]){if(e)break;t=o,e=i}if(i){var p=(p=o[0]-t[0])*p+(p=o[1]-t[1])*p,v=f&&Math.sqrt(p/f);t=[(t[0]+o[0])/2,(t[1]+o[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],n(v*c)}g=null,r(t,e),a(d)}).on(m,function(){if(Ko.event.touches.length){for(var e=Ko.event.changedTouches,n=0,r=e.length;r>n;++n)delete h[e[n].identifier];for(var o in h)return void t()}b.on(p,null),w.on(_,s).on(E,u),C(),l(d)}),w=Ko.select(A).on(_,null).on(E,o),C=X();q.call(A),o(),i(d)}function c(){var t=N.of(this,arguments);p?clearTimeout(p):(q.call(this),i(t)),p=setTimeout(function(){p=null,l(t)},50),k();var o=f||Ko.mouse(this);h||(h=e(o)),n(Math.pow(2,.002*Ii())*y.k),r(o,h),a(t)}function A(){h=null}function d(){var t=N.of(this,arguments),o=Ko.mouse(this),s=e(o),u=Math.log(y.k)/Math.LN2;i(t),n(Math.pow(2,Ko.event.shiftKey?Math.ceil(u)-1:Math.floor(u)+1)),r(o,s),a(t),l(t)}var h,f,p,g,v,m,b,w,y={x:0,y:0,k:1},C=[960,500],x=Pi,_="mousedown.zoom",M="mousemove.zoom",R="mouseup.zoom",E="touchstart.zoom",N=S(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=N.of(this,arguments),e=y;Sl?Ko.select(this).transition().each("start.zoom",function(){y=this.__chart__||{x:0,y:0,k:1},i(t)}).tween("zoom:zoom",function(){var n=C[0],r=C[1],o=n/2,i=r/2,l=Ko.interpolateZoom([(o-y.x)/y.k,(i-y.y)/y.k,n/y.k],[(o-e.x)/e.k,(i-e.y)/e.k,n/e.k]);return function(e){var r=l(e),s=n/r[2];this.__chart__=y={x:o-r[0]*s,y:i-r[1]*s,k:s},a(t)}}).each("end.zoom",function(){l(t)}):(this.__chart__=y,i(t),a(t),l(t))})},t.translate=function(e){return arguments.length?(y={x:+e[0],y:+e[1],k:y.k},o(),t):[y.x,y.y]},t.scale=function(e){return arguments.length?(y={x:y.x,y:y.y,k:+e},o(),t):y.k},t.scaleExtent=function(e){return arguments.length?(x=null==e?Pi:[+e[0],+e[1]],t):x},t.center=function(e){return arguments.length?(f=e&&[+e[0],+e[1]],t):f},t.size=function(e){return arguments.length?(C=e&&[+e[0],+e[1]],t):C},t.x=function(e){return arguments.length?(m=e,v=e.copy(),y={x:0,y:0,k:1},t):m},t.y=function(e){return arguments.length?(w=e,b=e.copy(),y={x:0,y:0,k:1},t):w},Ko.rebind(t,N,"on")};var Ii,Pi=[0,1/0],zi="onwheel"in ti?(Ii=function(){return-Ko.event.deltaY*(Ko.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ti?(Ii=function(){return Ko.event.wheelDelta},"mousewheel"):(Ii=function(){return-Ko.event.detail},"MozMousePixelScroll");at.prototype.toString=function(){return this.rgb()+""},Ko.hsl=function(t,e,n){return 1===arguments.length?t instanceof st?lt(t.h,t.s,t.l):kt(""+t,Mt,lt):lt(+t,+e,+n)};var $i=st.prototype=new at;$i.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),lt(this.h,this.s,this.l/t)},$i.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),lt(this.h,this.s,t*this.l)},$i.rgb=function(){return ut(this.h,this.s,this.l)},Ko.hcl=function(t,e,n){return 1===arguments.length?t instanceof At?ct(t.h,t.c,t.l):gt(t instanceof ft?t.l:(t=St((t=Ko.rgb(t)).r,t.g,t.b)).l,t.a,t.b):ct(+t,+e,+n)};var Fi=At.prototype=new at;Fi.brighter=function(t){return ct(this.h,this.c,Math.min(100,this.l+Wi*(arguments.length?t:1)))},Fi.darker=function(t){return ct(this.h,this.c,Math.max(0,this.l-Wi*(arguments.length?t:1)))},Fi.rgb=function(){return dt(this.h,this.c,this.l).rgb()},Ko.lab=function(t,e,n){return 1===arguments.length?t instanceof ft?ht(t.l,t.a,t.b):t instanceof At?dt(t.l,t.c,t.h):St((t=Ko.rgb(t)).r,t.g,t.b):ht(+t,+e,+n)};var Wi=18,Vi=.95047,Bi=1,Ui=1.08883,Oi=ft.prototype=new at;Oi.brighter=function(t){return ht(Math.min(100,this.l+Wi*(arguments.length?t:1)),this.a,this.b)},Oi.darker=function(t){return ht(Math.max(0,this.l-Wi*(arguments.length?t:1)),this.a,this.b)},Oi.rgb=function(){return pt(this.l,this.a,this.b)},Ko.rgb=function(t,e,n){return 1===arguments.length?t instanceof xt?Ct(t.r,t.g,t.b):kt(""+t,Ct,ut):Ct(~~t,~~e,~~n)};var qi=xt.prototype=new at;qi.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,o=30;return e||n||r?(e&&o>e&&(e=o),n&&o>n&&(n=o),r&&o>r&&(r=o),Ct(Math.min(255,~~(e/t)),Math.min(255,~~(n/t)),Math.min(255,~~(r/t)))):Ct(o,o,o)},qi.darker=function(t){return Ct(~~((t=Math.pow(.7,arguments.length?t:1))*this.r),~~(t*this.g),~~(t*this.b))},qi.hsl=function(){return Mt(this.r,this.g,this.b)},qi.toString=function(){return"#"+_t(this.r)+_t(this.g)+_t(this.b)};var ji=Ko.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ji.forEach(function(t,e){ji.set(t,wt(e))}),Ko.functor=Nt,Ko.xhr=Dt(Tt),Ko.dsv=function(t,e){function n(t,n,i){arguments.length<3&&(i=n,n=null);var a=Lt(t,e,null==n?r:o(n),i);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:o(t)):n},a}function r(t){return n.parse(t.responseText)}function o(t){return function(e){return n.parse(e.responseText,t)}}function i(e){return e.map(a).join(t)}function a(t){return l.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var l=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var o=new Function("d","return {"+t.map(function(t,e){return(0,s.default)(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(o(t),n)}:o})},n.parseRows=function(t,e){function n(){if(c>=s)return a;if(o)return o=!1,i;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<s;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return c=n+2,13===(r=t.charCodeAt(n+1))?(o=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(o=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;s>c;){var r,l=1;if(10===(r=t.charCodeAt(c++)))o=!0;else if(13===r)o=!0,10===t.charCodeAt(c)&&(++c,++l);else if(r!==u)continue;return t.substring(e,c-l)}return t.substring(e)}for(var r,o,i={},a={},l=[],s=t.length,c=0,A=0;(r=n())!==a;){for(var d=[];r!==i&&r!==a;)d.push(r),r=n();(!e||(d=e(d,A++)))&&l.push(d)}return l},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new b,o=[];return e.forEach(function(t){for(var e in t)r.has(e)||o.push(r.add(e))}),[o.map(a).join(t)].concat(e.map(function(e){return o.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(i).join("\n")},n},Ko.csv=Ko.dsv(",","text/csv"),Ko.tsv=Ko.dsv("\t","text/tab-separated-values"),Ko.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=M().changedTouches),e)for(var r,o=0,i=e.length;i>o;++o)if((r=e[o]).identifier===n)return Q(t,r)};var Gi,Yi,Xi,Qi,Ki,Ji=ni[y(ni,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Ko.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var o={c:t,t:n+e,f:!1,n:null};Yi?Yi.n=o:Gi=o,Yi=o,Xi||(Qi=clearTimeout(Qi),Xi=1,Ji(Ht))},Ko.timer.flush=function(){It(),Pt()},Ko.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Zi=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*ui(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});Ko.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=Ko.round(t,zt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Zi[8+n/3]};var ta=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ea=Ko.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Ko.round(t,zt(t,e))).toFixed(Math.max(0,Math.min(20,zt(t*(1+1e-15),e))))}}),na=Ko.time={},ra=Date;Ft.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){oa.setUTCDate.apply(this._,arguments)},setDay:function(){oa.setUTCDay.apply(this._,arguments)},setFullYear:function(){oa.setUTCFullYear.apply(this._,arguments)},setHours:function(){oa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){oa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){oa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){oa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){oa.setUTCSeconds.apply(this._,arguments)},setTime:function(){oa.setTime.apply(this._,arguments)}};var oa=Date.prototype;na.year=Wt(function(t){return(t=na.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),na.years=na.year.range,na.years.utc=na.year.utc.range,na.day=Wt(function(t){var e=new ra(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),na.days=na.day.range,na.days.utc=na.day.utc.range,na.dayOfYear=function(t){var e=na.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=na[t]=Wt(function(t){return(t=na.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=na.year(t).getDay();return Math.floor((na.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});na[t+"s"]=n.range,na[t+"s"].utc=n.utc.range,na[t+"OfYear"]=function(t){var n=na.year(t).getDay();return Math.floor((na.dayOfYear(t)+(n+e)%7)/7)}}),na.week=na.sunday,na.weeks=na.sunday.range,na.weeks.utc=na.sunday.utc.range,na.weekOfYear=na.sundayOfYear;var ia={"-":"",_:" ",0:"0"},aa=/^\s*\d+/,la=/^%/;Ko.locale=function(t){return{numberFormat:function(t){var e=t.decimal,n=t.thousands,r=t.grouping,o=t.currency,i=r?function(t){for(var e=t.length,o=[],i=0,a=r[0];e>0&&a>0;)o.push(t.substring(e-=a,e+a)),a=r[i=(i+1)%r.length];return o.reverse().join(n)}:Tt;return function(t){var n=ta.exec(t),r=n[1]||" ",a=n[2]||">",l=n[3]||"",s=n[4]||"",u=n[5],c=+n[6],A=n[7],d=n[8],h=n[9],f=1,p="",g="",v=!1;switch(d&&(d=+d.substring(1)),(u||"0"===r&&"="===a)&&(u=r="0",a="=",A&&(c-=Math.floor((c-1)/4))),h){case"n":A=!0,h="g";break;case"%":f=100,g="%",h="f";break;case"p":f=100,g="%",h="r";break;case"b":case"o":case"x":case"X":"#"===s&&(p="0"+h.toLowerCase());case"c":case"d":v=!0,d=0;break;case"s":f=-1,h="r"}"$"===s&&(p=o[0],g=o[1]),"r"!=h||d||(h="g"),null!=d&&("g"==h?d=Math.max(1,Math.min(21,d)):("e"==h||"f"==h)&&(d=Math.max(0,Math.min(20,d)))),h=ea.get(h)||$t;var m=u&&A;return function(t){var n=g;if(v&&t%1)return"";var o=0>t||0===t&&0>1/t?(t=-t,"-"):l;if(0>f){var s=Ko.formatPrefix(t,d);t=s.scale(t),n=s.symbol+g}else t*=f;var b=(t=h(t,d)).lastIndexOf("."),w=0>b?t:t.substring(0,b),y=0>b?"":e+t.substring(b+1);!u&&A&&(w=i(w));var C=p.length+w.length+y.length+(m?0:o.length),x=c>C?new Array(C=c-C+1).join(r):"";return m&&(w=i(x+w)),o+=p,t=w+y,("<"===a?o+t+x:">"===a?x+o+t:"^"===a?x.substring(0,C>>=1)+o+t+x.substring(C):o+(m?t:x+t))+n}}}(t),timeFormat:function(t){function e(t){function e(e){for(var n,o,i,a=[],l=-1,s=0;++l<r;)37===t.charCodeAt(l)&&(a.push(t.substring(s,l)),null!=(o=ia[n=t.charAt(++l)])&&(n=t.charAt(++l)),(i=w[n])&&(n=i(e,null==o?"e"===n?" ":"0":o)),a.push(n),s=l+1);return a.push(t.substring(s,l)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,t,e,0)!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&ra!==Ft,i=new(o?Ft:ra);return"j"in r?i.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(i.setFullYear(r.y,0,1),i.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(i.getDay()+5)%7:r.w+7*r.U-(i.getDay()+6)%7)):i.setFullYear(r.y,r.m,r.d),i.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),o?i._:i},e.toString=function(){return t},e}function n(t,e,n,r){for(var o,i,a,l=0,s=e.length,u=n.length;s>l;){if(r>=u)return-1;if(37===(o=e.charCodeAt(l++))){if(a=e.charAt(l++),!(i=y[a in ia?e.charAt(l++):a])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}var r=t.dateTime,o=t.date,i=t.time,a=t.periods,l=t.days,s=t.shortDays,u=t.months,c=t.shortMonths;e.utc=function(t){function n(t){try{var e=new(ra=Ft);return e._=t,r(e)}finally{ra=Date}}var r=e(t);return n.parse=function(t){try{ra=Ft;var e=r.parse(t);return e&&e._}finally{ra=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=ae;var A=Ko.map(),d=Ut(l),h=Ot(l),f=Ut(s),p=Ot(s),g=Ut(u),v=Ot(u),m=Ut(c),b=Ot(c);a.forEach(function(t,e){A.set(t.toLowerCase(),e)});var w={a:function(t){return s[t.getDay()]},A:function(t){return l[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:e(r),d:function(t,e){return Bt(t.getDate(),e,2)},e:function(t,e){return Bt(t.getDate(),e,2)},H:function(t,e){return Bt(t.getHours(),e,2)},I:function(t,e){return Bt(t.getHours()%12||12,e,2)},j:function(t,e){return Bt(1+na.dayOfYear(t),e,3)},L:function(t,e){return Bt(t.getMilliseconds(),e,3)},m:function(t,e){return Bt(t.getMonth()+1,e,2)},M:function(t,e){return Bt(t.getMinutes(),e,2)},p:function(t){return a[+(t.getHours()>=12)]},S:function(t,e){return Bt(t.getSeconds(),e,2)},U:function(t,e){return Bt(na.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Bt(na.mondayOfYear(t),e,2)},x:e(o),X:e(i),y:function(t,e){return Bt(t.getFullYear()%100,e,2)},Y:function(t,e){return Bt(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},y={a:function(t,e,n){f.lastIndex=0;var r=f.exec(e.substring(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){d.lastIndex=0;var r=d.exec(e.substring(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){m.lastIndex=0;var r=m.exec(e.substring(n));return r?(t.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){g.lastIndex=0;var r=g.exec(e.substring(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,r){return n(t,w.c.toString(),e,r)},d:Jt,e:Jt,H:te,I:te,j:Zt,L:re,m:Kt,M:ee,p:function(t,e,n){var r=A.get(e.substring(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:ne,U:jt,w:qt,W:Gt,x:function(t,e,r){return n(t,w.x.toString(),e,r)},X:function(t,e,r){return n(t,w.X.toString(),e,r)},y:Xt,Y:Yt,Z:Qt,"%":ie};return e}(t)}};var sa=Ko.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Ko.format=sa.numberFormat,Ko.geo={},le.prototype={s:0,t:0,add:function(t){se(t,this.t,ua),se(ua.s,this.s,this),this.s?this.t+=ua.t:this.s=ua.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ua=new le;Ko.geo.stream=function(t,e){t&&ca.hasOwnProperty(t.type)?ca[t.type](t,e):ue(t,e)};var ca={Feature:function(t,e){ue(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)ue(n[r].geometry,e)}},Aa={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ce(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)ce(n[r],e,0)},Polygon:function(t,e){Ae(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Ae(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)ue(n[r],e)}};Ko.geo.area=function(t){return da=0,Ko.geo.stream(t,fa),da};var da,ha=new le,fa={sphere:function(){da+=4*Mi},point:C,lineStart:C,lineEnd:C,polygonStart:function(){ha.reset(),fa.lineStart=de},polygonEnd:function(){var t=2*ha;da+=0>t?4*Mi+t:t,fa.lineStart=fa.lineEnd=fa.point=C}};Ko.geo.bounds=function(){function t(t,e){b.push(w=[c=t,d=t]),A>e&&(A=e),e>h&&(h=e)}function e(e,n){var r=he([e*Ti,n*Ti]);if(v){var o=pe(v,r),i=pe([o[1],-o[0],0],o);me(i),i=be(i);var a=e-f,s=a>0?1:-1,u=i[0]*Di*s,p=ui(a)>180;if(p^(u>s*f&&s*e>u))(g=i[1]*Di)>h&&(h=g);else if(p^((u=(u+360)%360-180)>s*f&&s*e>u)){var g=-i[1]*Di;A>g&&(A=g)}else A>n&&(A=n),n>h&&(h=n);p?f>e?l(c,e)>l(c,d)&&(d=e):l(e,d)>l(c,d)&&(c=e):d>=c?(c>e&&(c=e),e>d&&(d=e)):e>f?l(c,e)>l(c,d)&&(d=e):l(e,d)>l(c,d)&&(c=e)}else t(e,n);v=r,f=e}function n(){y.point=e}function r(){w[0]=c,w[1]=d,y.point=t,v=null}function o(t,n){if(v){var r=t-f;m+=ui(r)>180?r+(r>0?360:-360):r}else p=t,g=n;fa.point(t,n),e(t,n)}function i(){fa.lineStart()}function a(){o(p,g),fa.lineEnd(),ui(m)>Ei&&(c=-(d=180)),w[0]=c,w[1]=d,v=null}function l(t,e){return(e-=t)<0?e+360:e}function s(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,A,d,h,f,p,g,v,m,b,w,y={point:t,lineStart:n,lineEnd:r,polygonStart:function(){y.point=o,y.lineStart=i,y.lineEnd=a,m=0,fa.polygonStart()},polygonEnd:function(){fa.polygonEnd(),y.point=t,y.lineStart=n,y.lineEnd=r,0>ha?(c=-(d=180),A=-(h=90)):m>Ei?h=90:-Ei>m&&(A=-90),w[0]=c,w[1]=d}};return function(t){if(h=d=-(c=A=1/0),b=[],Ko.geo.stream(t,y),i=b.length){b.sort(s);for(var e=1,n=[f=b[0]];i>e;++e)u((o=b[e])[0],f)||u(o[1],f)?(l(f[0],o[1])>l(f[0],f[1])&&(f[1]=o[1]),l(o[0],f[1])>l(f[0],f[1])&&(f[0]=o[0])):n.push(f=o);for(var r,o,i,a=-1/0,f=(e=0,n[i=n.length-1]);i>=e;f=o,++e)o=n[e],(r=l(f[1],o[0]))>a&&(a=r,c=o[0],d=f[1])}return b=w=null,1/0===c||1/0===A?[[NaN,NaN],[NaN,NaN]]:[[c,A],[d,h]]}}(),Ko.geo.centroid=function(t){pa=ga=va=ma=ba=wa=ya=Ca=xa=_a=ka=0,Ko.geo.stream(t,Ma);var e=xa,n=_a,r=ka,o=e*e+n*n+r*r;return Ni>o&&(e=wa,n=ya,r=Ca,Ei>ga&&(e=va,n=ma,r=ba),Ni>(o=e*e+n*n+r*r))?[NaN,NaN]:[Math.atan2(n,e)*Di,rt(r/Math.sqrt(o))*Di]};var pa,ga,va,ma,ba,wa,ya,Ca,xa,_a,ka,Ma={sphere:C,point:ye,lineStart:xe,lineEnd:_e,polygonStart:function(){Ma.lineStart=ke},polygonEnd:function(){Ma.lineStart=xe}},Sa=Ne(Me,function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var l=i>0?Mi:-Mi,s=ui(i-n);ui(s-Mi)<Ei?(t.point(n,r=(r+a)/2>0?Ri:-Ri),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(i,r),e=0):o!==l&&s>=Mi&&(ui(n-o)<Ei&&(n-=o*Ei),ui(i-l)<Ei&&(i-=l*Ei),r=function(t,e,n,r){var o,i,a=Math.sin(t-n);return ui(a)>Ei?Math.atan((Math.sin(e)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(o=Math.cos(e))*Math.sin(t))/(o*i*a)):(e+r)/2}(n,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=i,r=a),o=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var o;if(null==t)o=n*Ri,r.point(-Mi,o),r.point(0,o),r.point(Mi,o),r.point(Mi,0),r.point(Mi,-o),r.point(0,-o),r.point(-Mi,-o),r.point(-Mi,0),r.point(-Mi,o);else if(ui(t[0]-e[0])>Ei){var i=t[0]<e[0]?Mi:-Mi;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])},[-Mi,-Mi/2]),Ra=1e9;Ko.geo.clipExtent=function(){var t,e,n,r,o,i,a={stream:function(t){return o&&(o.valid=!1),(o=i(t)).valid=!0,o},extent:function(l){return arguments.length?(i=Ie(t=+l[0][0],e=+l[0][1],n=+l[1][0],r=+l[1][1]),o&&(o.valid=!1,o=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(Ko.geo.conicEqualArea=function(){return ze($e)}).raw=$e,Ko.geo.albers=function(){return Ko.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Ko.geo.albersUsa=function(){function t(t){var i=t[0],a=t[1];return e=null,n(i,a),e||(r(i,a),e)||o(i,a),e}var e,n,r,o,i=Ko.geo.albers(),a=Ko.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Ko.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&.234>o&&r>=-.425&&-.214>r?a:o>=.166&&.234>o&&r>=-.214&&-.115>r?l:i).invert(t)},t.stream=function(t){var e=i.stream(t),n=a.stream(t),r=l.stream(t);return{point:function(t,o){e.point(t,o),n.point(t,o),r.point(t,o)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(i.precision(e),a.precision(e),l.precision(e),t):i.precision()},t.scale=function(e){return arguments.length?(i.scale(e),a.scale(.35*e),l.scale(e),t.translate(i.translate())):i.scale()},t.translate=function(e){if(!arguments.length)return i.translate();var u=i.scale(),c=+e[0],A=+e[1];return n=i.translate(e).clipExtent([[c-.455*u,A-.238*u],[c+.455*u,A+.238*u]]).stream(s).point,r=a.translate([c-.307*u,A+.201*u]).clipExtent([[c-.425*u+Ei,A+.12*u+Ei],[c-.214*u-Ei,A+.234*u-Ei]]).stream(s).point,o=l.translate([c-.205*u,A+.212*u]).clipExtent([[c-.214*u+Ei,A+.166*u+Ei],[c-.115*u-Ei,A+.234*u-Ei]]).stream(s).point,t},t.scale(1070)};var Ea,Na,Ta,Da,La,Ha,Ia={point:C,lineStart:C,lineEnd:C,polygonStart:function(){Na=0,Ia.lineStart=Fe},polygonEnd:function(){Ia.lineStart=Ia.lineEnd=Ia.point=C,Ea+=ui(Na/2)}},Pa={point:function(t,e){Ta>t&&(Ta=t),t>La&&(La=t),Da>e&&(Da=e),e>Ha&&(Ha=e)},lineStart:C,lineEnd:C,polygonStart:C,polygonEnd:C},za={point:Ve,lineStart:Be,lineEnd:Ue,polygonStart:function(){za.lineStart=Oe},polygonEnd:function(){za.point=Ve,za.lineStart=Be,za.lineEnd=Ue}};Ko.geo.path=function(){function t(t){return t&&("function"==typeof l&&i.pointRadius(+l.apply(this,arguments)),a&&a.valid||(a=o(i)),Ko.geo.stream(t,a)),i.result()}function e(){return a=null,t}var n,r,o,i,a,l=4.5;return t.area=function(t){return Ea=0,Ko.geo.stream(t,o(Ia)),Ea},t.centroid=function(t){return va=ma=ba=wa=ya=Ca=xa=_a=ka=0,Ko.geo.stream(t,o(za)),ka?[xa/ka,_a/ka]:Ca?[wa/Ca,ya/Ca]:ba?[va/ba,ma/ba]:[NaN,NaN]},t.bounds=function(t){return La=Ha=-(Ta=Da=1/0),Ko.geo.stream(t,o(Pa)),[[Ta,Da],[La,Ha]]},t.projection=function(t){return arguments.length?(o=(n=t)?t.stream||function(t){var e=qe(function(e,n){return t([e*Di,n*Di])});return function(t){return Qe(e(t))}}(t):Tt,e()):n},t.context=function(t){return arguments.length?(i=null==(r=t)?new function(){function t(t,e){a.push("M",t,",",e,i)}function e(t,e){a.push("M",t,",",e),l.point=n}function n(t,e){a.push("L",t,",",e)}function r(){l.point=t}function o(){a.push("Z")}var i=We(4.5),a=[],l={point:t,lineStart:function(){l.point=e},lineEnd:r,polygonStart:function(){l.lineEnd=o},polygonEnd:function(){l.lineEnd=r,l.point=t},pointRadius:function(t){return i=We(t),l},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return l}:new function(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,a,0,Si)}function n(e,n){t.moveTo(e,n),l.point=r}function r(e,n){t.lineTo(e,n)}function o(){l.point=e}function i(){t.closePath()}var a=4.5,l={point:e,lineStart:function(){l.point=n},lineEnd:o,polygonStart:function(){l.lineEnd=i},polygonEnd:function(){l.lineEnd=o,l.point=e},pointRadius:function(t){return a=t,l},result:C};return l}(t),"function"!=typeof l&&i.pointRadius(l),e()):r},t.pointRadius=function(e){return arguments.length?(l="function"==typeof e?e:(i.pointRadius(+e),+e),t):l},t.projection(Ko.geo.albersUsa()).context(null)},Ko.geo.transform=function(t){return{stream:function(e){var n=new je(e);for(var r in t)n[r]=t[r];return n}}},je.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Ko.geo.projection=Ye,Ko.geo.projectionMutator=Xe,(Ko.geo.equirectangular=function(){return Ye(Ke)}).raw=Ke.invert=Ke,Ko.geo.rotation=function(t){function e(e){return(e=t(e[0]*Ti,e[1]*Ti))[0]*=Di,e[1]*=Di,e}return t=Ze(t[0]%360*Ti,t[1]*Ti,t.length>2?t[2]*Ti:0),e.invert=function(e){return(e=t.invert(e[0]*Ti,e[1]*Ti))[0]*=Di,e[1]*=Di,e},e},Je.invert=Ke,Ko.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=Ze(-t[0]*Ti,-t[1]*Ti,0).invert,o=[];return n(null,null,1,{point:function(t,n){o.push(t=e(t,n)),t[0]*=Di,t[1]*=Di}}),{type:"Polygon",coordinates:[o]}}var e,n,r=[0,0],o=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=rn((e=+r)*Ti,o*Ti),t):e},t.precision=function(r){return arguments.length?(n=rn(e*Ti,(o=+r)*Ti),t):o},t.angle(90)},Ko.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Ti,o=t[1]*Ti,i=e[1]*Ti,a=Math.sin(r),l=Math.cos(r),s=Math.sin(o),u=Math.cos(o),c=Math.sin(i),A=Math.cos(i);return Math.atan2(Math.sqrt((n=A*a)*n+(n=u*c-s*A*l)*n),s*c+u*A*l)},Ko.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Ko.range(Math.ceil(i/g)*g,o,g).map(d).concat(Ko.range(Math.ceil(u/v)*v,s,v).map(h)).concat(Ko.range(Math.ceil(r/f)*f,n,f).filter(function(t){return ui(t%g)>Ei}).map(c)).concat(Ko.range(Math.ceil(l/p)*p,a,p).filter(function(t){return ui(t%v)>Ei}).map(A))}var n,r,o,i,a,l,s,u,c,A,d,h,f=10,p=f,g=90,v=360,m=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(h(s).slice(1),d(o).reverse().slice(1),h(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(i=+e[0][0],o=+e[1][0],u=+e[0][1],s=+e[1][1],i>o&&(e=i,i=o,o=e),u>s&&(e=u,u=s,s=e),t.precision(m)):[[i,u],[o,s]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),l>a&&(e=l,l=a,a=e),t.precision(m)):[[r,l],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],t):[g,v]},t.minorStep=function(e){return arguments.length?(f=+e[0],p=+e[1],t):[f,p]},t.precision=function(e){return arguments.length?(m=+e,c=an(l,a,90),A=ln(r,n,m),d=an(u,s,90),h=ln(i,o,m),t):m},t.majorExtent([[-180,-90+Ei],[180,90-Ei]]).minorExtent([[-180,-80-Ei],[180,80+Ei]])},Ko.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||o.apply(this,arguments)]}}var e,n,r=sn,o=un;return t.distance=function(){return Ko.geo.distance(e||r.apply(this,arguments),n||o.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(o=e,n="function"==typeof e?null:e,t):o},t.precision=function(){return arguments.length?t:0},t},Ko.geo.interpolate=function(t,e){return function(t,e,n,r){var o=Math.cos(e),i=Math.sin(e),a=Math.cos(r),l=Math.sin(r),s=o*Math.cos(t),u=o*Math.sin(t),c=a*Math.cos(n),A=a*Math.sin(n),d=2*Math.asin(Math.sqrt(it(r-e)+o*a*it(n-t))),h=1/Math.sin(d),f=d?function(t){var e=Math.sin(t*=d)*h,n=Math.sin(d-t)*h,r=n*s+e*c,o=n*u+e*A,a=n*i+e*l;return[Math.atan2(o,r)*Di,Math.atan2(a,Math.sqrt(r*r+o*o))*Di]}:function(){return[t*Di,e*Di]};return f.distance=d,f}(t[0]*Ti,t[1]*Ti,e[0]*Ti,e[1]*Ti)},Ko.geo.length=function(t){return $a=0,Ko.geo.stream(t,Fa),$a};var $a,Fa={sphere:C,point:C,lineStart:function(){function t(t,o){var i=Math.sin(o*=Ti),a=Math.cos(o),l=ui((t*=Ti)-e),s=Math.cos(l);$a+=Math.atan2(Math.sqrt((l=a*Math.sin(l))*l+(l=r*i-n*a*s)*l),n*i+r*a*s),e=t,n=i,r=a}var e,n,r;Fa.point=function(o,i){e=o*Ti,n=Math.sin(i*=Ti),r=Math.cos(i),Fa.point=t},Fa.lineEnd=function(){Fa.point=Fa.lineEnd=C}},lineEnd:C,polygonStart:C,polygonEnd:C},Wa=cn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Ko.geo.azimuthalEqualArea=function(){return Ye(Wa)}).raw=Wa;var Va=cn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},Tt);(Ko.geo.azimuthalEquidistant=function(){return Ye(Va)}).raw=Va,(Ko.geo.conicConformal=function(){return ze(An)}).raw=An,(Ko.geo.conicEquidistant=function(){return ze(dn)}).raw=dn;var Ba=cn(function(t){return 1/t},Math.atan);(Ko.geo.gnomonic=function(){return Ye(Ba)}).raw=Ba,hn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ri]},(Ko.geo.mercator=function(){return fn(hn)}).raw=hn;var Ua=cn(function(){return 1},Math.asin);(Ko.geo.orthographic=function(){return Ye(Ua)}).raw=Ua;var Oa=cn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Ko.geo.stereographic=function(){return Ye(Oa)}).raw=Oa,pn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ri]},(Ko.geo.transverseMercator=function(){var t=fn(pn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[-(t=e())[1],t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},t.rotate([0,0])}).raw=pn,Ko.geom={},Ko.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,o=Nt(n),i=Nt(r),a=t.length,l=[],s=[];for(e=0;a>e;e++)l.push([+o.call(this,t[e],e),+i.call(this,t[e],e),e]);for(l.sort(bn),e=0;a>e;e++)s.push([l[e][0],-l[e][1]]);var u=mn(l),c=mn(s),A=c[0]===u[0],d=c[c.length-1]===u[u.length-1],h=[];for(e=u.length-1;e>=0;--e)h.push(t[l[u[e]][2]]);for(e=+A;e<c.length-d;++e)h.push(t[l[c[e]][2]]);return h}var n=gn,r=vn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},Ko.geom.polygon=function(t){return fi(t,qa),t};var qa=Ko.geom.polygon.prototype=[];qa.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],o=0;++e<n;)t=r,r=this[e],o+=t[1]*r[0]-t[0]*r[1];return.5*o},qa.centroid=function(t){var e,n,r=-1,o=this.length,i=0,a=0,l=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++r<o;)e=l,l=this[r],n=e[0]*l[1]-l[0]*e[1],i+=(e[0]+l[0])*n,a+=(e[1]+l[1])*n;return[i*t,a*t]},qa.clip=function(t){for(var e,n,r,o,i,a,l=Cn(t),s=-1,u=this.length-Cn(this),c=this[u-1];++s<u;){for(e=t.slice(),t.length=0,o=this[s],i=e[(r=e.length-l)-1],n=-1;++n<r;)wn(a=e[n],c,o)?(wn(i,c,o)||t.push(yn(i,a,c,o)),t.push(a)):wn(i,c,o)&&t.push(yn(i,a,c,o)),i=a;l&&t.push(t[0]),c=o}return t};var ja,Ga,Ya,Xa,Qa,Ka=[],Ja=[];En.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Nn),e.length},$n.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Fn.prototype={insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Un(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(Vn(this,n),n=(t=n).U),n.C=!1,r.C=!0,Bn(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(Bn(this,n),n=(t=n).U),n.C=!1,r.C=!0,Vn(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,o=t.U,i=t.L,a=t.R;if(n=i?a?Un(a):i:a,o?o.L===t?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=a,a.U=n):(n.U=o,o=n,t=n.R)):(r=t.C,t=n),t&&(t.U=o),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,Vn(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Bn(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,Vn(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,Bn(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Vn(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,Bn(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},Ko.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=l[0][0],o=l[0][1],i=l[1][0],a=l[1][1];return On(n(t),l).cells.forEach(function(n,l){var s=n.edges,u=n.site;(e[l]=s.length?s.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=r&&u.x<=i&&u.y>=o&&u.y<=a?[[r,a],[i,a],[i,o],[r,o]]:[]).point=t[l]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/Ei)*Ei,y:Math.round(a(t,e)/Ei)*Ei,i:e}})}var r=gn,o=vn,i=r,a=o,l=Za;return t?e(t):(e.links=function(t){return On(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return On(n(t)).cells.forEach(function(n,r){for(var o,i=n.site,a=n.edges.sort(Nn),l=-1,s=a.length,u=a[s-1].edge,c=u.l===i?u.r:u.l;++l<s;)u,o=c,c=(u=a[l].edge).l===i?u.r:u.l,r<o.i&&r<c.i&&jn(i,o,c)<0&&e.push([t[r],t[o.i],t[c.i]])}),e},e.x=function(t){return arguments.length?(i=Nt(r=t),e):r},e.y=function(t){return arguments.length?(a=Nt(o=t),e):o},e.clipExtent=function(t){return arguments.length?(l=null==t?Za:t,e):l===Za?null:l},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):l===Za?null:l&&l[1]},e)};var Za=[[-1e6,-1e6],[1e6,1e6]];Ko.geom.delaunay=function(t){return Ko.geom.voronoi().triangles(t)},Ko.geom.quadtree=function(t,e,n,r,o){function i(t){function i(t,e,n,r,o,i,a,l){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var s=t.x,c=t.y;if(null!=s)if(ui(s-n)+ui(c-r)<.01)u(t,e,n,r,o,i,a,l);else{var A=t.point;t.x=t.y=t.point=null,u(t,A,s,c,o,i,a,l),u(t,e,n,r,o,i,a,l)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,o,i,a,l)}function u(t,e,n,r,o,a,l,s){var u=.5*(o+l),c=.5*(a+s),A=n>=u,d=r>=c,h=(d<<1)+A;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){i(k,t,+b(t,++h),+w(t,h),p,g,v,m)}}),A?o=u:l=u,d?a=c:s=c,i(t,e,n,r,o,a,l,s)}var c,A,d,h,f,p,g,v,m,b=Nt(l),w=Nt(s);if(null!=e)p=e,g=n,v=r,m=o;else if(v=m=-(p=g=1/0),A=[],d=[],f=t.length,a)for(h=0;f>h;++h)(c=t[h]).x<p&&(p=c.x),c.y<g&&(g=c.y),c.x>v&&(v=c.x),c.y>m&&(m=c.y),A.push(c.x),d.push(c.y);else for(h=0;f>h;++h){var y=+b(c=t[h],h),C=+w(c,h);p>y&&(p=y),g>C&&(g=C),y>v&&(v=y),C>m&&(m=C),A.push(y),d.push(C)}var x=v-p,_=m-g;x>_?m=g+x:v=p+_;var k={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){i(k,t,+b(t,++h),+w(t,h),p,g,v,m)}};if(k.visit=function(t){!function t(e,n,r,o,i,a){if(!e(n,r,o,i,a)){var l=.5*(r+i),s=.5*(o+a),u=n.nodes;u[0]&&t(e,u[0],r,o,l,s),u[1]&&t(e,u[1],l,o,i,s),u[2]&&t(e,u[2],r,s,l,a),u[3]&&t(e,u[3],l,s,i,a)}}(t,k,p,g,v,m)},h=-1,null==e){for(;++h<f;)i(k,t[h],A[h],d[h],p,g,v,m);--h}else t.forEach(k.add);return A=d=t=c=null,k}var a,l=gn,s=vn;return(a=arguments.length)?(l=Gn,s=Yn,3===a&&(o=n,r=e,n=e=0),i(t)):(i.x=function(t){return arguments.length?(l=t,i):l},i.y=function(t){return arguments.length?(s=t,i):s},i.extent=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),i):null==e?null:[[e,n],[r,o]]},i.size=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=n=0,r=+t[0],o=+t[1]),i):null==e?null:[r-e,o-n]},i)},Ko.interpolateRgb=Xn,Ko.interpolateObject=Qn,Ko.interpolateNumber=Kn,Ko.interpolateString=Jn;var tl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,el=new RegExp(tl.source,"g");Ko.interpolate=Zn,Ko.interpolators=[function(t,e){var n=void 0===e?"undefined":(0,l.default)(e);return("string"===n?ji.has(e)||/^(#|rgb\(|hsl\()/.test(e)?Xn:Jn:e instanceof at?Xn:Array.isArray(e)?tr:"object"===n&&isNaN(e)?Qn:Kn)(t,e)}],Ko.interpolateArray=tr;var nl=function(){return Tt},rl=Ko.map({linear:nl,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return rr},cubic:function(){return or},sin:function(){return ar},exp:function(){return lr},circle:function(){return sr},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Si*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Si/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return ur}}),ol=Ko.map({in:Tt,out:er,"in-out":nr,"out-in":function(t){return nr(er(t))}});Ko.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,r=e>=0?t.substring(e+1):"in";return n=rl.get(n)||nl,function(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}((r=ol.get(r)||Tt)(n.apply(null,Jo.call(arguments,1))))},Ko.interpolateHcl=function(t,e){t=Ko.hcl(t),e=Ko.hcl(e);var n=t.h,r=t.c,o=t.l,i=e.h-n,a=e.c-r,l=e.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:-180>i&&(i+=360),function(t){return dt(n+i*t,r+a*t,o+l*t)+""}},Ko.interpolateHsl=function(t,e){t=Ko.hsl(t),e=Ko.hsl(e);var n=t.h,r=t.s,o=t.l,i=e.h-n,a=e.s-r,l=e.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:-180>i&&(i+=360),function(t){return ut(n+i*t,r+a*t,o+l*t)+""}},Ko.interpolateLab=function(t,e){t=Ko.lab(t),e=Ko.lab(e);var n=t.l,r=t.a,o=t.b,i=e.l-n,a=e.a-r,l=e.b-o;return function(t){return pt(n+i*t,r+a*t,o+l*t)+""}},Ko.interpolateRound=cr,Ko.transform=function(t){var e=ti.createElementNS(Ko.ns.prefix.svg,"g");return(Ko.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ar(n?n.matrix:il)})(t)},Ar.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var il={a:1,b:0,c:0,d:1,e:0,f:0};Ko.interpolateTransform=fr,Ko.layout={},Ko.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(vr(t[n]));return e}},Ko.layout.chord=function(){function t(){var t,u,A,d,h,f={},p=[],g=Ko.range(i),v=[];for(n=[],r=[],t=0,d=-1;++d<i;){for(u=0,h=-1;++h<i;)u+=o[d][h];p.push(u),v.push(Ko.range(i)),t+=u}for(a&&g.sort(function(t,e){return a(p[t],p[e])}),l&&v.forEach(function(t,e){t.sort(function(t,n){return l(o[e][t],o[e][n])})}),t=(Si-c*i)/t,u=0,d=-1;++d<i;){for(A=u,h=-1;++h<i;){var m=g[d],b=v[m][h],w=o[m][b],y=u,C=u+=w*t;f[m+"-"+b]={index:m,subindex:b,startAngle:y,endAngle:C,value:w}}r[m]={index:m,startAngle:A,endAngle:u,value:(u-A)/t},u+=c}for(d=-1;++d<i;)for(h=d-1;++h<i;){var x=f[d+"-"+h],_=f[h+"-"+d];(x.value||_.value)&&n.push(x.value<_.value?{source:_,target:x}:{source:x,target:_})}s&&e()}function e(){n.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,o,i,a,l,s,u={},c=0;return u.matrix=function(t){return arguments.length?(i=(o=t)&&o.length,n=r=null,u):o},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=r=null,u):a},u.sortSubgroups=function(t){return arguments.length?(l=t,n=null,u):l},u.sortChords=function(t){return arguments.length?(s=t,n&&e(),u):s},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},Ko.layout.force=function(){function t(t){return function(e,n,r,o){if(e.point!==t){var i=e.cx-t.x,a=e.cy-t.y,l=o-n,s=i*i+a*a;if(s>l*l/g){if(f>s){var u=e.charge/s;t.px-=i*u,t.py-=a*u}return!0}if(e.point&&s&&f>s){u=e.pointCharge/s;t.px-=i*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=Ko.event.x,t.py=Ko.event.y,l.resume()}var n,r,o,i,a,l={},s=Ko.dispatch("start","tick","end"),u=[1,1],c=.9,A=al,d=ll,h=-30,f=sl,p=.1,g=.64,v=[],m=[];return l.tick=function(){if((r*=.99)<.005)return s.end({type:"end",alpha:r=0}),!0;var e,n,l,A,d,f,g,b,w,y=v.length,C=m.length;for(n=0;C>n;++n)A=(l=m[n]).source,(f=(b=(d=l.target).x-A.x)*b+(w=d.y-A.y)*w)&&(b*=f=r*i[n]*((f=Math.sqrt(f))-o[n])/f,w*=f,d.x-=b*(g=A.weight/(d.weight+A.weight)),d.y-=w*g,A.x+=b*(g=1-g),A.y+=w*g);if((g=r*p)&&(b=u[0]/2,w=u[1]/2,n=-1,g))for(;++n<y;)(l=v[n]).x+=(b-l.x)*g,l.y+=(w-l.y)*g;if(h)for(function t(e,n,r){var o=0,i=0;if(e.charge=0,!e.leaf)for(var a,l=e.nodes,s=l.length,u=-1;++u<s;)null!=(a=l[u])&&(t(a,n,r),e.charge+=a.charge,o+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,o+=c*e.point.x,i+=c*e.point.y}e.cx=o/e.charge,e.cy=i/e.charge}(e=Ko.geom.quadtree(v),r,a),n=-1;++n<y;)(l=v[n]).fixed||e.visit(t(l));for(n=-1;++n<y;)(l=v[n]).fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*c,l.y-=(l.py-(l.py=l.y))*c);s.tick({type:"tick",alpha:r})},l.nodes=function(t){return arguments.length?(v=t,l):v},l.links=function(t){return arguments.length?(m=t,l):m},l.size=function(t){return arguments.length?(u=t,l):u},l.linkDistance=function(t){return arguments.length?(A="function"==typeof t?t:+t,l):A},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.friction=function(t){return arguments.length?(c=+t,l):c},l.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.chargeDistance=function(t){return arguments.length?(f=t*t,l):Math.sqrt(f)},l.gravity=function(t){return arguments.length?(p=+t,l):p},l.theta=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(s.start({type:"start",alpha:r=t}),Ko.timer(l.tick)),l):r},l.start=function(){function t(t,r){if(!n){for(n=new Array(s),l=0;s>l;++l)n[l]=[];for(l=0;u>l;++l){var o=m[l];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var i,a=n[e],l=-1,u=a.length;++l<u;)if(!isNaN(i=a[l][t]))return i;return Math.random()*r}var e,n,r,s=v.length,c=m.length,f=u[0],p=u[1];for(e=0;s>e;++e)(r=v[e]).index=e,r.weight=0;for(e=0;c>e;++e)"number"==typeof(r=m[e]).source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(e=0;s>e;++e)r=v[e],isNaN(r.x)&&(r.x=t("x",f)),isNaN(r.y)&&(r.y=t("y",p)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof A)for(e=0;c>e;++e)o[e]=+A.call(this,m[e],e);else for(e=0;c>e;++e)o[e]=A;if(i=[],"function"==typeof d)for(e=0;c>e;++e)i[e]=+d.call(this,m[e],e);else for(e=0;c>e;++e)i[e]=d;if(a=[],"function"==typeof h)for(e=0;s>e;++e)a[e]=+h.call(this,v[e],e);else for(e=0;s>e;++e)a[e]=h;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return n||(n=Ko.behavior.drag().origin(Tt).on("dragstart.force",br).on("drag.force",e).on("dragend.force",wr)),arguments.length?void this.on("mouseover.force",yr).on("mouseout.force",Cr).call(n):n},Ko.rebind(l,s,"on")};var al=20,ll=1,sl=1/0;Ko.layout.hierarchy=function(){function t(i,a,l){var s=r.call(e,i,a);if(i.depth=a,l.push(i),s&&(u=s.length)){for(var u,c,A=-1,d=i.children=new Array(u),h=0,f=a+1;++A<u;)(c=d[A]=t(s[A],f,l)).parent=i,h+=c.value;n&&d.sort(n),o&&(i.value=h)}else delete i.children,o&&(i.value=+o.call(e,i,a)||0);return i}function e(e){var n=[];return t(e,0,n),n}var n=Mr,r=_r,o=kr;return e.sort=function(t){return arguments.length?(n=t,e):n},e.children=function(t){return arguments.length?(r=t,e):r},e.value=function(t){return arguments.length?(o=t,e):o},e.revalue=function(t){return function t(n,r){var i=n.children,a=0;if(i&&(l=i.length))for(var l,s=-1,u=r+1;++s<l;)a+=t(i[s],u);else o&&(a=+o.call(e,n,r)||0);return o&&(n.value=a),a}(t,0),t},e},Ko.layout.partition=function(){function t(t,r){var o=e.call(this,t,r);return function t(e,n,r,o){var i=e.children;if(e.x=n,e.y=e.depth*o,e.dx=r,e.dy=o,i&&(a=i.length)){var a,l,s,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(l=i[u],n,s=l.value*r,o),n+=s}}(o[0],0,n[0],n[1]/function t(e){var n=e.children,r=0;if(n&&(o=n.length))for(var o,i=-1;++i<o;)r=Math.max(r,t(n[i]));return 1+r}(o[0])),o}var e=Ko.layout.hierarchy(),n=[1,1];return t.size=function(e){return arguments.length?(n=e,t):n},xr(t,e)},Ko.layout.pie=function(){function t(i){var a=i.map(function(n,r){return+e.call(t,n,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),s=(("function"==typeof o?o.apply(this,arguments):o)-l)/Ko.sum(a),u=Ko.range(i.length);null!=n&&u.sort(n===ul?function(t,e){return a[e]-a[t]}:function(t,e){return n(i[t],i[e])});var c=[];return u.forEach(function(t){var e;c[t]={data:i[t],value:e=a[t],startAngle:l,endAngle:l+=e*s}}),c}var e=Number,n=ul,r=0,o=Si;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(o=e,t):o},t};var ul={};Ko.layout.stack=function(){function t(l,s){var u=l.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[i.call(t,e,n),a.call(t,e,n)]})}),A=n.call(t,c,s);u=Ko.permute(u,A),c=Ko.permute(c,A);var d,h,f,p=r.call(t,c,s),g=u.length,v=u[0].length;for(h=0;v>h;++h)for(o.call(t,u[0][h],f=p[h],c[0][h][1]),d=1;g>d;++d)o.call(t,u[d][h],f+=c[d-1][h][1],c[d][h][1]);return l}var e=Tt,n=Tr,r=Dr,o=Nr,i=Rr,a=Er;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:cl.get(e)||Tr,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:Al.get(e)||Dr,t):r},t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(o=e,t):o},t};var cl=Ko.map({"inside-out":function(t){var e,n,r=t.length,o=t.map(Lr),i=t.map(Hr),a=Ko.range(r).sort(function(t,e){return o[t]-o[e]}),l=0,s=0,u=[],c=[];for(e=0;r>e;++e)n=a[e],s>l?(l+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return Ko.range(t.length).reverse()},default:Tr}),Al=Ko.map({silhouette:function(t){var e,n,r,o=t.length,i=t[0].length,a=[],l=0,s=[];for(n=0;i>n;++n){for(e=0,r=0;o>e;e++)r+=t[e][n][1];r>l&&(l=r),a.push(r)}for(n=0;i>n;++n)s[n]=(l-a[n])/2;return s},wiggle:function(t){var e,n,r,o,i,a,l,s,u,c=t.length,A=t[0],d=A.length,h=[];for(h[0]=s=u=0,n=1;d>n;++n){for(e=0,o=0;c>e;++e)o+=t[e][n][1];for(e=0,i=0,l=A[n][0]-A[n-1][0];c>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*l);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/l;i+=a*t[e][n][1]}h[n]=s-=o?i/o*l:0,u>s&&(u=s)}for(n=0;d>n;++n)h[n]-=u;return h},expand:function(t){var e,n,r,o=t.length,i=t[0].length,a=1/o,l=[];for(n=0;i>n;++n){for(e=0,r=0;o>e;e++)r+=t[e][n][1];if(r)for(e=0;o>e;e++)t[e][n][1]/=r;else for(e=0;o>e;e++)t[e][n][1]=a}for(n=0;i>n;++n)l[n]=0;return l},zero:Dr});Ko.layout.histogram=function(){function t(t,i){for(var a,l,s=[],u=t.map(n,this),c=r.call(this,u,i),A=o.call(this,c,u,i),d=(i=-1,u.length),h=A.length-1,f=e?1:1/d;++i<h;)(a=s[i]=[]).dx=A[i+1]-(a.x=A[i]),a.y=0;if(h>0)for(i=-1;++i<d;)(l=u[i])>=c[0]&&l<=c[1]&&((a=s[Ko.bisect(A,l,1,h)-1]).y+=f,a.push(t[i]));return s}var e=!0,n=Number,r=$r,o=Pr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Nt(e),t):r},t.bins=function(e){return arguments.length?(o="number"==typeof e?function(t){return zr(t,e)}:Nt(e),t):o},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Ko.layout.tree=function(){function t(t,i){function a(t,e,r){if(e){for(var o,i=t,a=t,l=e,s=t.parent.children[0],u=i._tree.mod,c=a._tree.mod,A=l._tree.mod,d=s._tree.mod;l=Vr(l),i=Wr(i),l&&i;)s=Wr(s),(a=Vr(a))._tree.ancestor=t,(o=l._tree.prelim+A-i._tree.prelim-u+n(l,i))>0&&(Gr(Yr(l,t,r),t,o),u+=o,c+=o),A+=l._tree.mod,u+=i._tree.mod,d+=s._tree.mod,c+=a._tree.mod;l&&!Vr(a)&&(a._tree.thread=l,a._tree.mod+=A-c),i&&!Wr(s)&&(s._tree.thread=i,s._tree.mod+=u-d,r=t)}return r}var l=e.call(this,t,i),s=l[0];jr(s,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),function t(e,r){var o=e.children,i=e._tree;if(o&&(l=o.length)){for(var l,s,u,c=o[0],A=c,d=-1;++d<l;)t(u=o[d],s),A=a(u,s,A),s=u;!function(t){for(var e,n=0,r=0,o=t.children,i=o.length;--i>=0;)(e=o[i]._tree).prelim+=n,e.mod+=n,n+=e.shift+(r+=e.change)}(e);var h=.5*(c._tree.prelim+u._tree.prelim);r?(i.prelim=r._tree.prelim+n(e,r),i.mod=i.prelim-h):i.prelim=h}else r&&(i.prelim=r._tree.prelim+n(e,r))}(s),function t(e,n){e.x=e._tree.prelim+n;var r=e.children;if(r&&(o=r.length)){var o,i=-1;for(n+=e._tree.mod;++i<o;)t(r[i],n)}}(s,-s._tree.prelim);var u=Br(s,Or),c=Br(s,Ur),A=Br(s,qr),d=u.x-n(u,c)/2,h=c.x+n(c,u)/2,f=A.depth||1;return jr(s,o?function(t){t.x*=r[0],t.y=t.depth*r[1],delete t._tree}:function(t){t.x=(t.x-d)/(h-d)*r[0],t.y=t.depth/f*r[1],delete t._tree}),l}var e=Ko.layout.hierarchy().sort(null).value(null),n=Fr,r=[1,1],o=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(o=null==(r=e),t):o?null:r},t.nodeSize=function(e){return arguments.length?(o=null!=(r=e),t):o?r:null},xr(t,e)},Ko.layout.pack=function(){function t(t,i){var a=n.call(this,t,i),l=a[0],s=o[0],u=o[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(l.x=l.y=0,jr(l,function(t){t.r=+c(t.value)}),jr(l,Zr),r){var A=r*(e?1:Math.max(2*l.r/s,2*l.r/u))/2;jr(l,function(t){t.r+=A}),jr(l,Zr),jr(l,function(t){t.r-=A})}return function t(e,n,r,o){var i=e.children;if(e.x=n+=o*e.x,e.y=r+=o*e.y,e.r*=o,i)for(var a=-1,l=i.length;++a<l;)t(i[a],n,r,o)}(l,s/2,u/2,e?1:1/Math.max(2*l.r/s,2*l.r/u)),a}var e,n=Ko.layout.hierarchy().sort(Xr),r=0,o=[1,1];return t.size=function(e){return arguments.length?(o=e,t):o},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},xr(t,n)},Ko.layout.cluster=function(){function t(t,i){var a,l=e.call(this,t,i),s=l[0],u=0;jr(s,function(t){var e=t.children;e&&e.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(e),t.y=function(t){return 1+Ko.max(t,function(t){return t.y})}(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(s),A=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(s),d=c.x-n(c,A)/2,h=A.x+n(A,c)/2;return jr(s,o?function(t){t.x=(t.x-s.x)*r[0],t.y=(s.y-t.y)*r[1]}:function(t){t.x=(t.x-d)/(h-d)*r[0],t.y=(1-(s.y?t.y/s.y:1))*r[1]}),l}var e=Ko.layout.hierarchy().sort(null).value(null),n=Fr,r=[1,1],o=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(o=null==(r=e),t):o?null:r},t.nodeSize=function(e){return arguments.length?(o=null!=(r=e),t):o?r:null},xr(t,e)},Ko.layout.treemap=function(){function t(t,e){for(var n,r,o=-1,i=t.length;++o<i;)r=(n=t[o]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var i=n.children;if(i&&i.length){var a,l,s,u=d(n),c=[],A=i.slice(),h=1/0,p="slice"===f?u.dx:"dice"===f?u.dy:"slice-dice"===f?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(A,u.dx*u.dy/n.value),c.area=0;(s=A.length)>0;)c.push(a=A[s-1]),c.area+=a.area,"squarify"!==f||(l=r(c,p))<=h?(A.pop(),h=l):(c.area-=c.pop().area,o(c,p,u,!1),p=Math.min(u.dx,u.dy),c.length=c.area=0,h=1/0);c.length&&(o(c,p,u,!0),c.length=c.area=0),i.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var i,a=d(e),l=r.slice(),s=[];for(t(l,a.dx*a.dy/e.value),s.area=0;i=l.pop();)s.push(i),s.area+=i.area,null!=i.z&&(o(s,i.z?a.dx:a.dy,a,!l.length),s.length=s.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,o=0,i=1/0,a=-1,l=t.length;++a<l;)(n=t[a].area)&&(i>n&&(i=n),n>o&&(o=n));return e*=e,(r*=r)?Math.max(e*o*p/r,r/(e*i*p)):1/0}function o(t,e,n,r){var o,i=-1,a=t.length,l=n.x,s=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++i<a;)(o=t[i]).x=l,o.y=s,o.dy=c,l+=o.dx=Math.min(n.x+n.dx-l,c?u(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-l,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++i<a;)(o=t[i]).x=l,o.y=s,o.dx=c,s+=o.dy=Math.min(n.y+n.dy-s,c?u(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-s,n.x+=c,n.dx-=c}}function i(r){var o=a||s(r),i=o[0];return i.x=0,i.y=0,i.dx=c[0],i.dy=c[1],a&&s.revalue(i),t([i],i.dx*i.dy/i.value),(a?n:e)(i),h&&(a=o),o}var a,s=Ko.layout.hierarchy(),u=Math.round,c=[1,1],A=null,d=ro,h=!1,f="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(c=t,i):c},i.padding=function(t){function e(e){return oo(e,t)}return arguments.length?(d=null==(A=t)?ro:"function"==(n=void 0===t?"undefined":(0,l.default)(t))?function(e){var n=t.call(i,e,e.depth);return null==n?ro(e):oo(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,i):A;var n},i.round=function(t){return arguments.length?(u=t?Math.round:Number,i):u!=Number},i.sticky=function(t){return arguments.length?(h=t,a=null,i):h},i.ratio=function(t){return arguments.length?(p=t,i):p},i.mode=function(t){return arguments.length?(f=t+"",i):f},xr(i,s)},Ko.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,o;do{o=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!o||o>1);return t+e*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=Ko.random.normal.apply(Ko,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Ko.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},Ko.scale={};var dl={floor:Tt,ceil:Tt};Ko.scale.linear=function(){return function t(e,n,r,o){function i(){var t=Math.min(e.length,n.length)>2?uo:lo,i=o?gr:pr;return l=t(e,n,i,r),s=t(n,e,i,Zn),a}function a(t){return l(t)}var l,s;return a.invert=function(t){return s(t)},a.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},a.range=function(t){return arguments.length?(n=t,i()):n},a.rangeRound=function(t){return a.range(t).interpolate(cr)},a.clamp=function(t){return arguments.length?(o=t,i()):o},a.interpolate=function(t){return arguments.length?(r=t,i()):r},a.ticks=function(t){return fo(e,t)},a.tickFormat=function(t,n){return po(e,t,n)},a.nice=function(t){return Ao(e,t),i()},a.copy=function(){return t(e,n,r,o)},i()}([0,1],[0,1],Zn,!1)};var hl={s:1,g:1,p:1,r:1,e:1};Ko.scale.log=function(){return function t(e,n,r,o){function i(t){return(r?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function a(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function l(t){return e(i(t))}return l.invert=function(t){return a(e.invert(t))},l.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((o=t.map(Number)).map(i)),l):o},l.base=function(t){return arguments.length?(n=+t,e.domain(o.map(i)),l):n},l.nice=function(){var t=so(o.map(i),r?Math:pl);return e.domain(t),o=t.map(a),l},l.ticks=function(){var t=io(o),e=[],l=t[0],s=t[1],u=Math.floor(i(l)),c=Math.ceil(i(s)),A=n%1?2:n;if(isFinite(c-u)){if(r){for(;c>u;u++)for(var d=1;A>d;d++)e.push(a(u)*d);e.push(a(u))}else for(e.push(a(u));u++<c;)for(d=A-1;d>0;d--)e.push(a(u)*d);for(u=0;e[u]<l;u++);for(c=e.length;e[c-1]>s;c--);e=e.slice(u,c)}return e},l.tickFormat=function(t,e){if(!arguments.length)return fl;arguments.length<2?e=fl:"function"!=typeof e&&(e=Ko.format(e));var n,o=Math.max(.1,t/l.ticks().length),s=r?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(t){return t/a(s(i(t)+n))<=o?e(t):""}},l.copy=function(){return t(e.copy(),n,r,o)},co(l,e)}(Ko.scale.linear().domain([0,1]),10,!0,[1,10])};var fl=Ko.format(".0e"),pl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Ko.scale.pow=function(){return function t(e,n,r){function o(t){return e(i(t))}var i=vo(n),a=vo(1/n);return o.invert=function(t){return a(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),o):r},o.ticks=function(t){return fo(r,t)},o.tickFormat=function(t,e){return po(r,t,e)},o.nice=function(t){return o.domain(Ao(r,t))},o.exponent=function(t){return arguments.length?(i=vo(n=t),a=vo(1/n),e.domain(r.map(i)),o):n},o.copy=function(){return t(e.copy(),n,r)},co(o,e)}(Ko.scale.linear(),1,[0,1])},Ko.scale.sqrt=function(){return Ko.scale.pow().exponent(.5)},Ko.scale.ordinal=function(){return function t(e,n){function r(t){return a[((i.get(t)||("range"===n.t?i.set(t,e.push(t)):NaN))-1)%a.length]}function o(t,n){return Ko.range(e.length).map(function(e){return t+n*e})}var i,a,l;return r.domain=function(t){if(!arguments.length)return e;e=[],i=new f;for(var o,a=-1,l=t.length;++a<l;)i.has(o=t[a])||i.set(o,e.push(o));return r[n.t].apply(r,n.a)},r.range=function(t){return arguments.length?(a=t,l=0,n={t:"range",a:arguments},r):a},r.rangePoints=function(t,i){arguments.length<2&&(i=0);var s=t[0],u=t[1],c=(u-s)/(Math.max(1,e.length-1)+i);return a=o(e.length<2?(s+u)/2:s+c*i/2,c),l=0,n={t:"rangePoints",a:arguments},r},r.rangeBands=function(t,i,s){arguments.length<2&&(i=0),arguments.length<3&&(s=i);var u=t[1]<t[0],c=t[u-0],A=(t[1-u]-c)/(e.length-i+2*s);return a=o(c+A*s,A),u&&a.reverse(),l=A*(1-i),n={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(t,i,s){arguments.length<2&&(i=0),arguments.length<3&&(s=i);var u=t[1]<t[0],c=t[u-0],A=t[1-u],d=Math.floor((A-c)/(e.length-i+2*s)),h=A-c-(e.length-i)*d;return a=o(c+Math.round(h/2),d),u&&a.reverse(),l=Math.round(d*(1-i)),n={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return l},r.rangeExtent=function(){return io(n.a[0])},r.copy=function(){return t(e,n)},r.domain(e)}([],{t:"range",a:[[]]})},Ko.scale.category10=function(){return Ko.scale.ordinal().range(gl)},Ko.scale.category20=function(){return Ko.scale.ordinal().range(vl)},Ko.scale.category20b=function(){return Ko.scale.ordinal().range(ml)},Ko.scale.category20c=function(){return Ko.scale.ordinal().range(bl)};var gl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),vl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),ml=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),bl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);Ko.scale.quantile=function(){return function t(e,r){function o(){var t=0,n=r.length;for(a=[];++t<n;)a[t-1]=Ko.quantile(e,t/n);return i}function i(t){return isNaN(t=+t)?void 0:r[Ko.bisect(a,t)]}var a;return i.domain=function(t){return arguments.length?(e=t.filter(c).sort(n),o()):e},i.range=function(t){return arguments.length?(r=t,o()):r},i.quantiles=function(){return a},i.invertExtent=function(t){return 0>(t=r.indexOf(t))?[NaN,NaN]:[t>0?a[t-1]:e[0],t<a.length?a[t]:e[e.length-1]]},i.copy=function(){return t(e,r)},o()}([],[])},Ko.scale.quantize=function(){return function t(e,n,r){function o(t){return r[Math.max(0,Math.min(l,Math.floor(a*(t-e))))]}function i(){return a=r.length/(n-e),l=r.length-1,o}var a,l;return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],i()):[e,n]},o.range=function(t){return arguments.length?(r=t,i()):r},o.invertExtent=function(t){return[t=0>(t=r.indexOf(t))?NaN:t/a+e,t+1/a]},o.copy=function(){return t(e,n,r)},i()}(0,1,[0,1])},Ko.scale.threshold=function(){return function t(e,n){function r(t){return t>=t?n[Ko.bisect(e,t)]:void 0}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return t(e,n)},r}([.5],[0,1])},Ko.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return fo(e,t)},n.tickFormat=function(t,n){return po(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},Ko.svg={},Ko.svg.arc=function(){function t(){var t=e.apply(this,arguments),i=n.apply(this,arguments),a=r.apply(this,arguments)+wl,l=o.apply(this,arguments)+wl,s=(a>l&&(s=a,a=l,l=s),l-a),u=Mi>s?"0":"1",c=Math.cos(a),A=Math.sin(a),d=Math.cos(l),h=Math.sin(l);return s>=yl?t?"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"Z":t?"M"+i*c+","+i*A+"A"+i+","+i+" 0 "+u+",1 "+i*d+","+i*h+"L"+t*d+","+t*h+"A"+t+","+t+" 0 "+u+",0 "+t*c+","+t*A+"Z":"M"+i*c+","+i*A+"A"+i+","+i+" 0 "+u+",1 "+i*d+","+i*h+"L0,0Z"}var e=mo,n=bo,r=wo,o=yo;return t.innerRadius=function(n){return arguments.length?(e=Nt(n),t):e},t.outerRadius=function(e){return arguments.length?(n=Nt(e),t):n},t.startAngle=function(e){return arguments.length?(r=Nt(e),t):r},t.endAngle=function(e){return arguments.length?(o=Nt(e),t):o},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,i=(r.apply(this,arguments)+o.apply(this,arguments))/2+wl;return[Math.cos(i)*t,Math.sin(i)*t]},t};var wl=-Ri,yl=Si-Ei;Ko.svg.line=function(){return Co(Tt)};var Cl=Ko.map({linear:xo,"linear-closed":function(t){return xo(t)+"Z"},step:function(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&o.push("H",r[0]),o.join("")},"step-before":_o,"step-after":ko,basis:Ro,"basis-open":function(t){if(t.length<4)return xo(t);for(var e,n=[],r=-1,o=t.length,i=[0],a=[0];++r<3;)e=t[r],i.push(e[0]),a.push(e[1]);for(n.push(Eo(kl,i)+","+Eo(kl,a)),--r;++r<o;)e=t[r],i.shift(),i.push(e[0]),a.shift(),a.push(e[1]),No(n,i,a);return n.join("")},"basis-closed":function(t){for(var e,n,r=-1,o=t.length,i=o+4,a=[],l=[];++r<4;)n=t[r%o],a.push(n[0]),l.push(n[1]);for(e=[Eo(kl,a),",",Eo(kl,l)],--r;++r<i;)n=t[r%o],a.shift(),a.push(n[0]),l.shift(),l.push(n[1]),No(e,a,l);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,o,i=t[0][0],a=t[0][1],l=t[n][0]-i,s=t[n][1]-a,u=-1;++u<=n;)o=u/n,(r=t[u])[0]=e*r[0]+(1-e)*(i+o*l),r[1]=e*r[1]+(1-e)*(a+o*s);return Ro(t)},cardinal:function(t,e){return t.length<3?xo(t):t[0]+Mo(t,So(t,e))},"cardinal-open":function(t,e){return t.length<4?xo(t):t[1]+Mo(t.slice(1,t.length-1),So(t,e))},"cardinal-closed":function(t,e){return t.length<3?xo(t):t[0]+Mo((t.push(t[0]),t),So([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?xo(t):t[0]+Mo(t,Do(t))}});Cl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var xl=[0,2/3,1/3,0],_l=[0,1/3,2/3,0],kl=[0,1/6,2/3,1/6];Ko.svg.line.radial=function(){var t=Co(Lo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},_o.reverse=ko,ko.reverse=_o,Ko.svg.area=function(){return Ho(Tt)},Ko.svg.area.radial=function(){var t=Ho(Lo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Ko.svg.chord=function(){function t(t,a){var l=e(this,o,t,a),s=e(this,i,t,a);return"M"+l.p0+n(l.r,l.p1,l.a1-l.a0)+(function(t,e){return t.a0==e.a0&&t.a1==e.a1}(l,s)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,s.r,s.p0)+n(s.r,s.p1,s.a1-s.a0)+r(s.r,s.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var o=e.call(t,n,r),i=a.call(t,o,r),u=l.call(t,o,r)+wl,c=s.call(t,o,r)+wl;return{r:i,a0:u,a1:c,p0:[i*Math.cos(u),i*Math.sin(u)],p1:[i*Math.cos(c),i*Math.sin(c)]}}function n(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Mi)+",1 "+e}function r(t,e,n,r){return"Q 0,0 "+r}var o=sn,i=un,a=Io,l=wo,s=yo;return t.radius=function(e){return arguments.length?(a=Nt(e),t):a},t.source=function(e){return arguments.length?(o=Nt(e),t):o},t.target=function(e){return arguments.length?(i=Nt(e),t):i},t.startAngle=function(e){return arguments.length?(l=Nt(e),t):l},t.endAngle=function(e){return arguments.length?(s=Nt(e),t):s},t},Ko.svg.diagonal=function(){function t(t,o){var i=e.call(this,t,o),a=n.call(this,t,o),l=(i.y+a.y)/2,s=[i,{x:i.x,y:l},{x:a.x,y:l},a];return"M"+(s=s.map(r))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var e=sn,n=un,r=Po;return t.source=function(n){return arguments.length?(e=Nt(n),t):e},t.target=function(e){return arguments.length?(n=Nt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},Ko.svg.diagonal.radial=function(){var t=Ko.svg.diagonal(),e=Po,n=t.projection;return t.projection=function(t){return arguments.length?n(function(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]+wl;return[n*Math.cos(r),n*Math.sin(r)]}}(e=t)):e},t},Ko.svg.symbol=function(){function t(t,r){return(Ml.get(e.call(this,t,r))||Fo)(n.call(this,t,r))}var e=$o,n=zo;return t.type=function(n){return arguments.length?(e=Nt(n),t):e},t.size=function(e){return arguments.length?(n=Nt(e),t):n},t};var Ml=Ko.map({circle:Fo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Nl)),n=e*Nl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/El),n=e*El/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/El),n=e*El/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Ko.svg.symbolTypes=Ml.keys();var Sl,Rl,El=Math.sqrt(3),Nl=Math.tan(30*Ti),Tl=[],Dl=0;Tl.call=bi.call,Tl.empty=bi.empty,Tl.node=bi.node,Tl.size=bi.size,Ko.transition=function(t){return arguments.length?Sl?t.transition():t:Ci.transition()},Ko.transition.prototype=Tl,Tl.select=function(t){var e,n,r,o=this.id,i=[];t=E(t);for(var a=-1,l=this.length;++a<l;){i.push(e=[]);for(var s=this[a],u=-1,c=s.length;++u<c;)(r=s[u])&&(n=t.call(r,r.__data__,u,a))?("__data__"in r&&(n.__data__=r.__data__),Uo(n,u,o,r.__transition__[o]),e.push(n)):e.push(null)}return Wo(i,o)},Tl.selectAll=function(t){var e,n,r,o,i,a=this.id,l=[];t=N(t);for(var s=-1,u=this.length;++s<u;)for(var c=this[s],A=-1,d=c.length;++A<d;)if(r=c[A]){i=r.__transition__[a],n=t.call(r,r.__data__,A,s),l.push(e=[]);for(var h=-1,f=n.length;++h<f;)(o=n[h])&&Uo(o,h,a,i),e.push(o)}return Wo(l,a)},Tl.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=V(t));for(var o=0,i=this.length;i>o;o++){r.push(e=[]);for(var a,l=0,s=(a=this[o]).length;s>l;l++)(n=a[l])&&t.call(n,n.__data__,l,o)&&e.push(n)}return Wo(r,this.id)},Tl.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):U(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(r){r.__transition__[n].tween.set(t,e)})},Tl.attr=function(t,e){function n(){this.removeAttribute(i)}function r(){this.removeAttributeNS(i.space,i.local)}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?fr:Zn,i=Ko.ns.qualify(t);return Vo(this,"attr."+t,e,i.local?function(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(i.space,i.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}:function(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(i);return n!==t&&(e=o(n,t),function(t){this.setAttribute(i,e(t))})})})},Tl.attrTween=function(t,e){var n=Ko.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var o=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return o&&function(t){this.setAttributeNS(n.space,n.local,o(t))}}:function(t,r){var o=e.call(this,t,r,this.getAttribute(n));return o&&function(t){this.setAttribute(n,o(t))}})},Tl.style=function(t,e,n){function r(){this.style.removeProperty(t)}var o=arguments.length;if(3>o){if("string"!=typeof t){for(n in 2>o&&(e=""),t)this.style(n,t[n],e);return this}n=""}return Vo(this,"style."+t,e,function(e){return null==e?r:(e+="",function(){var r,o=ni.getComputedStyle(this,null).getPropertyValue(t);return o!==e&&(r=Zn(o,e),function(e){this.style.setProperty(t,r(e),n)})})})},Tl.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(r,o){var i=e.call(this,r,o,ni.getComputedStyle(this,null).getPropertyValue(t));return i&&function(e){this.style.setProperty(t,i(e),n)}})},Tl.text=function(t){return Vo(this,"text",t,Bo)},Tl.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Tl.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Ko.ease.apply(Ko,arguments)),U(this,function(n){n.__transition__[e].ease=t}))},Tl.delay=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].delay:U(this,"function"==typeof t?function(n,r,o){n.__transition__[e].delay=+t.call(n,n.__data__,r,o)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Tl.duration=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].duration:U(this,"function"==typeof t?function(n,r,o){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,r,o))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},Tl.each=function(t,e){var n=this.id;if(arguments.length<2){var r=Rl,o=Sl;Sl=n,U(this,function(e,r,o){Rl=e.__transition__[n],t.call(e,e.__data__,r,o)}),Rl=r,Sl=o}else U(this,function(r){var o=r.__transition__[n];(o.event||(o.event=Ko.dispatch("start","end"))).on(t,e)});return this},Tl.transition=function(){for(var t,e,n,r=this.id,o=++Dl,i=[],l=0,s=this.length;s>l;l++){i.push(t=[]);for(var u,c=0,A=(u=this[l]).length;A>c;c++)(e=u[c])&&((n=(0,a.default)(e.__transition__[r])).delay+=n.duration,Uo(e,c,o,n)),t.push(e)}return Wo(i,o)},Ko.svg.axis=function(){function t(t){t.each(function(){var t,u=Ko.select(this),c=this.__chart__||n,A=this.__chart__=n.copy(),d=null==s?A.ticks?A.ticks.apply(A,l):A.domain():s,h=null==e?A.tickFormat?A.tickFormat.apply(A,l):Tt:e,f=u.selectAll(".tick").data(d,A),p=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Ei),g=Ko.transition(f.exit()).style("opacity",Ei).remove(),v=Ko.transition(f.order()).style("opacity",1),m=ao(A),b=u.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),Ko.transition(b));p.append("line"),p.append("text");var y=p.select("line"),C=v.select("line"),x=f.select("text").text(h),_=p.select("text"),k=v.select("text");switch(r){case"bottom":t=Oo,y.attr("y2",o),_.attr("y",Math.max(o,0)+a),C.attr("x2",0).attr("y2",o),k.attr("x",0).attr("y",Math.max(o,0)+a),x.attr("dy",".71em").style("text-anchor","middle"),w.attr("d","M"+m[0]+","+i+"V0H"+m[1]+"V"+i);break;case"top":t=Oo,y.attr("y2",-o),_.attr("y",-(Math.max(o,0)+a)),C.attr("x2",0).attr("y2",-o),k.attr("x",0).attr("y",-(Math.max(o,0)+a)),x.attr("dy","0em").style("text-anchor","middle"),w.attr("d","M"+m[0]+","+-i+"V0H"+m[1]+"V"+-i);break;case"left":t=qo,y.attr("x2",-o),_.attr("x",-(Math.max(o,0)+a)),C.attr("x2",-o).attr("y2",0),k.attr("x",-(Math.max(o,0)+a)).attr("y",0),x.attr("dy",".32em").style("text-anchor","end"),w.attr("d","M"+-i+","+m[0]+"H0V"+m[1]+"H"+-i);break;case"right":t=qo,y.attr("x2",o),_.attr("x",Math.max(o,0)+a),C.attr("x2",o).attr("y2",0),k.attr("x",Math.max(o,0)+a).attr("y",0),x.attr("dy",".32em").style("text-anchor","start"),w.attr("d","M"+i+","+m[0]+"H0V"+m[1]+"H"+i)}if(A.rangeBand){var M=A,S=M.rangeBand()/2;c=A=function(t){return M(t)+S}}else c.rangeBand?c=A:g.call(t,A);p.call(t,c),v.call(t,A)})}var e,n=Ko.scale.linear(),r=Ll,o=6,i=6,a=3,l=[10],s=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Hl?e+"":Ll,t):r},t.ticks=function(){return arguments.length?(l=arguments,t):l},t.tickValues=function(e){return arguments.length?(s=e,t):s},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(o=+e,i=+arguments[n-1],t):o},t.innerTickSize=function(e){return arguments.length?(o=+e,t):o},t.outerTickSize=function(e){return arguments.length?(i=+e,t):i},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Ll="bottom",Hl={top:1,right:1,bottom:1,left:1};Ko.svg.brush=function(){function t(i){i.each(function(){var i=Ko.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=i.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=i.selectAll(".resize").data(f,Tt);l.exit().remove(),l.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Il[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",t.empty()?"none":null);var c,A=Ko.transition(i),d=Ko.transition(a);s&&(c=ao(s),d.attr("x",c[0]).attr("width",c[1]-c[0]),n(A)),u&&(c=ao(u),d.attr("y",c[0]).attr("height",c[1]-c[0]),r(A)),e(A)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+A[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",A[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",A[1]-A[0])}function o(){function o(){var t=Ko.mouse(m),o=!1;v&&(t[0]+=v[0],t[1]+=v[1]),M||(Ko.event.altKey?(g||(g=[(c[0]+c[1])/2,(A[0]+A[1])/2]),R[0]=c[+(t[0]<g[0])],R[1]=A[+(t[1]<g[1])]):g=null),x&&f(t,s,0)&&(n(y),o=!0),_&&f(t,u,1)&&(r(y),o=!0),o&&(e(y),w({type:"brush",mode:M?"move":"resize"}))}function f(t,e,n){var r,o,l=ao(e),s=l[0],u=l[1],f=R[n],p=n?A:c,v=p[1]-p[0];return M&&(s-=f,u-=v+f),r=(n?h:d)?Math.max(s,Math.min(u,t[n])):t[n],M?o=(r+=f)+v:(g&&(f=Math.max(s,Math.min(u,2*g[n]-r))),r>f?(o=r,r=f):o=f),p[0]!=r||p[1]!=o?(n?a=null:i=null,p[0]=r,p[1]=o,!0):void 0}function p(){o(),y.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Ko.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),S(),w({type:"brushend"})}var g,v,m=this,b=Ko.select(Ko.event.target),w=l.of(m,arguments),y=Ko.select(m),C=b.datum(),x=!/^(n|s)$/.test(C)&&s,_=!/^(e|w)$/.test(C)&&u,M=b.classed("extent"),S=X(),R=Ko.mouse(m),E=Ko.select(ni).on("keydown.brush",function(){32==Ko.event.keyCode&&(M||(g=null,R[0]-=c[1],R[1]-=A[1],M=2),k())}).on("keyup.brush",function(){32==Ko.event.keyCode&&2==M&&(R[0]+=c[1],R[1]+=A[1],M=0,k())});if(Ko.event.changedTouches?E.on("touchmove.brush",o).on("touchend.brush",p):E.on("mousemove.brush",o).on("mouseup.brush",p),y.interrupt().selectAll("*").interrupt(),M)R[0]=c[0]-R[0],R[1]=A[0]-R[1];else if(C){var N=+/w$/.test(C),T=+/^n/.test(C);v=[c[1-N]-R[0],A[1-T]-R[1]],R[0]=c[N],R[1]=A[T]}else Ko.event.altKey&&(g=R.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null),Ko.select("body").style("cursor",b.style("cursor")),w({type:"brushstart"}),o()}var i,a,l=S(t,"brushstart","brush","brushend"),s=null,u=null,c=[0,0],A=[0,0],d=!0,h=!0,f=Pl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:c,y:A,i:i,j:a},n=this.__chart__||e;this.__chart__=e,Sl?Ko.select(this).transition().each("start.brush",function(){i=n.i,a=n.j,c=n.x,A=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=tr(c,e.x),r=tr(A,e.y);return i=a=null,function(o){c=e.x=n(o),A=e.y=r(o),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(f=Pl[!(s=e)<<1|!u],t):s},t.y=function(e){return arguments.length?(f=Pl[!s<<1|!(u=e)],t):u},t.clamp=function(e){return arguments.length?(s&&u?(d=!!e[0],h=!!e[1]):s?d=!!e:u&&(h=!!e),t):s&&u?[d,h]:s?d:u?h:null},t.extent=function(e){var n,r,o,l,d;return arguments.length?(s&&(n=e[0],r=e[1],u&&(n=n[0],r=r[0]),i=[n,r],s.invert&&(n=s(n),r=s(r)),n>r&&(d=n,n=r,r=d),(n!=c[0]||r!=c[1])&&(c=[n,r])),u&&(o=e[0],l=e[1],s&&(o=o[1],l=l[1]),a=[o,l],u.invert&&(o=u(o),l=u(l)),o>l&&(d=o,o=l,l=d),(o!=A[0]||l!=A[1])&&(A=[o,l])),t):(s&&(i?(n=i[0],r=i[1]):(n=c[0],r=c[1],s.invert&&(n=s.invert(n),r=s.invert(r)),n>r&&(d=n,n=r,r=d))),u&&(a?(o=a[0],l=a[1]):(o=A[0],l=A[1],u.invert&&(o=u.invert(o),l=u.invert(l)),o>l&&(d=o,o=l,l=d))),s&&u?[[n,o],[r,l]]:s?[n,r]:u&&[o,l])},t.clear=function(){return t.empty()||(c=[0,0],A=[0,0],i=a=null),t},t.empty=function(){return!!s&&c[0]==c[1]||!!u&&A[0]==A[1]},Ko.rebind(t,l,"on")};var Il={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],zl=na.format=sa.timeFormat,$l=zl.utc,Fl=$l("%Y-%m-%dT%H:%M:%S.%LZ");zl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?jo:Fl,jo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},jo.toString=Fl.toString,na.second=Wt(function(t){return new ra(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),na.seconds=na.second.range,na.seconds.utc=na.second.utc.range,na.minute=Wt(function(t){return new ra(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),na.minutes=na.minute.range,na.minutes.utc=na.minute.utc.range,na.hour=Wt(function(t){var e=t.getTimezoneOffset()/60;return new ra(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),na.hours=na.hour.range,na.hours.utc=na.hour.utc.range,na.month=Wt(function(t){return(t=na.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),na.months=na.month.range,na.months.utc=na.month.utc.range;var Wl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Vl=[[na.second,1],[na.second,5],[na.second,15],[na.second,30],[na.minute,1],[na.minute,5],[na.minute,15],[na.minute,30],[na.hour,1],[na.hour,3],[na.hour,6],[na.hour,12],[na.day,1],[na.day,2],[na.week,1],[na.month,1],[na.month,3],[na.year,1]],Bl=zl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Me]]),Ul={range:function(t,e,n){return Ko.range(Math.ceil(t/n)*n,+e,n).map(Yo)},floor:Tt,ceil:Tt};Vl.year=na.year,na.scale=function(){return Go(Ko.scale.linear(),Vl,Bl)};var Ol=Vl.map(function(t){return[t[0].utc,t[1]]}),ql=$l.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Me]]);Ol.year=na.year.utc,na.scale.utc=function(){return Go(Ko.scale.linear(),Ol,ql)},Ko.text=Dt(function(t){return t.responseText}),Ko.json=function(t,e){return Lt(t,"application/json",Xo,e)},Ko.html=function(t,e){return Lt(t,"text/html",Qo,e)},Ko.xml=Dt(function(t){return t.responseXML}),o=[],void 0===(i="function"==typeof(r=Ko)?r.apply(e,o):r)||(t.exports=i)}()},284:function(t,e){t.exports="data:image/gif;base64,R0lGODlhAgAYAIcAANDQ0Ovs7uzt7+3u8O7v8e/w8vDx8/Hy9Pn5+QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAACABgAAAghABEIHEiwYMEDCA8YWMiwgMMCBAgMmDhAgIAAGAMAABAQADs="},285:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAFCAYAAACXU8ZrAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90FFBEYNbyjf9QAAAAqSURBVAjXY2BAA8ePH/+PLsaIS4GlpSUjhiJsJsAUMuJSgKyQEZ8CGAAALJASrUlNPiEAAAAASUVORK5CYII="},286:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAFCAYAAACXU8ZrAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90FAQEEApmIg1sAAAAIdEVYdENvbW1lbnQA9syWvwAAAClJREFUCNdjYEAD7e3t/9HFGHEpqKysZMRQhM0EmEJGXAqQFTLiUwADAGgBES2sBUVoAAAAAElFTkSuQmCC"},287:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.is_little_endian=n,e.get_model_array_attribute_metadata=r,e.cast_array_buffer=o,e.get_model_array_attribute=function(e){var i=t.Deferred();void 0===e.metadata?(e.metadataSuccess=a,r(e,i)):a(e);return i;function a(t){var e=[],r="",a=t.metadata,l=t.attribute,s="string"==a.attributes[l].type,u="&byteorder="+(n()?"little":"big");for(var c in s&&(u=""),a.dimensions)r="",r+=a.dimensions[c].begin,r+=":",r+=a.dimensions[c].end,e.push(r);e=e.join("|");var A=new XMLHttpRequest;A.open("GET",t.api_root+"models/"+t.mid+"/arraysets/"+t.aid+"/data?hyperchunks="+t.array+"/"+t.attribute+"/"+e+u),s||(A.responseType="arraybuffer"),A.success=t.success,A.attribute=t.attribute,A.metadata=a,A.isStringAttribute=s,A.onload=function(t){var e=this.response,n=this.metadata,r=this.metadata.attributes[this.attribute];if(1==n.dimensions.length)s=this.isStringAttribute?JSON.parse(this.responseText):o(e,r.type);else if(2==n.dimensions.length)for(var a=n.dimensions[0].end-n.dimensions[0].begin,l=n.dimensions[1].end-n.dimensions[1].begin,s=[],u=0;u!=a;++u)s.push(o(e,r.type,u*l,l));else window.alert("Can't handle array with "+n.dimensions.length+" dimensions.");this.success(s),i.resolve()},A.send()}};e.arrayset_metadata_cache={};function n(){return void 0===window.result&&(window.result=67305985===new Uint32Array(new Uint8Array([1,2,3,4]).buffer)[0]),window.result}function r(e,n){return t.ajax({url:e.api_root+"models/"+e.mid+"/arraysets/"+e.aid+"/metadata?arrays="+e.array,contentType:"application/json",success:function(t){e.metadata=t.arrays[0],void 0!==e.metadataSuccess?e.metadataSuccess(e):e.success(e)},error:function(t,n,r){e.error&&e.error(t,n,r)},always:function(){n.resolve()}})}function o(t,e,n,r){return"int32"==e?void 0!==n?new Int32Array(t,4*n,r):new Int32Array(t):"int16"==e?void 0!==n?new Int16Array(t,2*n,r):new Int16Array(t):"int8"==e?void 0!==n?new Int8Array(t,n,r):new Int8Array(t):"uint32"==e?void 0!==n?new Uint32Array(t,4*n,r):new Uint32Array(t):"uint16"==e?void 0!==n?new Uint16Array(t,2*n,r):new Uint16Array(t):"uint8"==e?void 0!==n?new Uint8Array(t,n,r):new Uint8Array(t):"float64"==e?void 0!==n?new Float64Array(t,8*n,r):new Float64Array(t):"float32"==e?void 0!==n?new Float32Array(t,4*n,r):new Float32Array(t):void console.error("Unknown array buffer type: "+e)}}).call(this,n(1))},289:function(t,e,n){var r=n(290);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,o);r.locals&&(t.exports=r.locals)},290:function(t,e,n){var r=n(38);(t.exports=n(36)(!1)).push([t.i,"/*\nIMPORTANT:\nIn order to preserve the uniform grid appearance, all cell styles need to have padding, margin and border sizes.\nNo built-in (selected, editable, highlight, flashing, invalid, loading, :focus) or user-specified CSS\nclasses should alter those!\n*/\n\n.slick-header.ui-state-default, .slick-headerrow.ui-state-default {\n  width: 100%;\n  overflow: hidden;\n  border-left: 0px;\n}\n\n.slick-header-columns, .slick-headerrow-columns {\n  position: relative;\n  white-space: nowrap;\n  cursor: default;\n  overflow: hidden;\n}\n\n.slick-header-column.ui-state-default {\n  position: relative;\n  display: inline-block;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  height: 16px;\n  line-height: 16px;\n  margin: 0;\n  padding: 4px;\n  border-right: 1px solid silver;\n  border-left: 0px;\n  border-top: 0px;\n  border-bottom: 0px;\n  float: left;\n}\n\n.slick-headerrow-column.ui-state-default {\n  padding: 4px;\n}\n\n.slick-header-column-sorted {\n  font-style: italic;\n}\n\n.slick-sort-indicator {\n  display: inline-block;\n  width: 8px;\n  height: 5px;\n  margin-left: 4px;\n  margin-top: 6px;\n  float: left;\n}\n\n.slick-sort-indicator-desc {\n  background: url("+r(n(291))+");\n}\n\n.slick-sort-indicator-asc {\n  background: url("+r(n(292))+");\n}\n\n.slick-resizable-handle {\n  position: absolute;\n  font-size: 0.1px;\n  display: block;\n  cursor: col-resize;\n  width: 4px;\n  right: 0px;\n  top: 0;\n  height: 100%;\n}\n\n.slick-sortable-placeholder {\n  background: silver;\n}\n\n.grid-canvas {\n  position: relative;\n  outline: 0;\n}\n\n.slick-row.ui-widget-content, .slick-row.ui-state-active {\n  position: absolute;\n  border: 0px;\n  width: 100%;\n}\n\n.slick-cell, .slick-headerrow-column {\n  position: absolute;\n  border: 1px solid transparent;\n  border-right: 1px dotted silver;\n  border-bottom-color: silver;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n  z-index: 1;\n  padding: 1px 2px 2px 1px;\n  margin: 0;\n  white-space: nowrap;\n  cursor: default;\n}\n\n.slick-group {\n}\n\n.slick-group-toggle {\n  display: inline-block;\n}\n\n.slick-cell.highlighted {\n  background: lightskyblue;\n  background: rgba(0, 0, 255, 0.2);\n  -webkit-transition: all 0.5s;\n  -moz-transition: all 0.5s;\n  -o-transition: all 0.5s;\n  transition: all 0.5s;\n}\n\n.slick-cell.flashing {\n  border: 1px solid red !important;\n}\n\n.slick-cell.editable {\n  z-index: 11;\n  overflow: visible;\n  background: white;\n  border-color: black;\n  border-style: solid;\n}\n\n.slick-cell:focus {\n  outline: none;\n}\n\n.slick-reorder-proxy {\n  display: inline-block;\n  background: blue;\n  opacity: 0.15;\n  filter: alpha(opacity = 15);\n  cursor: move;\n}\n\n.slick-reorder-guide {\n  display: inline-block;\n  height: 2px;\n  background: blue;\n  opacity: 0.7;\n  filter: alpha(opacity = 70);\n}\n\n.slick-selection {\n  z-index: 10;\n  position: absolute;\n  border: 2px dashed black;\n}\n",""])},291:function(t,e){t.exports="data:image/gif;base64,R0lGODlhDQAFAIcAAGGQzUD/QOPu+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAAEALAAAAAANAAUAAAgeAAUAGEgQgIAACBEKLHgwYcKFBh1KFNhQosOKEgMCADs="},292:function(t,e){t.exports="data:image/gif;base64,R0lGODlhDQAFAIcAAGGQzUD/QOPu+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAAEALAAAAAANAAUAAAgbAAMIDABgoEGDABIeRJhQ4cKGEA8KmEiRosGAADs="},293:function(t,e,n){var r=n(294);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,o);r.locals&&(t.exports=r.locals)},294:function(t,e,n){var r=n(38);(t.exports=n(36)(!1)).push([t.i,"/*\nIMPORTANT:\nIn order to preserve the uniform grid appearance, all cell styles need to have padding, margin and border sizes.\nNo built-in (selected, editable, highlight, flashing, invalid, loading, :focus) or user-specified CSS\nclasses should alter those!\n*/\n\n.slick-header-columns {\n  background: url("+r(n(284))+") repeat-x center bottom;\n  border-bottom: 1px solid silver;\n}\n\n.slick-header-column {\n  background: url("+r(n(284))+") repeat-x center bottom;\n  border-right: 1px solid silver;\n}\n\n.slick-header-column:hover, .slick-header-column-active {\n  background: white url("+r(n(295))+") repeat-x center bottom;\n}\n\n.slick-headerrow {\n  background: #fafafa;\n}\n\n.slick-headerrow-column {\n  background: #fafafa;\n  border-bottom: 0;\n  height: 100%;\n}\n\n.slick-row.ui-state-active {\n  background: #F5F7D7;\n}\n\n.slick-row {\n  position: absolute;\n  background: white;\n  border: 0px;\n  line-height: 20px;\n}\n\n.slick-row.selected {\n  z-index: 10;\n  background: #DFE8F6;\n}\n\n.slick-cell {\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n.slick-group {\n  border-bottom: 2px solid silver;\n}\n\n.slick-group-toggle {\n  width: 9px;\n  height: 9px;\n  margin-right: 5px;\n}\n\n.slick-group-toggle.expanded {\n  background: url("+r(n(296))+") no-repeat center center;\n}\n\n.slick-group-toggle.collapsed {\n  background: url("+r(n(297))+") no-repeat center center;\n}\n\n.slick-group-totals {\n  color: gray;\n  background: white;\n}\n\n.slick-cell.selected {\n  background-color: beige;\n}\n\n.slick-cell.active {\n  border-color: gray;\n  border-style: solid;\n}\n\n.slick-sortable-placeholder {\n  background: silver !important;\n}\n\n.slick-row.odd {\n  background: #fafafa;\n}\n\n.slick-row.ui-state-active {\n  background: #F5F7D7;\n}\n\n.slick-row.loading {\n  opacity: 0.5;\n  filter: alpha(opacity = 50);\n}\n\n.slick-cell.invalid {\n  border-color: red;\n  -moz-animation-duration: 0.2s;\n  -webkit-animation-duration: 0.2s;\n  -moz-animation-name: slickgrid-invalid-hilite;\n  -webkit-animation-name: slickgrid-invalid-hilite;  \n}\n\n@-moz-keyframes slickgrid-invalid-hilite {\n  from { box-shadow: 0 0 6px red; }\n  to { box-shadow: none; }\n}\n\n@-webkit-keyframes slickgrid-invalid-hilite {\n  from { box-shadow: 0 0 6px red; }\n  to { box-shadow: none; }\n}",""])},295:function(t,e){t.exports="data:image/gif;base64,R0lGODlhAgAWAIcAAKrM9tno++vz/QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAACABYAAAgUAAUIHEiwoIAACBMqXMhwIQAAAQEAOw=="},296:function(t,e){t.exports="data:image/gif;base64,R0lGODlhCQAJAPcAAAFGeoCAgNXz/+v5/+v6/+z5/+36//L7//X8//j9/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAACQAJAAAIMwADCBxIUIDBgwIEChgwwECBAgQUFjBAkaJCABgxGlB4AGHCAAIQiBypEEECkScJqgwQEAA7"},297:function(t,e){t.exports="data:image/gif;base64,R0lGODlhCQAJAPcAAAFGeoCAgNXz/+v5/+v6/+z5/+36//L7//X8//j9/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAACQAJAAAIOAADCBxIUIDBgwIEChgwAECBAgQUFjAAQIABAwoBaNSIMYCAAwIqGlSIAEHFkiQTIBCgkqDLAAEBADs="},298:function(t,e,n){var r=n(299);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,o);r.locals&&(t.exports=r.locals)},299:function(t,e,n){(t.exports=n(36)(!1)).push([t.i,'.slick-column-name,\n.slick-sort-indicator {\n  /**\n   * This makes all "float:right" elements after it that spill over to the next line\n   * display way below the lower boundary of the column thus hiding them.\n   */\n  display: inline-block;\n  float: left;\n  margin-bottom: 100px;\n}\n\n.slick-header-button {\n  display: inline-block;\n  float: right;\n  vertical-align: top;\n  margin: 1px;\n  /**\n  * This makes all "float:right" elements after it that spill over to the next line\n  * display way below the lower boundary of the column thus hiding them.\n  */\n  margin-bottom: 100px;\n  height: 15px;\n  width: 15px;\n  background-repeat: no-repeat;\n  background-position: center center;\n  cursor: pointer;\n}\n\n.slick-header-button-hidden {\n  width: 0;\n\n  -webkit-transition: 0.2s width;\n  -ms-transition: 0.2s width;\n  transition: 0.2s width;\n}\n\n.slick-header-column:hover > .slick-header-button {\n  width: 15px;\n}',""])},300:function(t,e,n){var r=n(301);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,o);r.locals&&(t.exports=r.locals)},301:function(t,e,n){var r=n(38);(t.exports=n(36)(!1)).push([t.i,'/* Copyright (c) 2013, 2018 National Technology and Engineering Solutions of Sandia, LLC . Under the terms of Contract  DE-NA0003525 with National Technology and Engineering Solutions of Sandia, LLC, the U.S. Government  retains certain rights in this software. */\n\n/* Absolute positioning SlickGrid container to get it to fit the box completely */\n#timeseries-table-slickgrid {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n}\n\n.ui-widget {\n\tfont-family: helvetica,arial,sans-serif;\n}\n.slick-header-columns,\n.slick-header-column,\n.slick-header-column:hover, \n.slick-header-column-active\n{\n  background-image: none;\n}\n.slick-header-column.headerSimId.selected {\n\tbackground-color: #888888;\n\tcolor: white;\n}\n.slick-header-column.headerInput.selected {\n\tbackground-color: #3CA654;\n\tcolor: white;\n}\n.slick-header {\n\tbackground-color: transparent;\n\tbackground-image: none;\n}\n.headerSimId,\n.headerOther {\n\tbackground-color: transparent;\n}\n.rowSimId,\n.rowOther {\n\tbackground-color: transparent;\n}\n.rowSimId.selected,\n.rowOther.selected {\n\tbackground-color: #DDDDDD;\n}\n.headerInput {\n    background-color: #EEFFE0;\n}\n.rowInput {\n\tbackground-color: #C7E9C0;\n}\n.rowInput.selected {\n\tbackground-color: #3CA654;\n\tcolor: white;\n}\n.headerOutput {\n    background-color: #EEEEFF;\n}\n.rowOutput {\n\tbackground-color: #DBD9EB;\n}\n.rowOutput.selected {\n\tbackground-color: #7767B0;\n\tcolor: white;\n}\n\n/* Removing zebra striping */\n.slick-row[row$="1"], .slick-row[row$="3"], .slick-row[row$="5"], .slick-row[row$="7"], .slick-row[row$="9"] {\n    background-color: transparent;\n}\n.slick-row.odd {\n\tbackground-color: white;\n}\n\n.slick-cell,\n.slick-header-column\n{\n\tcolor: #666655;\n\tfont-size: small;\n}\n.slick-header-column {\n\tfont-weight: bold;\n}\n.highlight {\n\tpadding: 0;\n\theight: auto !important;\n}\n.highlightWrapper {\n  color: white;\n\tpadding: 2px 4px 3px 4px;\n}\n.highlightWrapper.light {\n\t/*color: #666655;*/\n\tcolor: black;\n}\n/* Stripe backgrounds generated using http://www.stripegenerator.com */\n.highlightWrapper.null {\n\tbackground: #DDDDDD url('+r(n(302))+") !important;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n.selected .highlightWrapper.null {\n\tbackground-image: url("+r(n(303))+") !important;\n}\n.highlight .highlightWrapper.null {\n\tposition: static;\n}\n\n/* Removing borders around cells */\n.slick-cell, .slick-headerrow-column {\n\tborder-width: 0px;\n}\n.slick-header-columns {\n\tborder-bottom-width: 0px;\n}\n\n/* Styling sort controls */\n.icon-sort-off {\n\tborder: 1px solid transparent;\n}\n.slick-header-column:hover .icon-sort-off {\n\tborder: 1px solid transparent;\n\tbackground: transparent url("+r(n(285))+") no-repeat center center;\n}\n.icon-sort-off:hover {\n\tborder: 1px solid #C7C7C7 !important;\n}\n.icon-sort-ascending {\n\tborder: 1px solid transparent;\n\tbackground: transparent url("+r(n(286))+") no-repeat center center;\n}\n.icon-sort-descending {\n\tborder: 1px solid transparent;\n\tbackground: transparent url("+r(n(304))+") no-repeat center center;\n}\n.icon-sort-ascending:hover,\n.icon-sort-descending:hover\n{\n\tborder: 1px solid #878787;\n}\n\n/* Alex making buttons always have space */\n.slick-column-name, \n.slick-sort-indicator\n{\n\tdisplay: inline;\n\tfloat: none;\n\tmargin-bottom: 0px;\n}\n.slick-header-button {\n\tfloat: none;\n\tposition: absolute;\n\ttop: 3px;\n  right: 3px;\n}\n.slick-header-button.image-test-class {\n  right: 20px;\n}\n.slick-header-column {\n\tpadding-right: 23px !important;\n}\n.slick-row.nullRow .slick-cell,\n.slick-row.nullRow .slick-cell .highlightWrapper\n{\n\tbackground-color: white !important;\n\tcolor: #666655 !important;\n}\n.slick-row.nullRow .slick-cell.selected,\n.slick-row.nullRow .slick-cell.selected .highlightWrapper\n{\n\tbackground-color: #DDDDDD !important;\n\tcolor: #666655 !important;\n}\n.slick-row.hiddenRow .slick-cell,\n.slick-row.hiddenRow .slick-cell .highlightWrapper\n{\n\tbackground-color: white !important;\n\tcolor: #c7c7c7 !important;\n}\n.slick-row.hiddenRow .slick-cell.selected,\n.slick-row.hiddenRow .slick-cell.selected .highlightWrapper\n{\n\tbackground-color: #F5F5DC !important;\n\tcolor: #c7c7c7 !important;\n}",""])},302:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAIAAADZSiLoAAAAH0lEQVQImSXIMQEAMAwCMOpfC1jMjuVM2gKHJNuC3w87vxULvAnaoQAAAABJRU5ErkJggg=="},303:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAIAAADZSiLoAAAAIklEQVQImWNcu3atgYEBAwMD4927dxkYGC5cuMAEoQwMDACgZgqjfO75sQAAAABJRU5ErkJggg=="},304:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAFCAYAAACXU8ZrAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90FAQECOX7ZzfkAAAAIdEVYdENvbW1lbnQA9syWvwAAAC5JREFUCNdjbG9v/89AADAyMDAw4FNYWVnJyAjjYFNYWVnJCDcJm0KYAqwAm4kAaJURLWsFPcIAAAAASUVORK5CYII="},305:function(t,e,n){"use strict";(function(t){!function(t){t.fn.drag=function(e,n,r){var o="string"==typeof e?e:"",i=t.isFunction(e)?e:t.isFunction(n)?n:null;return 0!==o.indexOf("drag")&&(o="drag"+o),r=(e==i?n:r)||{},i?this.bind(o,r,i):this.trigger(o)};var e=t.event,n=e.special,r=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(e){var n=t.data(this,r.datakey),o=e.data||{};n.related+=1,t.each(r.defaults,function(t,e){void 0!==o[t]&&(n[t]=o[t])})},remove:function(){t.data(this,r.datakey).related-=1},setup:function(){if(!t.data(this,r.datakey)){var n=t.extend({related:0},r.defaults);t.data(this,r.datakey,n),e.add(this,"touchstart mousedown",r.init,n),this.attachEvent&&this.attachEvent("ondragstart",r.dontstart)}},teardown:function(){(t.data(this,r.datakey)||{}).related||(t.removeData(this,r.datakey),e.remove(this,"touchstart mousedown",r.init),r.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",r.dontstart))},init:function(o){if(!r.touched){var i,a=o.data;if(!(0!=o.which&&a.which>0&&o.which!=a.which)&&!t(o.target).is(a.not)&&(!a.handle||t(o.target).closest(a.handle,o.currentTarget).length)&&(r.touched="touchstart"==o.type?this:null,a.propagates=1,a.mousedown=this,a.interactions=[r.interaction(this,a)],a.target=o.target,a.pageX=o.pageX,a.pageY=o.pageY,a.dragging=null,i=r.hijack(o,"draginit",a),a.propagates))return(i=r.flatten(i))&&i.length&&(a.interactions=[],t.each(i,function(){a.interactions.push(r.interaction(this,a))})),a.propagates=a.interactions.length,!1!==a.drop&&n.drop&&n.drop.handler(o,a),r.textselect(!1),r.touched?e.add(r.touched,"touchmove touchend",r.handler,a):e.add(document,"mousemove mouseup",r.handler,a),!(!r.touched||a.live)&&void 0}},interaction:function(e,n){var o=t(e)[n.relative?"position":"offset"]()||{top:0,left:0};return{drag:e,callback:new r.callback,droppable:[],offset:o}},handler:function(o){var i=o.data;switch(o.type){case!i.dragging&&"touchmove":o.preventDefault();case!i.dragging&&"mousemove":if(Math.pow(o.pageX-i.pageX,2)+Math.pow(o.pageY-i.pageY,2)<Math.pow(i.distance,2))break;o.target=i.target,r.hijack(o,"dragstart",i),i.propagates&&(i.dragging=!0);case"touchmove":o.preventDefault();case"mousemove":if(i.dragging){if(r.hijack(o,"drag",i),i.propagates){!1!==i.drop&&n.drop&&n.drop.handler(o,i);break}o.type="mouseup"}case"touchend":case"mouseup":default:r.touched?e.remove(r.touched,"touchmove touchend",r.handler):e.remove(document,"mousemove mouseup",r.handler),i.dragging&&(!1!==i.drop&&n.drop&&n.drop.handler(o,i),r.hijack(o,"dragend",i)),r.textselect(!0),!1===i.click&&i.dragging&&t.data(i.mousedown,"suppress.click",(new Date).getTime()+5),i.dragging=r.touched=!1}},hijack:function(n,o,i,a,l){if(i){var s,u,c,A={event:n.originalEvent,type:n.type},d=o.indexOf("drop")?"drag":"drop",h=a||0,f=isNaN(a)?i.interactions.length:a;n.type=o,n.originalEvent=null,i.results=[];do{if(u=i.interactions[h]){if("dragend"!==o&&u.cancelled)continue;c=r.properties(n,i,u),u.results=[],t(l||u[d]||i.droppable).each(function(a,l){if(c.target=l,n.isPropagationStopped=function(){return!1},!1===(s=l?e.dispatch.call(l,n,c):null)?("drag"==d&&(u.cancelled=!0,i.propagates-=1),"drop"==o&&(u[d][a]=null)):"dropinit"==o&&u.droppable.push(r.element(s)||l),"dragstart"==o&&(u.proxy=t(r.element(s)||u.drag)[0]),u.results.push(s),delete n.result,"dropinit"!==o)return s}),i.results[h]=r.flatten(u.results),"dropinit"==o&&(u.droppable=r.flatten(u.droppable)),"dragstart"!=o||u.cancelled||c.update()}}while(++h<f);return n.type=A.type,n.originalEvent=A.event,r.flatten(i.results)}},properties:function(t,e,n){var o=n.callback;return o.drag=n.drag,o.proxy=n.proxy||n.drag,o.startX=e.pageX,o.startY=e.pageY,o.deltaX=t.pageX-e.pageX,o.deltaY=t.pageY-e.pageY,o.originalX=n.offset.left,o.originalY=n.offset.top,o.offsetX=o.originalX+o.deltaX,o.offsetY=o.originalY+o.deltaY,o.drop=r.flatten((n.drop||[]).slice()),o.available=r.flatten((n.droppable||[]).slice()),o},element:function(t){if(t&&(t.jquery||1==t.nodeType))return t},flatten:function(e){return t.map(e,function(e){return e&&e.jquery?t.makeArray(e):e&&e.length?r.flatten(e):e})},textselect:function(e){t(document)[e?"unbind":"bind"]("selectstart",r.dontstart).css("MozUserSelect",e?"":"none"),document.unselectable=e?"off":"on"},dontstart:function(){return!1},callback:function(){}};r.callback.prototype={update:function(){n.drop&&this.available.length&&t.each(this.available,function(t){n.drop.locate(this,t)})}};var o=e.dispatch;e.dispatch=function(e){if(!(t.data(this,"suppress."+e.type)-(new Date).getTime()>0))return o.apply(this,arguments);t.removeData(this,"suppress."+e.type)};var i=e.fixHooks.touchstart=e.fixHooks.touchmove=e.fixHooks.touchend=e.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(e,n){if(n){var r=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0]||null;r&&t.each(i.props,function(t,n){e[n]=r[n]})}return e}};n.draginit=n.dragstart=n.dragend=r}(t)}).call(this,n(1))},306:function(t,e,n){"use strict";(function(t){!function(e){function n(){var t=!1,e=!1;this.stopPropagation=function(){t=!0},this.isPropagationStopped=function(){return t},this.stopImmediatePropagation=function(){e=!0},this.isImmediatePropagationStopped=function(){return e}}function r(){this.__nonDataRow=!0}function o(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function i(){this.__groupTotals=!0,this.group=null,this.initialized=!1}function a(){var t=null;this.isActive=function(e){return e?t===e:null!==t},this.activate=function(e){if(e!==t){if(null!==t)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!e.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!e.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";t=e}},this.deactivate=function(e){if(t!==e)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";t=null},this.commitCurrentEdit=function(){return!t||t.commitCurrentEdit()},this.cancelCurrentEdit=function(){return!t||t.cancelCurrentEdit()}}t.extend(!0,window,{Slick:{Event:function(){var t=[];this.subscribe=function(e){t.push(e)},this.unsubscribe=function(e){for(var n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1)},this.notify=function(e,r,o){var i;r=r||new n,o=o||this;for(var a=0;a<t.length&&!r.isPropagationStopped()&&!r.isImmediatePropagationStopped();a++)i=t[a].call(o,r,e);return i}},EventData:n,EventHandler:function(){var t=[];this.subscribe=function(e,n){return t.push({event:e,handler:n}),e.subscribe(n),this},this.unsubscribe=function(e,n){for(var r=t.length;r--;)if(t[r].event===e&&t[r].handler===n)return t.splice(r,1),void e.unsubscribe(n);return this},this.unsubscribeAll=function(){for(var e=t.length;e--;)t[e].event.unsubscribe(t[e].handler);return t=[],this}},Range:function(t,e,n,r){void 0===n&&void 0===r&&(n=t,r=e);this.fromRow=Math.min(t,n),this.fromCell=Math.min(e,r),this.toRow=Math.max(t,n),this.toCell=Math.max(e,r),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(t,e){return t>=this.fromRow&&t<=this.toRow&&e>=this.fromCell&&e<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},NonDataRow:r,Group:o,GroupTotals:i,EditorLock:a,GlobalEditorLock:new a}}),o.prototype=new r,o.prototype.equals=function(t){return this.value===t.value&&this.count===t.count&&this.collapsed===t.collapsed&&this.title===t.title},i.prototype=new r}()}).call(this,n(1))},307:function(module,exports,__webpack_require__){"use strict";(function(jQuery){
/**
 * @license
 * (c) 2009-2013 Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 *
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v2.2
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */
if(void 0===jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"==typeof Slick)throw"slick.core.js not loaded";!function($){var scrollbarDimensions,maxSupportedCssHeight;function SlickGrid(container,data,columns,options){var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row"},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacer,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,absoluteColumnMinWidth,tabbingDirection=1,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0,rowNodeFromLastMouseWheelEvent,zombieRowNodeFromLastMouseWheelEvent;function init(){if(($container=$(container)).length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,columnsById={};for(var t=0;t<columns.length;t++){var e=columns[t]=$.extend({},columnDefaults,columns[t]);columnsById[e.id]=t,e.minWidth&&e.width<e.minWidth&&(e.width=e.minWidth),e.maxWidth&&e.width>e.maxWidth&&(e.width=e.maxWidth)}if(options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$headerScroller=$("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),($headers=$("<div class='slick-header-columns' style='left:-1000px' />").appendTo($headerScroller)).width(getHeadersWidth()),$headerRowScroller=$("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$headerRow=$("<div class='slick-headerrow-columns' />").appendTo($headerRowScroller),$headerRowSpacer=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScroller),$topPanelScroller=$("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$topPanel=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),($viewport=$("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo($container)).css("overflow-y",options.autoHeight?"hidden":"auto"),$canvas=$("<div class='grid-canvas' />").appendTo($viewport),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,viewportW=parseFloat($.css($container[0],"width",!0)),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.bind("selectstart.ui",function(t){return $(t.target).is("input,textarea")}),updateColumnCaches(),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.bind("resize.slickgrid",resizeCanvas),$viewport.bind("scroll",handleScroll),$headerScroller.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller.bind("scroll",handleHeaderRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&$canvas.bind("mousewheel",handleMouseWheel))}function registerPlugin(t){plugins.unshift(t),t.init(self)}function unregisterPlugin(t){for(var e=plugins.length;e>=0;e--)if(plugins[e]===t){plugins[e].destroy&&plugins[e].destroy(),plugins.splice(e,1);break}}function setSelectionModel(t){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),(selectionModel=t)&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function measureScrollbar(){var t=$("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),e={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),e}function getHeadersWidth(){for(var t=0,e=0,n=columns.length;e<n;e++){t+=columns[e].width}return t+=scrollbarDimensions.width,Math.max(t,viewportW)+1e3}function getCanvasWidth(){for(var t=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,e=0,n=columns.length;n--;)e+=columns[n].width;return options.fullWidthRows?Math.max(e,t):e}function updateCanvasWidth(t){var e=canvasWidth;(canvasWidth=getCanvasWidth())!=e&&($canvas.width(canvasWidth),$headerRow.width(canvasWidth),$headers.width(getHeadersWidth()),viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width),$headerRowSpacer.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),(canvasWidth!=e||t)&&applyColumnWidths()}function disableSelection(t){t&&t.jquery&&t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=$("<div style='display:none' />").appendTo(document.body);;){var r=2*t;if(n.css("height",r),r>e||n.height()!==r)break;t=r}return n.remove(),t}function bindAncestorScrollEvents(){for(var t=$canvas[0];(t=t.parentNode)!=document.body&&null!=t;)if(t==$viewport[0]||t.scrollWidth!=t.clientWidth||t.scrollHeight!=t.clientHeight){var e=$(t);$boundAncestors=$boundAncestors?$boundAncestors.add(e):e,e.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(t,e,n){if(initialized){var r=getColumnIndex(t);if(null!=r){var o=columns[r],i=$headers.children().eq(r);i&&(void 0!==e&&(columns[r].name=e),void 0!==n&&(columns[r].toolTip=n),trigger(self.onBeforeHeaderCellDestroy,{node:i[0],column:o}),i.attr("title",n||"").children().eq(0).html(e),trigger(self.onHeaderCellRendered,{node:i[0],column:o}))}}}function getHeaderRow(){return $headerRow[0]}function getHeaderRowColumn(t){var e=getColumnIndex(t),n=$headerRow.children().eq(e);return n&&n[0]}function createColumnHeaders(){function t(){$(this).addClass("ui-state-hover")}function e(){$(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each(function(){var t=$(this).data("column");t&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:t})}),$headers.empty(),$headers.width(getHeadersWidth()),$headerRow.find(".slick-headerrow-column").each(function(){var t=$(this).data("column");t&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:t})}),$headerRow.empty();for(var n=0;n<columns.length;n++){var r=columns[n],o=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+r.name+"</span>").width(r.width-headerColumnWidthDiff).attr("id",""+uid+r.id).attr("title",r.toolTip||"").data("column",r).addClass(r.headerCssClass||"").appendTo($headers);if((options.enableColumnReorder||r.sortable)&&o.on("mouseenter",t).on("mouseleave",e),r.sortable&&(o.addClass("slick-header-sortable"),o.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:o[0],column:r}),options.showHeaderRow){var i=$("<div class='ui-state-default slick-headerrow-column l"+n+" r"+n+"'></div>").data("column",r).appendTo($headerRow);trigger(self.onHeaderRowCellRendered,{node:i[0],column:r})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers.click(function(t){if(t.metaKey=t.metaKey||t.ctrlKey,!$(t.target).hasClass("slick-resizable-handle")){var e=$(t.target).closest(".slick-header-column");if(e.length){var n=e.data("column");if(n.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var r=null,o=0;o<sortColumns.length;o++)if(sortColumns[o].columnId==n.id){(r=sortColumns[o]).sortAsc=!r.sortAsc;break}t.metaKey&&options.multiColumnSort?r&&sortColumns.splice(o,1):((t.shiftKey||t.metaKey)&&options.multiColumnSort||(sortColumns=[]),r?0==sortColumns.length&&sortColumns.push(r):(r={columnId:n.id,sortAsc:n.defaultSortAsc},sortColumns.push(r))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,function(t){return{sortCol:columns[getColumnIndex(t.columnId)],sortAsc:t.sortAsc}})},t):trigger(self.onSort,{multiColumnSort:!1,sortCol:n,sortAsc:r.sortAsc},t)}}}})}function setupColumnReorder(){$headers.filter(":ui-sortable").sortable("destroy"),$headers.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(t,e){e.placeholder.width(e.helper.outerWidth()-headerColumnWidthDiff),$(e.helper).addClass("slick-header-column-active")},beforeStop:function(t,e){$(e.helper).removeClass("slick-header-column-active")},stop:function(t){if(getEditorLock().commitCurrentEdit()){for(var e=$headers.sortable("toArray"),n=[],r=0;r<e.length;r++)n.push(columns[getColumnIndex(e[r].replace(uid,""))]);setColumns(n),trigger(self.onColumnsReordered,{}),t.stopPropagation(),setupColumnResize()}else $(this).sortable("cancel")}})}function setupColumnResize(){var t,e,n,r,o,i,a,l;(r=$headers.children()).find(".slick-resizable-handle").remove(),r.each(function(t,e){columns[t].resizable&&(void 0===a&&(a=t),l=t)}),void 0!==a&&r.each(function(s,u){s<a||options.forceFitColumns&&s>=l||($(u),$("<div class='slick-resizable-handle' />").appendTo(u).bind("dragstart",function(a,l){if(!getEditorLock().commitCurrentEdit())return!1;n=a.pageX,$(this).parent().addClass("slick-header-column-active");var u=null,c=null;if(r.each(function(t,e){columns[t].previousWidth=$(e).outerWidth()}),options.forceFitColumns)for(u=0,c=0,t=s+1;t<r.length;t++)(e=columns[t]).resizable&&(null!==c&&(e.maxWidth?c+=e.maxWidth-e.previousWidth:c=null),u+=e.previousWidth-Math.max(e.minWidth||0,absoluteColumnMinWidth));var A=0,d=0;for(t=0;t<=s;t++)(e=columns[t]).resizable&&(null!==d&&(e.maxWidth?d+=e.maxWidth-e.previousWidth:d=null),A+=e.previousWidth-Math.max(e.minWidth||0,absoluteColumnMinWidth));null===u&&(u=1e5),null===A&&(A=1e5),null===c&&(c=1e5),null===d&&(d=1e5),i=n+Math.min(u,d),o=n-Math.min(A,c)}).bind("drag",function(a,l){var u,c,A=Math.min(i,Math.max(o,a.pageX))-n;if(A<0){for(c=A,t=s;t>=0;t--)(e=columns[t]).resizable&&(u=Math.max(e.minWidth||0,absoluteColumnMinWidth),c&&e.previousWidth+c<u?(c+=e.previousWidth-u,e.width=u):(e.width=e.previousWidth+c,c=0));if(options.forceFitColumns)for(c=-A,t=s+1;t<r.length;t++)(e=columns[t]).resizable&&(c&&e.maxWidth&&e.maxWidth-e.previousWidth<c?(c-=e.maxWidth-e.previousWidth,e.width=e.maxWidth):(e.width=e.previousWidth+c,c=0))}else{for(c=A,t=s;t>=0;t--)(e=columns[t]).resizable&&(c&&e.maxWidth&&e.maxWidth-e.previousWidth<c?(c-=e.maxWidth-e.previousWidth,e.width=e.maxWidth):(e.width=e.previousWidth+c,c=0));if(options.forceFitColumns)for(c=-A,t=s+1;t<r.length;t++)(e=columns[t]).resizable&&(u=Math.max(e.minWidth||0,absoluteColumnMinWidth),c&&e.previousWidth+c<u?(c+=e.previousWidth-u,e.width=u):(e.width=e.previousWidth+c,c=0))}applyColumnHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths()}).bind("dragend",function(n,o){var i;for($(this).parent().removeClass("slick-header-column-active"),t=0;t<r.length;t++)e=columns[t],i=$(r[t]).outerWidth(),e.previousWidth!==i&&e.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{})}))})}function getVBoxDelta(t){var e=0;return $.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(n,r){e+=parseFloat(t.css(r))||0}),e}function measureCellPaddingAndBorder(){var t,e=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];t=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=t.css("box-sizing")&&"border-box"!=t.css("-moz-box-sizing")&&"border-box"!=t.css("-webkit-box-sizing")&&($.each(e,function(e,n){headerColumnWidthDiff+=parseFloat(t.css(n))||0}),$.each(n,function(e,n){headerColumnHeightDiff+=parseFloat(t.css(n))||0})),t.remove();var r=$("<div class='slick-row' />").appendTo($canvas);t=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(r),cellWidthDiff=cellHeightDiff=0,"border-box"!=t.css("box-sizing")&&"border-box"!=t.css("-moz-box-sizing")&&"border-box"!=t.css("-webkit-box-sizing")&&($.each(e,function(e,n){cellWidthDiff+=parseFloat(t.css(n))||0}),$.each(n,function(e,n){cellHeightDiff+=parseFloat(t.css(n))||0})),r.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));for(var t=options.rowHeight-cellHeightDiff,e=["."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+t+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],n=0;n<columns.length;n++)e.push("."+uid+" .l"+n+" { }"),e.push("."+uid+" .r"+n+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=e.join(" "):$style[0].appendChild(document.createTextNode(e.join(" ")))}function getColumnCssRules(t){if(!stylesheet){for(var e=document.styleSheets,n=0;n<e.length;n++)if((e[n].ownerNode||e[n].owningElement)==$style[0]){stylesheet=e[n];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];var r,o,i=stylesheet.cssRules||stylesheet.rules;for(n=0;n<i.length;n++){var a=i[n].selectorText;(r=/\.l\d+/.exec(a))?(o=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesL[o]=i[n]):(r=/\.r\d+/.exec(a))&&(o=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesR[o]=i[n])}}return{left:columnCssRulesL[t],right:columnCssRulesR[t]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var t=plugins.length;t--;)unregisterPlugin(plugins[t]);options.enableColumnReorder&&$headers.filter(":ui-sortable").sortable("destroy"),unbindAncestorScrollEvents(),$container.unbind(".slickgrid"),removeCssRules(),$canvas.unbind("draginit dragstart dragend drag"),$container.empty().removeClass(uid)}function trigger(t,e,n){return n=n||new Slick.EventData,(e=e||{}).grid=self,t.notify(e,n,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(t){return columnsById[t]}function autosizeColumns(){var t,e,n,r=[],o=0,i=0,a=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(t=0;t<columns.length;t++)e=columns[t],r.push(e.width),i+=e.width,e.resizable&&(o+=e.width-Math.max(e.minWidth,absoluteColumnMinWidth));for(n=i;i>a&&o;){var l=(i-a)/o;for(t=0;t<columns.length&&i>a;t++){e=columns[t];var s=r[t];if(!(!e.resizable||s<=e.minWidth||s<=absoluteColumnMinWidth)){var u=Math.max(e.minWidth,absoluteColumnMinWidth),c=Math.floor(l*(s-u))||1;i-=c=Math.min(c,s-u),o-=c,r[t]-=c}}if(n<=i)break;n=i}for(n=i;i<a;){var A=a/i;for(t=0;t<columns.length&&i<a;t++){e=columns[t];var d,h=r[t];i+=d=!e.resizable||e.maxWidth<=h?0:Math.min(Math.floor(A*h)-h,e.maxWidth-h||1e6)||1,r[t]+=d}if(n>=i)break;n=i}var f=!1;for(t=0;t<columns.length;t++)columns[t].rerenderOnResize&&columns[t].width!=r[t]&&(f=!0),columns[t].width=r[t];applyColumnHeaderWidths(),updateCanvasWidth(!0),f&&(invalidateAllRows(),render())}function applyColumnHeaderWidths(){if(initialized){for(var t,e=0,n=$headers.children(),r=n.length;e<r;e++)(t=$(n[e])).width()!==columns[e].width-headerColumnWidthDiff&&t.width(columns[e].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var t,e,n=0,r=0;r<columns.length;r++)t=columns[r].width,(e=getColumnCssRules(r)).left.style.left=n+"px",e.right.style.right=canvasWidth-n-t+"px",n+=columns[r].width}function setSortColumn(t,e){setSortColumns([{columnId:t,sortAsc:e}])}function setSortColumns(t){sortColumns=t;var e=$headers.children();e.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),$.each(sortColumns,function(t,n){null==n.sortAsc&&(n.sortAsc=!0);var r=getColumnIndex(n.columnId);null!=r&&e.eq(r).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(n.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(t,e){selectedRows=[];for(var n={},r=0;r<e.length;r++)for(var o=e[r].fromRow;o<=e[r].toRow;o++){n[o]||(selectedRows.push(o),n[o]={});for(var i=e[r].fromCell;i<=e[r].toCell;i++)canCellBeSelected(o,i)&&(n[o][columns[i].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,n),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},t)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var t=0,e=0,n=columns.length;e<n;e++)columnPosLeft[e]=t,columnPosRight[e]=t+columns[e].width,t+=columns[e].width}function setColumns(t){columns=t,columnsById={};for(var e=0;e<columns.length;e++){var n=columns[e]=$.extend({},columnDefaults,columns[e]);columnsById[n.id]=e,n.minWidth&&n.width<n.minWidth&&(n.width=n.minWidth),n.maxWidth&&n.width>n.maxWidth&&(n.width=n.maxWidth)}updateColumnCaches(),initialized&&(invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeCanvas(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(t){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==t.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,t),validateAndEnforceOptions(),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(t,e){data=t,invalidateAllRows(),updateRowCount(),e&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow?1:0)}function getDataItem(t){return data.getItem?data.getItem(t):data[t]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(t){options.showTopPanel!=t&&(options.showTopPanel=t,t?$topPanelScroller.slideDown("fast",resizeCanvas):$topPanelScroller.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(t){options.showHeaderRow!=t&&(options.showHeaderRow=t,t?$headerRowScroller.slideDown("fast",resizeCanvas):$headerRowScroller.slideUp("fast",resizeCanvas))}function getContainerNode(){return $container.get(0)}function getRowTop(t){return options.rowHeight*t-offset}function getRowFromPosition(t){return Math.floor((t+offset)/options.rowHeight)}function scrollTo(t){t=Math.max(t,0),t=Math.min(t,th-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0));var e=offset;page=Math.min(n-1,Math.floor(t/ph));var r=t-(offset=Math.round(page*cj));offset!=e&&(cleanupRows(getVisibleRange(r)),updateRowPositions());prevScrollTop!=r&&(vScrollDir=prevScrollTop+e<r+offset?1:-1,$viewport[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=r,trigger(self.onViewportChanged,{}))}function defaultFormatter(t,e,n,r,o){return null==n?"":(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(t,e){var n=data.getItemMetadata&&data.getItemMetadata(t),r=n&&n.columns&&(n.columns[e.id]||n.columns[getColumnIndex(e.id)]);return r&&r.formatter||n&&n.formatter||e.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(e)||options.defaultFormatter}function getEditor(t,e){var n=columns[e],r=data.getItemMetadata&&data.getItemMetadata(t),o=r&&r.columns;return o&&o[n.id]&&void 0!==o[n.id].editor?o[n.id].editor:o&&o[e]&&void 0!==o[e].editor?o[e].editor:n.editor||options.editorFactory&&options.editorFactory.getEditor(n)}function getDataItemValueForColumn(t,e){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(t,e):t[e.field]}function appendRowHtml(t,e,n,r){var o=getDataItem(e),i="slick-row"+(e<r&&!o?" loading":"")+(e===activeRow?" active":"")+(e%2==1?" odd":" even");o||(i+=" "+options.addNewRowCssClass);var a,l,s=data.getItemMetadata&&data.getItemMetadata(e);s&&s.cssClasses&&(i+=" "+s.cssClasses),t.push("<div class='ui-widget-content "+i+"' style='top:"+getRowTop(e)+"px'>");for(var u=0,c=columns.length;u<c;u++){if(l=columns[u],a=1,s&&s.columns){var A=s.columns[l.id]||s.columns[u];"*"===(a=A&&A.colspan||1)&&(a=c-u)}if(columnPosRight[Math.min(c-1,u+a-1)]>n.leftPx){if(columnPosLeft[u]>n.rightPx)break;appendCellHtml(t,e,u,a,o)}a>1&&(u+=a-1)}t.push("</div>")}function appendCellHtml(t,e,n,r,o){var i=columns[n],a="slick-cell l"+n+" r"+Math.min(columns.length-1,n+r-1)+(i.cssClass?" "+i.cssClass:"");for(var l in e===activeRow&&n===activeCell&&(a+=" active"),cellCssClasses)cellCssClasses[l][e]&&cellCssClasses[l][e][i.id]&&(a+=" "+cellCssClasses[l][e][i.id]);if(t.push("<div class='"+a+"'>"),o){var s=getDataItemValueForColumn(o,i);t.push(getFormatter(e,i)(e,n,s,i,o))}t.push("</div>"),rowsCache[e].cellRenderQueue.push(n),rowsCache[e].cellColSpans[n]=r}function cleanupRows(t){for(var e in rowsCache)(e=parseInt(e,10))!==activeRow&&(e<t.top||e>t.bottom)&&removeRowFromCache(e)}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){for(var t in currentEditor&&makeActiveCellNormal(),rowsCache)removeRowFromCache(t)}function removeRowFromCache(t){var e=rowsCache[t];e&&(rowNodeFromLastMouseWheelEvent==e.rowNode?(e.rowNode.style.display="none",zombieRowNodeFromLastMouseWheelEvent=rowNodeFromLastMouseWheelEvent):$canvas[0].removeChild(e.rowNode),delete rowsCache[t],delete postProcessedRows[t],renderedRows--,counter_rows_removed++)}function invalidateRows(t){var e,n;if(t&&t.length)for(vScrollDir=0,e=0,n=t.length;e<n;e++)currentEditor&&activeRow===t[e]&&makeActiveCellNormal(),rowsCache[t[e]]&&removeRowFromCache(t[e])}function invalidateRow(t){invalidateRows([t])}function updateCell(t,e){var n=getCellNode(t,e);if(n){var r=columns[e],o=getDataItem(t);currentEditor&&activeRow===t&&activeCell===e?currentEditor.loadValue(o):(n.innerHTML=o?getFormatter(t,r)(t,e,getDataItemValueForColumn(o,r),r,o):"",invalidatePostProcessingResults(t))}}function updateRow(t){var e=rowsCache[t];if(e){ensureCellNodesInRowsCache(t);var n=getDataItem(t);for(var r in e.cellNodesByColumnIdx)if(e.cellNodesByColumnIdx.hasOwnProperty(r)){var o=columns[r|=0],i=e.cellNodesByColumnIdx[r];t===activeRow&&r===activeCell&&currentEditor?currentEditor.loadValue(n):i.innerHTML=n?getFormatter(t,o)(t,r,getDataItemValueForColumn(n,o),o,n):""}invalidatePostProcessingResults(t)}}function getViewportHeight(){return parseFloat($.css($container[0],"height",!0))-parseFloat($.css($container[0],"paddingTop",!0))-parseFloat($.css($container[0],"paddingBottom",!0))-parseFloat($.css($headerScroller[0],"height"))-getVBoxDelta($headerScroller)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0)}function resizeCanvas(){initialized&&(viewportH=options.autoHeight?options.rowHeight*getDataLengthIncludingAddNew():getViewportHeight(),numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportW=parseFloat($.css($container[0],"width",!0)),options.autoHeight||$viewport.height(viewportH),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render())}function updateRowCount(){if(initialized){var t=getDataLengthIncludingAddNew(),e=t+(options.leaveSpaceForNewRows?numVisibleRows-1:0),r=viewportHasVScroll;viewportHasVScroll=!options.autoHeight&&e*options.rowHeight>viewportH,makeActiveCellNormal();var o=t-1;for(var i in rowsCache)i>=o&&removeRowFromCache(i);activeCellNode&&activeRow>o&&resetActiveCell();var a=h;(th=Math.max(options.rowHeight*e,viewportH-scrollbarDimensions.height))<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(ph=(h=maxSupportedCssHeight)/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==a&&($canvas.css("height",h),scrollTop=$viewport[0].scrollTop);var l=scrollTop+offset<=th-viewportH;0==th||0==scrollTop?page=offset=0:scrollTo(l?scrollTop+offset:th-viewportH),h!=a&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&r!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(t,e){return null==t&&(t=scrollTop),null==e&&(e=scrollLeft),{top:getRowFromPosition(t),bottom:getRowFromPosition(t+viewportH)+1,leftPx:e,rightPx:e+viewportW}}function getRenderedRange(t,e){var n=getVisibleRange(t,e),r=Math.round(viewportH/options.rowHeight);return-1==vScrollDir?(n.top-=r,n.bottom+=3):1==vScrollDir?(n.top-=3,n.bottom+=r):(n.top-=3,n.bottom+=3),n.top=Math.max(0,n.top),n.bottom=Math.min(getDataLengthIncludingAddNew()-1,n.bottom),n.leftPx-=viewportW,n.rightPx+=viewportW,n.leftPx=Math.max(0,n.leftPx),n.rightPx=Math.min(canvasWidth,n.rightPx),n}function ensureCellNodesInRowsCache(t){var e=rowsCache[t];if(e&&e.cellRenderQueue.length)for(var n=e.rowNode.lastChild;e.cellRenderQueue.length;){var r=e.cellRenderQueue.pop();e.cellNodesByColumnIdx[r]=n,n=n.previousSibling}}function cleanUpCells(t,e){var n,r=rowsCache[e],o=[];for(var i in r.cellNodesByColumnIdx)if(r.cellNodesByColumnIdx.hasOwnProperty(i)){i|=0;var a=r.cellColSpans[i];(columnPosLeft[i]>t.rightPx||columnPosRight[Math.min(columns.length-1,i+a-1)]<t.leftPx)&&(e==activeRow&&i==activeCell||o.push(i))}for(;null!=(n=o.pop());)r.rowNode.removeChild(r.cellNodesByColumnIdx[n]),delete r.cellColSpans[n],delete r.cellNodesByColumnIdx[n],postProcessedRows[e]&&delete postProcessedRows[e][n],0}function cleanUpAndRenderCells(t){for(var e,n,r,o=[],i=[],a=t.top,l=t.bottom;a<=l;a++)if(e=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(t,a),n=0;var s=data.getItemMetadata&&data.getItemMetadata(a);s=s&&s.columns;for(var u=getDataItem(a),c=0,A=columns.length;c<A&&!(columnPosLeft[c]>t.rightPx);c++)if(null==(r=e.cellColSpans[c])){if(r=1,s){var d=s[columns[c].id]||s[c];"*"===(r=d&&d.colspan||1)&&(r=A-c)}columnPosRight[Math.min(A-1,c+r-1)]>t.leftPx&&(appendCellHtml(o,a,c,r,u),n++),c+=r>1?r-1:0}else c+=r>1?r-1:0;n&&(n,i.push(a))}if(o.length){var h,f,p=document.createElement("div");for(p.innerHTML=o.join("");null!=(h=i.pop());){var g;for(e=rowsCache[h];null!=(g=e.cellRenderQueue.pop());)f=p.lastChild,e.rowNode.appendChild(f),e.cellNodesByColumnIdx[g]=f}}}function renderRows(t){for(var e=$canvas[0],n=[],r=[],o=!1,i=getDataLength(),a=t.top,l=t.bottom;a<=l;a++)rowsCache[a]||(renderedRows++,r.push(a),rowsCache[a]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(n,a,t,i),activeCellNode&&activeRow===a&&(o=!0),counter_rows_rendered++);if(r.length){var s=document.createElement("div");s.innerHTML=n.join("");for(a=0,l=r.length;a<l;a++)rowsCache[r[a]].rowNode=e.appendChild(s.firstChild);o&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function invalidatePostProcessingResults(t){delete postProcessedRows[t],postProcessFromRow=Math.min(postProcessFromRow,t),postProcessToRow=Math.max(postProcessToRow,t),startPostProcessing()}function updateRowPositions(){for(var t in rowsCache)rowsCache[t].rowNode.style.top=getRowTop(t)+"px"}function render(){if(initialized){var t=getVisibleRange(),e=getRenderedRange();cleanupRows(e),lastRenderedScrollLeft!=scrollLeft&&cleanUpAndRenderCells(e),renderRows(e),postProcessFromRow=t.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,t.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var t=$headerRowScroller[0].scrollLeft;t!=$viewport[0].scrollLeft&&($viewport[0].scrollLeft=t)}function handleScroll(){scrollTop=$viewport[0].scrollTop,scrollLeft=$viewport[0].scrollLeft;var t=Math.abs(scrollTop-prevScrollTop),e=Math.abs(scrollLeft-prevScrollLeft);if(e&&(prevScrollLeft=scrollLeft,$headerScroller[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScroller[0].scrollLeft=scrollLeft),t)if(vScrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop,t<viewportH)scrollTo(scrollTop+offset);else{var r=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),r!=(offset=Math.round(page*cj))&&invalidateAllRows()}(e||t)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop})}function asyncPostProcessRows(){for(var t=getDataLength();postProcessFromRow<=postProcessToRow;){var e=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,n=rowsCache[e];if(n&&!(e>=t)){for(var r in postProcessedRows[e]||(postProcessedRows[e]={}),ensureCellNodesInRowsCache(e),n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(r)){var o=columns[r|=0];if(o.asyncPostRender&&!postProcessedRows[e][r]){var i=n.cellNodesByColumnIdx[r];i&&o.asyncPostRender(i,e,getDataItem(e),o),postProcessedRows[e][r]=!0}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function updateCellCssStylesOnRenderedRows(t,e){var n,r,o,i;for(var a in rowsCache){if(i=e&&e[a],o=t&&t[a],i)for(r in i)o&&i[r]==o[r]||(n=getCellNode(a,getColumnIndex(r)))&&$(n).removeClass(i[r]);if(o)for(r in o)i&&i[r]==o[r]||(n=getCellNode(a,getColumnIndex(r)))&&$(n).addClass(o[r])}}function addCellCssStyles(t,e){if(cellCssClasses[t])throw"addCellCssStyles: cell CSS hash with key '"+t+"' already exists.";cellCssClasses[t]=e,updateCellCssStylesOnRenderedRows(e,null),trigger(self.onCellCssStylesChanged,{key:t,hash:e})}function removeCellCssStyles(t){cellCssClasses[t]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[t]),delete cellCssClasses[t],trigger(self.onCellCssStylesChanged,{key:t,hash:null}))}function setCellCssStyles(t,e){var n=cellCssClasses[t];cellCssClasses[t]=e,updateCellCssStylesOnRenderedRows(e,n),trigger(self.onCellCssStylesChanged,{key:t,hash:e})}function getCellCssStyles(t){return cellCssClasses[t]}function flashCell(t,e,n){if(n=n||100,rowsCache[t]){var r=$(getCellNode(t,e));!function t(e){e&&setTimeout(function(){r.queue(function(){r.toggleClass(options.cellFlashingCssClass).dequeue(),t(e-1)})},n)}(4)}}function handleMouseWheel(t){var e=$(t.target).closest(".slick-row")[0];e!=rowNodeFromLastMouseWheelEvent&&(zombieRowNodeFromLastMouseWheelEvent&&zombieRowNodeFromLastMouseWheelEvent!=e&&($canvas[0].removeChild(zombieRowNodeFromLastMouseWheelEvent),zombieRowNodeFromLastMouseWheelEvent=null),rowNodeFromLastMouseWheelEvent=e)}function handleDragInit(t,e){var n=getCellFromEvent(t);if(!n||!cellExists(n.row,n.cell))return!1;var r=trigger(self.onDragInit,e,t);return!!t.isImmediatePropagationStopped()&&r}function handleDragStart(t,e){var n=getCellFromEvent(t);if(!n||!cellExists(n.row,n.cell))return!1;var r=trigger(self.onDragStart,e,t);return!!t.isImmediatePropagationStopped()&&r}function handleDrag(t,e){return trigger(self.onDrag,e,t)}function handleDragEnd(t,e){trigger(self.onDragEnd,e,t)}function handleKeyDown(t){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},t);var e=t.isImmediatePropagationStopped();if(!e)if(t.shiftKey||t.altKey||t.ctrlKey)9!=t.which||!t.shiftKey||t.ctrlKey||t.altKey||(e=navigatePrev());else if(27==t.which){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else 34==t.which?(navigatePageDown(),e=!0):33==t.which?(navigatePageUp(),e=!0):37==t.which?e=navigateLeft():39==t.which?e=navigateRight():38==t.which?e=navigateUp():40==t.which?e=navigateDown():9==t.which?e=navigateNext():13==t.which&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),e=!0);if(e){t.stopPropagation(),t.preventDefault();try{t.originalEvent.keyCode=0}catch(t){}}}function handleClick(t){currentEditor||(t.target!=document.activeElement||$(t.target).hasClass("slick-cell"))&&setFocus();var e=getCellFromEvent(t);!e||null!==currentEditor&&activeRow==e.row&&activeCell==e.cell||(trigger(self.onClick,{row:e.row,cell:e.cell},t),t.isImmediatePropagationStopped()||activeCell==e.cell&&activeRow==e.row||!canCellBeActive(e.row,e.cell)||getEditorLock().isActive()&&!getEditorLock().commitCurrentEdit()||(scrollRowIntoView(e.row,!1),setActiveCellInternal(getCellNode(e.row,e.cell))))}function handleContextMenu(t){var e=$(t.target).closest(".slick-cell",$canvas);0!==e.length&&(activeCellNode===e[0]&&null!==currentEditor||trigger(self.onContextMenu,{},t))}function handleDblClick(t){var e=getCellFromEvent(t);!e||null!==currentEditor&&activeRow==e.row&&activeCell==e.cell||(trigger(self.onDblClick,{row:e.row,cell:e.cell},t),t.isImmediatePropagationStopped()||options.editable&&gotoCell(e.row,e.cell,!0))}function handleHeaderMouseEnter(t){trigger(self.onHeaderMouseEnter,{column:$(this).data("column")},t)}function handleHeaderMouseLeave(t){trigger(self.onHeaderMouseLeave,{column:$(this).data("column")},t)}function handleHeaderContextMenu(t){var e=$(t.target).closest(".slick-header-column",".slick-header-columns"),n=e&&e.data("column");trigger(self.onHeaderContextMenu,{column:n},t)}function handleHeaderClick(t){var e=$(t.target).closest(".slick-header-column",".slick-header-columns"),n=e&&e.data("column");n&&trigger(self.onHeaderClick,{column:n},t)}function handleMouseEnter(t){trigger(self.onMouseEnter,{},t)}function handleMouseLeave(t){trigger(self.onMouseLeave,{},t)}function cellExists(t,e){return!(t<0||t>=getDataLength()||e<0||e>=columns.length)}function getCellFromPoint(t,e){for(var n=getRowFromPosition(e),r=0,o=0,i=0;i<columns.length&&o<t;i++)o+=columns[i].width,r++;return r<0&&(r=0),{row:n,cell:r-1}}function getCellFromNode(t){var e=/l\d+/.exec(t.className);if(!e)throw"getCellFromNode: cannot get cell - "+t.className;return parseInt(e[0].substr(1,e[0].length-1),10)}function getRowFromNode(t){for(var e in rowsCache)if(rowsCache[e].rowNode===t)return 0|e;return null}function getCellFromEvent(t){var e=$(t.target).closest(".slick-cell",$canvas);if(!e.length)return null;var n=getRowFromNode(e[0].parentNode),r=getCellFromNode(e[0]);return null==n||null==r?null:{row:n,cell:r}}function getCellNodeBox(t,e){if(!cellExists(t,e))return null;for(var n=getRowTop(t),r=n+options.rowHeight-1,o=0,i=0;i<e;i++)o+=columns[i].width;return{top:n,left:o,bottom:r,right:o+columns[e].width}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(t,e,n){scrollRowIntoView(t,n);var r=getColspan(t,e),o=columnPosLeft[e],i=columnPosRight[e+(r>1?r-1:0)],a=scrollLeft+viewportW;o<scrollLeft?($viewport.scrollLeft(o),handleScroll(),render()):i>a&&($viewport.scrollLeft(Math.min(o,i-$viewport[0].clientWidth)),handleScroll(),render())}function setActiveCellInternal(t,e){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&$(rowsCache[activeRow].rowNode).removeClass("active"));var n=activeCellNode!==t;null!=(activeCellNode=t)?(activeRow=getRowFromNode(activeCellNode.parentNode),activeCell=activePosX=getCellFromNode(activeCellNode),null==e&&(e=activeRow==getDataLength()||options.autoEdit),$(activeCellNode).addClass("active"),$(rowsCache[activeRow].rowNode).addClass("active"),options.editable&&e&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable())):activeRow=activeCell=null,n&&trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}else if(window.getSelection){var t=window.getSelection();t&&t.removeAllRanges&&t.removeAllRanges()}}function isCellPotentiallyEditable(t,e){var n=getDataLength();return!(t<n&&!getDataItem(t))&&(!(columns[e].cannotTriggerInsert&&t>=n)&&!!getEditor(t,e))}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var t=getDataItem(activeRow);if($(activeCellNode).removeClass("editable invalid"),t){var e=columns[activeCell],n=getFormatter(activeRow,e);activeCellNode.innerHTML=n(activeRow,activeCell,getDataItemValueForColumn(t,e),e,t),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(t){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var e=columns[activeCell],n=getDataItem(activeRow);!1!==trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:n,column:e})?(getEditorLock().activate(editController),$(activeCellNode).addClass("editable"),t||(activeCellNode.innerHTML=""),currentEditor=new(t||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:e,item:n||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),n&&currentEditor.loadValue(n),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()):setFocus()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(t){var e={top:t.offsetTop,left:t.offsetLeft,bottom:0,right:0,width:$(t).outerWidth(),height:$(t).outerHeight(),visible:!0};e.bottom=e.top+e.height,e.right=e.left+e.width;for(var n=t.offsetParent;(t=t.parentNode)!=document.body;)e.visible&&t.scrollHeight!=t.offsetHeight&&"visible"!=$(t).css("overflowY")&&(e.visible=e.bottom>t.scrollTop&&e.top<t.scrollTop+t.clientHeight),e.visible&&t.scrollWidth!=t.offsetWidth&&"visible"!=$(t).css("overflowX")&&(e.visible=e.right>t.scrollLeft&&e.left<t.scrollLeft+t.clientWidth),e.left-=t.scrollLeft,e.top-=t.scrollTop,t===n&&(e.left+=t.offsetLeft,e.top+=t.offsetTop,n=t.offsetParent),e.bottom=e.top+e.height,e.right=e.left+e.width;return e}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var t=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(t.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(t)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(t,e){var n=t*options.rowHeight,r=(t+1)*options.rowHeight-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0);(t+1)*options.rowHeight>scrollTop+viewportH+offset?(scrollTo(e?n:r),render()):t*options.rowHeight<scrollTop+offset&&(scrollTo(e?r:n),render())}function scrollRowToTop(t){scrollTo(t*options.rowHeight),render()}function scrollPage(t){var e=t*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop)+e)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var n=activeRow+e,r=getDataLengthIncludingAddNew();n>=r&&(n=r-1),n<0&&(n=0);for(var o=0,i=null,a=activePosX;o<=activePosX;)canCellBeActive(n,o)&&(i=o),o+=getColspan(n,o);null!==i?(setActiveCellInternal(getCellNode(n,i)),activePosX=a):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function getColspan(t,e){var n=data.getItemMetadata&&data.getItemMetadata(t);if(!n||!n.columns)return 1;var r=n.columns[columns[e].id]||n.columns[e],o=r&&r.colspan;return o="*"===o?columns.length-e:o||1}function findFirstFocusableCell(t){for(var e=0;e<columns.length;){if(canCellBeActive(t,e))return e;e+=getColspan(t,e)}return null}function findLastFocusableCell(t){for(var e=0,n=null;e<columns.length;)canCellBeActive(t,e)&&(n=e),e+=getColspan(t,e);return n}function gotoRight(t,e,n){if(e>=columns.length)return null;do{e+=getColspan(t,e)}while(e<columns.length&&!canCellBeActive(t,e));return e<columns.length?{row:t,cell:e,posX:e}:null}function gotoLeft(t,e,n){if(e<=0)return null;var r=findFirstFocusableCell(t);if(null===r||r>=e)return null;for(var o,i={row:t,cell:r,posX:r};;){if(!(o=gotoRight(i.row,i.cell,i.posX)))return null;if(o.cell>=e)return i;i=o}}function gotoDown(t,e,n){for(var r,o=getDataLengthIncludingAddNew();;){if(++t>=o)return null;for(r=e=0;e<=n;)r=e,e+=getColspan(t,e);if(canCellBeActive(t,r))return{row:t,cell:r,posX:n}}}function gotoUp(t,e,n){for(var r;;){if(--t<0)return null;for(r=e=0;e<=n;)r=e,e+=getColspan(t,e);if(canCellBeActive(t,r))return{row:t,cell:r,posX:n}}}function gotoNext(t,e,n){if(null==t&&null==e&&canCellBeActive(t=e=n=0,e))return{row:t,cell:e,posX:e};var r=gotoRight(t,e,n);if(r)return r;for(var o=null,i=getDataLengthIncludingAddNew();++t<i;)if(null!==(o=findFirstFocusableCell(t)))return{row:t,cell:o,posX:o};return null}function gotoPrev(t,e,n){if(null==t&&null==e&&canCellBeActive(t=getDataLengthIncludingAddNew()-1,e=n=columns.length-1))return{row:t,cell:e,posX:e};for(var r,o;!r&&!(r=gotoLeft(t,e,n));){if(--t<0)return null;e=0,null!==(o=findLastFocusableCell(t))&&(r={row:t,cell:o,posX:o})}return r}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(t){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=t&&"next"!=t)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();tabbingDirection={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[t];var e=(0,{up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext}[t])(activeRow,activeCell,activePosX);if(e){var n=e.row==getDataLength();return scrollCellIntoView(e.row,e.cell,!n),setActiveCellInternal(getCellNode(e.row,e.cell)),activePosX=e.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(t,e){return rowsCache[t]?(ensureCellNodesInRowsCache(t),rowsCache[t].cellNodesByColumnIdx[e]):null}function setActiveCell(t,e){initialized&&(t>getDataLength()||t<0||e>=columns.length||e<0||options.enableCellNavigation&&(scrollCellIntoView(t,e,!1),setActiveCellInternal(getCellNode(t,e),!1)))}function canCellBeActive(t,e){if(!options.enableCellNavigation||t>=getDataLengthIncludingAddNew()||t<0||e>=columns.length||e<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(t);if(n&&"boolean"==typeof n.focusable)return n.focusable;var r=n&&n.columns;return r&&r[columns[e].id]&&"boolean"==typeof r[columns[e].id].focusable?r[columns[e].id].focusable:r&&r[e]&&"boolean"==typeof r[e].focusable?r[e].focusable:columns[e].focusable}function canCellBeSelected(t,e){if(t>=getDataLength()||t<0||e>=columns.length||e<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(t);if(n&&"boolean"==typeof n.selectable)return n.selectable;var r=n&&n.columns&&(n.columns[columns[e].id]||n.columns[e]);return r&&"boolean"==typeof r.selectable?r.selectable:columns[e].selectable}function gotoCell(t,e,n){initialized&&(canCellBeActive(t,e)&&getEditorLock().commitCurrentEdit()&&(scrollCellIntoView(t,e,!1),setActiveCellInternal(getCellNode(t,e),n||t===getDataLength()||options.autoEdit),currentEditor||setFocus()))}function commitCurrentEdit(){var t=getDataItem(activeRow),e=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var n=currentEditor.validate();if(n.valid){if(activeRow<getDataLength()){var r={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(t,this.serializedValue),updateRow(this.row),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:t})},undo:function(){this.editor.applyValue(t,this.prevSerializedValue),updateRow(this.row),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:t})}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(t,e,r)):(r.execute(),makeActiveCellNormal())}else{var o={};currentEditor.applyValue(o,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:o,column:e})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:n,row:activeRow,cell:activeCell,column:e}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(t){for(var e=[],n=columns.length-1,r=0;r<t.length;r++)e.push(new Slick.Range(t[r],0,t[r],n));return e}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(t){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(t))}this.debug=function(){var t="";t+="\ncounter_rows_rendered:  "+counter_rows_rendered,t+="\ncounter_rows_removed:  "+counter_rows_removed,t+="\nrenderedRows:  "+renderedRows,t+="\nnumVisibleRows:  "+numVisibleRows,t+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,t+="\nn(umber of pages):  "+n,t+="\n(current) page:  "+page,t+="\npage height (ph):  "+ph,t+="\nvScrollDir:  "+vScrollDir,alert(t)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}})}(jQuery)}).call(this,__webpack_require__(1))},308:function(t,e,n){"use strict";(function(t){!function(t){t.extend(!0,window,{Slick:{RowSelectionModel:function(e){var n,r,o,i=[],a=this,l=new Slick.EventHandler,s={selectActiveRow:!0};function u(t){return function(){r||(r=!0,t.apply(this,arguments),r=!1)}}function c(t){for(var e=[],n=0;n<t.length;n++)for(var r=t[n].fromRow;r<=t[n].toRow;r++)e.push(r);return e}function A(t){for(var e=[],r=n.getColumns().length-1,o=0;o<t.length;o++)e.push(new Slick.Range(t[o],0,t[o],r));return e}function d(){return c(i)}function h(t){i=t,a.onSelectedRangesChanged.notify(i)}function f(t,e){o.selectActiveRow&&null!=e.row&&h([new Slick.Range(e.row,0,e.row,n.getColumns().length-1)])}function p(t){var e=n.getActiveCell();if(e&&t.shiftKey&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&(38==t.which||40==t.which)){var r=d();r.sort(function(t,e){return t-e}),r.length||(r=[e.row]);var o,a=r[0],l=r[r.length-1];(o=40==t.which?e.row<l||a==l?++l:++a:e.row<l?--l:--a)>=0&&o<n.getDataLength()&&(n.scrollRowIntoView(o),h(i=A(function(t,e){var n,r=[];for(n=t;n<=e;n++)r.push(n);for(n=e;n<t;n++)r.push(n);return r}(a,l)))),t.preventDefault(),t.stopPropagation()}}function g(e){var r=n.getCellFromEvent(e);if(!r||!n.canCellBeActive(r.row,r.cell))return!1;if(!n.getOptions().multiSelect||!e.ctrlKey&&!e.shiftKey&&!e.metaKey)return!1;var o=c(i),a=t.inArray(r.row,o);if(-1===a&&(e.ctrlKey||e.metaKey))o.push(r.row),n.setActiveCell(r.row,r.cell);else if(-1!==a&&(e.ctrlKey||e.metaKey))o=t.grep(o,function(t,e){return t!==r.row}),n.setActiveCell(r.row,r.cell);else if(o.length&&e.shiftKey){var l=o.pop(),s=Math.min(r.row,l),u=Math.max(r.row,l);o=[];for(var d=s;d<=u;d++)d!==l&&o.push(d);o.push(l),n.setActiveCell(r.row,r.cell)}return h(i=A(o)),e.stopImmediatePropagation(),!0}t.extend(this,{getSelectedRows:d,setSelectedRows:function(t){h(A(t))},getSelectedRanges:function(){return i},setSelectedRanges:h,init:function(r){o=t.extend(!0,{},s,e),n=r,l.subscribe(n.onActiveCellChanged,u(f)),l.subscribe(n.onKeyDown,u(p)),l.subscribe(n.onClick,u(g))},destroy:function(){l.unsubscribeAll()},onSelectedRangesChanged:new Slick.Event})}}})}(t)}).call(this,n(1))},309:function(t,e,n){"use strict";(function(t){!function(t){t.extend(!0,window,{Slick:{Plugins:{HeaderButtons:function(e){var n,r=this,o=new Slick.EventHandler,i={buttonCssClass:"slick-header-button"};function a(n,r){var o=r.column;if(o.header&&o.header.buttons)for(var i=o.header.buttons.length;i--;){var a=o.header.buttons[i],l=t("<div></div>").addClass(e.buttonCssClass).data("column",o).data("button",a);a.showOnHover&&l.addClass("slick-header-button-hidden"),a.image&&l.css("backgroundImage","url("+a.image+")"),a.cssClass&&l.addClass(a.cssClass),a.tooltip&&l.attr("title",a.tooltip),a.command&&l.data("command",a.command),a.handler&&l.bind("click",a.handler),l.bind("click",s).appendTo(r.node)}}function l(n,r){var o=r.column;o.header&&o.header.buttons&&t(r.node).find("."+e.buttonCssClass).remove()}function s(e){var o=t(this).data("command"),i=t(this).data("column"),a=t(this).data("button");null!=o&&(r.onCommand.notify({grid:n,column:i,command:o,button:a},e,r),n.updateColumnHeader(i.id)),e.preventDefault(),e.stopPropagation()}t.extend(this,{init:function(r){e=t.extend(!0,{},i,e),n=r,o.subscribe(n.onHeaderCellRendered,a).subscribe(n.onBeforeHeaderCellDestroy,l),n.setColumns(n.getColumns())},destroy:function(){o.unsubscribeAll()},onCommand:new Slick.Event})}}}})}(t)}).call(this,n(1))},310:function(t,e,n){"use strict";(function(t){!function(t){t.extend(!0,window,{Slick:{AutoTooltips:function(e){var n,r={enableForCells:!0,enableForHeaderCells:!1,maxToolTipLength:null};function o(r){var o=n.getCellFromEvent(r);if(o){var i,a=t(n.getCellNode(o.row,o.cell));a.innerWidth()<a[0].scrollWidth?(i=t.trim(a.text()),e.maxToolTipLength&&i.length>e.maxToolTipLength&&(i=i.substr(0,e.maxToolTipLength-3)+"...")):i="",a.attr("title",i)}}function i(e,n){var r=n.column,o=t(e.target).closest(".slick-header-column");r.toolTip||o.attr("title",o.innerWidth()<o[0].scrollWidth?r.name:"")}t.extend(this,{init:function(a){e=t.extend(!0,{},r,e),n=a,e.enableForCells&&n.onMouseEnter.subscribe(o);e.enableForHeaderCells&&n.onHeaderMouseEnter.subscribe(i)},destroy:function(){e.enableForCells&&n.onMouseEnter.unsubscribe(o);e.enableForHeaderCells&&n.onHeaderMouseEnter.unsubscribe(i)}})}}})}(t)}).call(this,n(1))},312:function(t,e,n){var r=n(313);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,o);r.locals&&(t.exports=r.locals)},313:function(t,e,n){(t.exports=n(36)(!1)).push([t.i,"/* Copyright (c) 2013, 2018 National Technology and Engineering Solutions of Sandia, LLC . Under the terms of Contract\n DE-NA0003525 with National Technology and Engineering Solutions of Sandia, LLC, the U.S. Government\n retains certain rights in this software. */\n\n.vertical {\n  -ms-transform: rotate(-90deg);\n  -webkit-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.unvertical {\n  -ms-transform: rotate(90deg);\n  -webkit-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n\n.light-border-right {\n  border-right: 2px solid rgb(231, 231, 231);\n}\n\n.affix-top-right {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n}\n\n.fill-parent-height {\n  height: 100%;\n}\n\n.fill-parent-width {\n  width: 100%;\n}\n\n.link-cursor {\n  cursor: pointer;\n}\n\n.default-cursor {\n  cursor: inherit;\n}\n\n.info-panel {\n  border-left: 2px solid #1b809e !important;\n}\n\n.vertical-toggle-pane-resizer {\n  right-border: 2px solid rgb(231,231,231);\n}\n\n.fill-parent-height {\n  height: 100%;\n}\n",""])},314:function(t,e,n){"use strict";(function(t){!function(t){t.extend(!0,window,{Slick:{Slycateditors:{Text:function(e){var n,r;this.init=function(){n=t("<INPUT type=text class='editor-text' />").appendTo(e.container).bind("keydown.nav",function(e){e.keyCode!==t.ui.keyCode.LEFT&&e.keyCode!==t.ui.keyCode.RIGHT||e.stopImmediatePropagation()}).focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.getValue=function(){return n.val()},this.setValue=function(t){n.val(t)},this.loadValue=function(t){r=t[e.column.field]||"",n.val(r),n[0].defaultValue=r,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==r)&&n.val()!=r},this.validate=function(){if(e.column.validator){var t=e.column.validator(n.val());if(!t.valid)return t}return{valid:!0,msg:null}},this.init()},Integer:function(e){var n,r;this.init=function(){(n=t("<INPUT type=text class='editor-text' />")).bind("keydown.nav",function(e){e.keyCode!==t.ui.keyCode.LEFT&&e.keyCode!==t.ui.keyCode.RIGHT||e.stopImmediatePropagation()}),n.appendTo(e.container),n.focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){r=t[e.column.field],n.val(r),n[0].defaultValue=r,n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==r)&&n.val()!=r},this.validate=function(){return isNaN(n.val())?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null}},this.init()},Date:function(e){var n,r,o=!1;this.init=function(){(n=t("<INPUT type=text class='editor-text' />")).appendTo(e.container),n.focus().select(),n.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){o=!0},onClose:function(){o=!1}}),n.width(n.width()-18)},this.destroy=function(){t.datepicker.dpDiv.stop(!0,!0),n.datepicker("hide"),n.datepicker("destroy"),n.remove()},this.show=function(){o&&t.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){o&&t.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(e){o&&t.datepicker.dpDiv.css("top",e.top+30).css("left",e.left)},this.focus=function(){n.focus()},this.loadValue=function(t){r=t[e.column.field],n.val(r),n[0].defaultValue=r,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==r)&&n.val()!=r},this.validate=function(){return{valid:!0,msg:null}},this.init()},YesNoSelect:function(e){var n,r;this.init=function(){(n=t("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>")).appendTo(e.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){n.val((r=t[e.column.field])?"yes":"no"),n.select()},this.serializeValue=function(){return"yes"==n.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return n.val()!=r},this.validate=function(){return{valid:!0,msg:null}},this.init()},Checkbox:function(e){var n,r;this.init=function(){(n=t("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>")).appendTo(e.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){(r=!!t[e.column.field])?n.prop("checked",!0):n.prop("checked",!1)},this.serializeValue=function(){return n.prop("checked")},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return this.serializeValue()!==r},this.validate=function(){return{valid:!0,msg:null}},this.init()},PercentComplete:function(e){var n,r,o;this.init=function(){(n=t("<INPUT type=text class='editor-percentcomplete' />")).width(t(e.container).innerWidth()-25),n.appendTo(e.container),(r=t("<div class='editor-percentcomplete-picker' />").appendTo(e.container)).append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),r.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),n.focus().select(),r.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:o,slide:function(t,e){n.val(e.value)}}),r.find(".editor-percentcomplete-buttons button").bind("click",function(e){n.val(t(this).attr("val")),r.find(".editor-percentcomplete-slider").slider("value",t(this).attr("val"))})},this.destroy=function(){n.remove(),r.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){n.val(o=t[e.column.field]),n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&(parseInt(n.val(),10)||0)!=o},this.validate=function(){return isNaN(parseInt(n.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()},LongText:function(e){var n,r,o,i=this;this.init=function(){var o=t("body");r=t("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(o),n=t("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(r),t("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(r),r.find("button:first").bind("click",this.save),r.find("button:last").bind("click",this.cancel),n.bind("keydown",this.handleKeyDown),i.position(e.position),n.focus().select()},this.handleKeyDown=function(n){n.which==t.ui.keyCode.ENTER&&n.ctrlKey?i.save():n.which==t.ui.keyCode.ESCAPE?(n.preventDefault(),i.cancel()):n.which==t.ui.keyCode.TAB&&n.shiftKey?(n.preventDefault(),e.grid.navigatePrev()):n.which==t.ui.keyCode.TAB&&(n.preventDefault(),e.grid.navigateNext())},this.save=function(){e.commitChanges()},this.cancel=function(){n.val(o),e.cancelChanges()},this.hide=function(){r.hide()},this.show=function(){r.show()},this.position=function(t){r.css("top",t.top-5).css("left",t.left-5)},this.destroy=function(){r.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){n.val(o=t[e.column.field]),n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){return{valid:!0,msg:null}},this.init()},Rating:function(e){var n,r;this.init=function(){(n=t("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>")).appendTo(e.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){(r=!!t[e.column.field])?n.prop("checked",!0):n.prop("checked",!1)},this.serializeValue=function(){return n.prop("checked")},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return this.serializeValue()!==r},this.validate=function(){return{valid:!0,msg:null}},this.init()}}}})}(t)}).call(this,n(1))},316:function(t,e,n){"use strict";(function(t){!function(t){var e={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},n={duration:"fast",direction:"both"},r=/^(?:html)$/i,o=function(e){var n=t(window),o=r.test(e[0].nodeName);return{border:o?{top:0,left:0,bottom:0,right:0}:function(e,n){n=n||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle);var r=!(!document.defaultView||!document.defaultView.getComputedStyle),o={top:parseFloat(r?n.borderTopWidth:t.css(e,"borderTopWidth"))||0,left:parseFloat(r?n.borderLeftWidth:t.css(e,"borderLeftWidth"))||0,bottom:parseFloat(r?n.borderBottomWidth:t.css(e,"borderBottomWidth"))||0,right:parseFloat(r?n.borderRightWidth:t.css(e,"borderRightWidth"))||0};return{top:o.top,left:o.left,bottom:o.bottom,right:o.right,vertical:o.top+o.bottom,horizontal:o.left+o.right}}(e[0]),scroll:{top:(o?n:e).scrollTop(),left:(o?n:e).scrollLeft()},scrollbar:{right:o?0:e.innerWidth()-e[0].clientWidth,bottom:o?0:e.innerHeight()-e[0].clientHeight},rect:function(){var t=e[0].getBoundingClientRect();return{top:o?0:t.top,left:o?0:t.left,bottom:o?e[0].clientHeight:t.bottom,right:o?e[0].clientWidth:t.right}}()}};t.fn.extend({scrollintoview:function(i){(i=t.extend({},n,i)).direction=e["string"==typeof i.direction&&i.direction.toLowerCase()]||e.both;var a="";!0===i.direction.x&&(a="horizontal"),!0===i.direction.y&&(a=a?"both":"vertical");var l=this.eq(0),s=l.closest(":scrollable("+a+")");if(s.length>0){s=s.eq(0);var u={e:o(l),s:o(s)},c={top:u.e.rect.top-(u.s.rect.top+u.s.border.top),bottom:u.s.rect.bottom-u.s.border.bottom-u.s.scrollbar.bottom-u.e.rect.bottom,left:u.e.rect.left-(u.s.rect.left+u.s.border.left),right:u.s.rect.right-u.s.border.right-u.s.scrollbar.right-u.e.rect.right},A={};!0===i.direction.y&&(c.top<0?A.scrollTop=u.s.scroll.top+c.top:c.top>0&&c.bottom<0&&(A.scrollTop=u.s.scroll.top+Math.min(c.top,-c.bottom))),!0===i.direction.x&&(c.left<0?A.scrollLeft=u.s.scroll.left+c.left:c.left>0&&c.right<0&&(A.scrollLeft=u.s.scroll.left+Math.min(c.left,-c.right))),t.isEmptyObject(A)?t.isFunction(i.complete)&&i.complete.call(s[0]):(r.test(s[0].nodeName)&&(s=t("html,body")),s.animate(A,i.duration).eq(0).queue(function(e){t.isFunction(i.complete)&&i.complete.call(s[0]),e()}))}return this}});var i={auto:!0,scroll:!0,visible:!1,hidden:!1};t.extend(t.expr[":"],{scrollable:function(t,n,o,a){var l=e["string"==typeof o[3]&&o[3].toLowerCase()]||e.both,s=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle,u={x:i[s.overflowX.toLowerCase()]||!1,y:i[s.overflowY.toLowerCase()]||!1,isRoot:r.test(t.nodeName)};if(!u.x&&!u.y&&!u.isRoot)return!1;var c={height:{scroll:t.scrollHeight,client:t.clientHeight},width:{scroll:t.scrollWidth,client:t.clientWidth},scrollableX:function(){return(u.x||u.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(u.y||u.isRoot)&&this.height.scroll>this.height.client}};return l.y&&c.scrollableY()||l.x&&c.scrollableX()}})}(t)}).call(this,n(1))},418:function(t,e,n){var r=n(419);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,o);r.locals&&(t.exports=r.locals)},419:function(t,e,n){var r=n(38);(t.exports=n(36)(!1)).push([t.i,"/* Copyright (c) 2013, 2018 National Technology and Engineering Solutions of Sandia, LLC . Under the terms of Contract  DE-NA0003525 with National Technology and Engineering Solutions of Sandia, LLC, the U.S. Government  retains certain rights in this software. */\n\n.ui-layout-resizer\n{\n  background-color: #ddc;\n}\n\n.ui-layout-toggler\n{\n  background-color: #ccb;\n}\n\n.ui-layout-resizer-open.ui-layout-resizer-hover, .ui-layout-resizer-dragging, .ui-layout-toggler-hover\n{\n  background-color: #fc6;\n}\n\n.ui-layout-pane, .ui-layout-container\n{\n  padding: 0;\n  border: 0;\n  margin: 0;\n}\n#controls-pane\n{\n  z-index: 3 !important; /* Required to make bootstrap dropdowns appear over lower panes */\n}\n.center\n{\n  text-align: center;\n}\n#color-switcher ul.dropdown-menu\n{\n  background-color: #F2F2F2;\n}\n.bootstrap-styles #color-switcher .dropdown-menu > li > a:hover\n{\n  background-color: #E4E4E4;\n}\n.bootstrap-styles #color-switcher .dropdown-menu > .active > a:hover\n{\n  background-color: #337AB7;\n}\n\n#table\n{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n}\n\n/* New CCA table styles */\n#barplot-table {\n  /*height: 250px;*/\n  overflow: hidden;\n}\n.barplotHeader {\n  /*overflow: hidden;*/\n  white-space: nowrap;\n}\n.barplotHeaderColumns {\n  /*outline: 1px solid blue;*/\n  white-space: nowrap;\n  display: inline-block;\n}\n.barplotHeaderColumn {\n  text-align: right !important;\n  display: inline-block;\n  /*padding: 3px;*/\n  cursor: pointer;\n  /*outline: 1px solid red;*/\n}\n.wrapper {\n  /*No longer using box-sizing since we are sizing cells based on an wrapper div inside them*/\n/*  box-sizing: border-box;\n  -moz-box-sizing: border-box;*/\n}\n.barplotHeaderColumn .wrapper {\n  padding: 3px;\n}\n.mask\n{\n  background-color: white;\n  position: relative; /* needed to get this cell to cover scrolling header row */\n  z-index: 1;\n}\n.mask .wrapper {\n  padding: 3px;\n}\n.barplotViewport {\n\n}\n.barplotGroup {\n  overflow: hidden;\n  width: auto !important; /* Need to force auto width since jQuery Resizable Widget sets static width on resize, which then breaks horizontal expansion/contraction on pane resize */\n}\n.barplotColumn {\n  float: left;\n  clear: left;\n}\n.barplotGroup.inputs,\n.barplotHeader,\n.barplotColumn,\n.mask,\n.inputs .ui-resizable-s\n{\n  border-color: #C0C0C0;\n  border-style: solid;\n  border-width: 0;\n}\n/*.barplotGroup.inputs,*/\n.barplotHeader\n{\n  border-bottom-width: 1px;\n}\n.barplotColumn,\n.mask\n{\n  border-right-width: 1px;\n}\n.inputs .ui-resizable-s {\n  bottom: 0;\n  height: 3px;\n  border-bottom-width: 1px;\n  border-top-width: 1px;\n  background-color: #DDDDCC;\n}\n.inputs .ui-resizable-s.ui-resizable-hover {\n  background-color: #FFCC66;\n}\n.noVerticalResize .ui-resizable-s {\n  display: none !important;\n}\n.toggle-control-s {\n  width: 50px;\n  height: 100%;\n  margin: 0 auto;\n  background-color: #CCCCBB;\n}\n.toggle-control-s.toggle-control-hover {\n  cursor: pointer;\n  background-color: #FFCC66;\n}\n/*.barplotGroup.inputs {\n  border-bottom: 7px solid red;\n}*/\n.barplotColumn .barplotCell {\n  display: block;\n}\n.barplotCanvas {\n  /*overflow: auto;*/\n  /*display: relative;*/ /* Only needed if using DOM's scrollIntoView() function instead of jQuery plugin */\n  height: 100%;\n}\n.barplotCanvas.input {\n  overflow-x: hidden;\n  /*overflow-y: auto;*/\n}\n.barplotRow {\n  white-space: nowrap;\n}\n.barplotCell {\n  display: inline-block;\n  text-align: right;\n}\n#rsquared-label sup {\n  position: absolute;\n  margin-top: -3px;\n}\n.rowInput,\n.rowOutput\n{\n  cursor: pointer;\n}\n#barplot-table .inputLabel .wrapper,\n#barplot-table .outputLabel .wrapper\n{\n  padding: 3px;\n}\n#barplot-table .inputLabel,\n#barplot-table .outputLabel,\n.barplotCell.col0,\n.barplotHeaderColumn\n{\n  font-weight: bold;\n  text-align: center;\n}\n#barplot-table .inputLabel\n{\n  background: #eeffe0;\n}\n#barplot-table .inputLabel.selected-variable,\n#barplot-table .barplotRow.rowInput.selected-variable,\n#barplot-table .barplotCell.rowInput.selected-variable\n{\n  background: #3ca654;\n  color: white;\n}\n#barplot-table .outputLabel\n{\n  background: #eeeeff;\n}\n#barplot-table .outputLabel.selected-variable,\n#barplot-table .barplotRow.rowOutput.selected-variable,\n#barplot-table .barplotCell.rowOutput.selected-variable\n{\n  background: #7767b0;\n  color: white;\n}\n.barplotHeaderColumnLabelWrapper,\n.selectCCAComponent,\n.wrapper,\n.barplotCellValue,\n.selected-component .spacer,\n.negative,\n.positive\n{\n  display: inline-block;\n}\n.barplotCellValue\n{\n  padding: 3px 23px 3px 18px;\n  width: 40px;\n}\n.selected-component .barplotCellValue,\n.barplotHeaderColumn.selected-component .barplotHeaderColumnLabelWrapper\n{\n  background-color: #DDDDDD;\n  border-width: 0px 1px;\n  border-style: solid;\n  border-color: #808080;\n  color: #666655;\n}\n.barplotHeaderColumn.selected-component .wrapper {\n  padding: 0;\n}\n.barplotHeaderColumn.selected-component .barplotHeaderColumnLabelWrapper\n{\n  padding: 3px 3px 3px 3px;\n  width: 75px;\n}\n.spacer\n{\n  width: 100px;\n  display: none;\n}\n.negativeSpacer\n{\n  text-align: right;\n}\n.positiveSpacer\n{\n  text-align: left;\n}\n.negative,\n.positive\n{\n  height: 12px;\n}\n.negative\n{\n  background-color: blue;\n  border-top-left-radius: 2px;\n  border-bottom-left-radius: 2px;\n}\n.positive\n{\n  background-color: red;\n  border-top-right-radius: 2px;\n  border-bottom-right-radius: 2px;\n}\n#barplot-table span.sortCCAComponent \n{\n  width: 15px;\n  height: 15px;\n  display: inline-block;\n  border: 1px solid transparent;\n  cursor: pointer;\n  position: relative;\n  top: 3px;\n  margin-left: 3px;\n}\n#barplot-table .barplotHeaderColumn:hover .icon-sort-off,\n.icon-sort-off:hover \n{\n  background: transparent url("+r(n(420))+") no-repeat center center;\n}\n.icon-sort-off:hover \n{\n  border: 1px solid #C7C7C7 !important;\n}\n.icon-sort-ascending:hover,\n.icon-sort-descending:hover\n{\n  border: 1px solid #878787 !important;\n}\n.barplotHeaderColumn.mask.col0 {\n  vertical-align: top;\n}\n.legend-axis path,\n.legend-axis line\n{\n  fill: none;\n  stroke: black;\n}\na\n{\n  cursor: pointer;\n}\n.bootstrap-styles .btn-default:hover,\n.bootstrap-styles .btn-default.focus,\n.bootstrap-styles .btn-default:focus\n{\n    background-color: white;\n}\n.bootstrap-styles .btn-default:active, \n.bootstrap-styles .btn-default.active,\n.bootstrap-styles .btn-default.focus.active,\n.bootstrap-styles .open > .btn-default.dropdown-toggle,\n.bootstrap-styles .open > .btn-default.dropdown-toggle:hover\n{\n    background-color: #E6E6E6;\n}\n#controls-pane .bootstrap-styles .dropdown-menu\n{\n  max-height: 500px;\n  overflow-y: auto;\n}\n#controls-pane .center {\n  margin: 2px 0;\n}",""])},420:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAFCAYAAACXU8ZrAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90FAQEMDLbpJFQAAAAvSURBVAjXYzx+/Ph/BgKAkYGBgQGfQktLS0ZGGAebQktLS0a4SdgUwhRgBdhMBAAtJBKt7XgY+AAAAABJRU5ErkJggg=="},421:function(t,e,n){"use strict";(function(t){var e=function(t){return t&&t.__esModule?t:{default:t}}(n(283));n(282),t.widget("cca.legend",{options:{width:300,height:300,metadata:null,label:"Label",min:null,max:null,border:25},_create:function(){this.svg=e.default.select(this.element.get(0)).append("svg"),this.legend_layer=this.svg.append("g").attr("class","legend"),this.legend_axis_layer=this.legend_layer.append("g").attr("class","legend-axis"),this.updates={},this.update_timer=null,this._schedule_update({update_width:!0,update_height:!0,render_legend:!0,update_legend_colors:!0,update_legend_position:!0,update_legend_axis:!0,update_label:!0})},_setOption:function(t,e){this.options[t]=e,"v"==t?this._schedule_update({update_color_domain:!0,render_data:!0,render_selection:!0,update_legend_axis:!0}):"width"==t?this._schedule_update({update_width:!0}):"height"==t?this._schedule_update({update_height:!0,update_legend_position:!0,update_legend_axis:!0,update_label:!0}):"gradient"==t?this._schedule_update({update_legend_colors:!0}):"min"==t||"max"==t?this._schedule_update({update_legend_axis:!0}):"label"==t&&this._schedule_update({update_label:!0})},_schedule_update:function(t){var e=this;for(var n in t)e.updates[n]=t[n];e.update_timer||(e.update_timer=window.setTimeout(function(){e._update()},0))},_update:function(){if(this.update_timer=null,this.updates.update_width&&(this.element.attr("width",this.options.width),this.svg.attr("width",this.options.width)),this.updates.update_height&&(this.element.attr("height",this.options.height),this.svg.attr("height",this.options.height)),this.updates.render_legend){this.legend_layer.append("defs").append("linearGradient").attr("id","color-gradient").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");this.legend_layer.append("rect").classed("color",!0).attr("width",10).attr("height",200).attr("x",0).attr("y",0).style("fill","url(#color-gradient)")}if(this.updates.update_legend_colors){var t=this.legend_layer.select("#color-gradient").selectAll("stop").data(this.options.gradient);t.exit().remove(),t.enter().append("stop"),t.attr("offset",function(t){return t.offset+"%"}).attr("stop-color",function(t){return t.color})}if(this.updates.update_legend_position){this.element.width();var n=this.element.height(),r=parseInt(n-2*this.options.border),o=this.options.border+28,i=this.options.border;this.legend_layer.attr("transform","translate("+o+","+i+")").attr("data-transx",o).attr("data-transy",i),this.legend_layer.select("rect.color").attr("height",r)}if(this.updates.update_legend_axis){this.legend_scale=e.default.scale.linear().domain([this.options.max,this.options.min]).range([0,parseInt(this.legend_layer.select("rect.color").attr("height"))]),this.legend_axis=e.default.svg.axis().scale(this.legend_scale).orient("right"),this.legend_axis_layer.attr("transform","translate("+(parseInt(this.legend_layer.select("rect.color").attr("width"))+1)+",0)").call(this.legend_axis);this.legend_layer.select("rect.color").style("fill","url(#color-gradient)")}if(this.updates.update_label){this.legend_layer.selectAll(".label").remove();var a=(r=parseInt(this.legend_layer.select("rect.color").attr("height")))/2;this.legend_layer.append("text").attr("class","label").attr("x",-15).attr("y",a).attr("transform","rotate(-90,-15,"+a+")").style("text-anchor","middle").style("font-weight","bold").text(this.options.label)}this.updates={}}})}).call(this,n(1))},422:function(t,e,n){"use strict";(function(t){var e=function(t){return t&&t.__esModule?t:{default:t}}(n(283));n(282),n(305),n(306),n(307),n(308),n(309),n(310),n(314);var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(287));t.widget("cca.table",{options:{api_root:"",mid:null,aid:null,metadata:null,inputs:[],outputs:[],others:[],"row-selection":[],"variable-selection":[],"sort-variable":null,"sort-order":null,colormap:null},_create:function(){var t=this;function n(t){return null==t?"&nbsp;":(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(t,r,o,i,a){return i.colormap?"<div class='highlightWrapper"+(null==o?" null":"")+(e.default.hcl(i.colormap(o)).l>50?" light":" dark")+"' style='background:"+i.colormap(o)+"'>"+n(o)+"</div>":null==o?"<div class='highlightWrapper"+(null==o?" null":"")+"'>"+n(o)+"</div>":n(o)}function o(e,n){t.data.set_sort(e,n),t.data.get_indices("sorted",t.options["row-selection"],function(r){t.grid.invalidate(),t.trigger_row_selection=!1,t.grid.setSelectedRows(r),t.grid.resetActiveCell(),r.length&&t.grid.scrollRowToTop(Math.min.apply(Math,r)),t.element.trigger("variable-sort-changed",[e,n])})}function i(e,n,o){return{id:e,field:e,name:t.options.metadata["column-names"][e],sortable:!1,headerCssClass:n,cssClass:o,formatter:r,header:{buttons:[{cssClass:t.options["sort-variable"]==e?"ascending"==t.options["sort-order"]?"icon-sort-ascending":"icon-sort-descending":"icon-sort-off",tooltip:t.options["sort-variable"]==e&&"ascending"==t.options["sort-order"]?"Sort descending":"Sort ascending",command:t.options["sort-variable"]==e&&"ascending"==t.options["sort-order"]?"sort-descending":"sort-ascending"}]}}}for(var a in t.columns=[],t.columns.push(i(t.options.metadata["column-count"]-1,"headerSimId","rowSimId")),t.options.inputs)t.columns.push(i(t.options.inputs[a],"headerInput","rowInput"));for(var a in t.options.outputs)t.columns.push(i(t.options.outputs[a],"headerOutput","rowOutput"));for(var a in t.options.others)t.columns.push(i(t.options.others[a],"headerOther","rowOther"));t.data=new t._data_provider({api_root:t.options.api_root,mid:t.options.mid,aid:t.options.aid,metadata:t.options.metadata,sort_column:t.options["sort-variable"],sort_order:t.options["sort-order"],inputs:t.options.inputs,outputs:t.options.outputs}),t.trigger_row_selection=!0,t.grid=new Slick.Grid(t.element,t.data,t.columns,{explicitInitialization:!0,enableColumnReorder:!1}),t.data.onDataLoaded.subscribe(function(e,n){for(var r=n.from;r<=n.to;r++)t.grid.invalidateRow(r);t.grid.render()});var l=new Slick.Plugins.HeaderButtons;l.onCommand.subscribe(function(e,n){var r=n.column,i=n.button,a=n.command,l=n.grid;for(var s in t.columns)t.columns[s].header.buttons[0].cssClass="icon-sort-off",t.columns[s].header.buttons[0].tooltip="Sort ascending",t.columns[s].header.buttons[0].command="sort-ascending",l.updateColumnHeader(t.columns[s].id);"sort-ascending"==a?(i.cssClass="icon-sort-ascending",i.command="sort-descending",i.tooltip="Sort descending",o(r.id,"ascending")):"sort-descending"==a&&(i.cssClass="icon-sort-descending",i.command="sort-ascending",i.tooltip="Sort ascending",o(r.id,"descending"))}),t.grid.registerPlugin(l),t.grid.registerPlugin(new Slick.AutoTooltips({enableForHeaderCells:!0})),t.grid.setSelectionModel(new Slick.RowSelectionModel),t.grid.onSelectedRowsChanged.subscribe(function(e,n){t.trigger_row_selection&&t.data.get_indices("unsorted",n.rows,function(e){t.options["row-selection"]=e,t.element.trigger("row-selection-changed",[e])}),t.trigger_row_selection=!0}),t.grid.onHeaderClick.subscribe(function(e,n){t._array_equal([n.column.field],t.options["variable-selection"])||"string"==t.options.metadata["column-types"][n.column.id]||(t.options["variable-selection"]=[n.column.field],t._color_variables(t.options["variable-selection"]),t.element.trigger("variable-selection-changed",[t.options["variable-selection"]]))}),t._color_variables(t.options["variable-selection"]),t.grid.init(),t.data.get_indices("sorted",t.options["row-selection"],function(e){t.trigger_row_selection=!1,t.grid.setSelectedRows(e),t.grid.resetActiveCell(),e.length&&t.grid.scrollRowToTop(Math.min.apply(Math,e))})},resize_canvas:function(){this.grid.resizeCanvas()},update_data:function(){var t=this;t.data.invalidate(),t.grid.invalidate(),t.data.get_indices("sorted",t.options["row-selection"],function(e){t.trigger_row_selection=!1,t.grid.setSelectedRows(e),t.grid.resetActiveCell(),e.length&&t.grid.scrollRowToTop(Math.min.apply(Math,e))})},_setOption:function(t,e){var n=this;if("row-selection"==t)n.options[t]=e,n.data.get_indices("sorted",e,function(t){n.trigger_row_selection=!1,n.grid.setSelectedRows(t),n.grid.resetActiveCell(),t.length&&n.grid.scrollRowToTop(Math.min.apply(Math,t))});else if("variable-selection"==t){if(n._array_equal(n.options[t],e))return;n.options[t]=e,n._color_variables(e)}else"colormap"==t&&(n.options[t]=e,n._color_variables(n.options["variable-selection"]))},_color_variables:function(n){var r=this.grid.getColumns();for(var o in r){var i=r[o];if(null!==this.options.colormap&&-1!=t.inArray(i.id,n)){i.colormap=this.options.colormap.copy();var a=[],l=e.default.scale.linear().domain([0,i.colormap.range().length]).range([this.options.metadata["column-min"][i.id],this.options.metadata["column-max"][i.id]]);for(var o in i.colormap.range())a.push(l(o));i.colormap.domain(a),i.cssClass=i.cssClass.split(" ")[0]+" highlight"}else i.colormap=null,i.cssClass=i.cssClass.split(" ")[0]}this.grid.invalidate()},_data_provider:function(n){var o=this;o.api_root=n.api_root,o.mid=n.mid,o.aid=n.aid,o.metadata=n.metadata,o.sort_column=n.sort_column,o.sort_order=n.sort_order,o.inputs=n.inputs,o.outputs=n.outputs,o.analysis_columns=o.inputs.concat(o.outputs),o.ranked_indices={},o.pages={},o.pages_in_progress={},o.page_size=50,o.onDataLoaded=new Slick.Event,o.getLength=function(){return o.metadata["row-count"]},o.getItem=function(e){var n=o.metadata["column-count"],r=Math.floor(e/o.page_size),i=r*o.page_size;if(o.pages_in_progress[r])return null;if(!(r in o.pages)){o.pages_in_progress[r]=!0;var a=i,l=(r+1)*o.page_size,s="";if(null!==o.sort_column&&null!==o.sort_order){var u="a"+o.sort_column,c=o.sort_order;"ascending"==c?c="asc":"descending"==c&&(c="desc"),o.sort_column==o.metadata["column-count"]-1&&(u="index(0)"),s="/order: rank("+u+', "'+c+'")'}return t.ajax({type:"GET",url:o.api_root+"models/"+o.mid+"/arraysets/"+o.aid+"/data?hyperchunks=0/0:"+(n-1)+"|index(0)"+s+"/"+a+":"+l,success:function(t){o.pages[r]=[];for(var e=0;e<t[0].length;e++){for(var i={},s=0;s!=n;++s)i[s]=t[s][e];o.pages[r].push(i)}o.pages_in_progress[r]=!1,o.onDataLoaded.notify({from:a,to:l})},error:function(t,e,n){console.log("error",t,e,n)}}),null}return o.pages[r][e-i]},o.getItemMetadata=function(t){var e=Math.floor(t/o.page_size);if(o.pages_in_progress[e]||!(e in o.pages))return null;for(var n=this.getItem(t),r=o.analysis_columns.length,i="",a=0;a!=r;a++)null==n[o.analysis_columns[a]]&&(i+="nullRow");return""!=i?{cssClasses:i}:null},o.set_sort=function(t,e){t==o.sort_column&&e==o.sort_order||(o.sort_column=t,o.sort_order=e,o.pages={})},o.get_indices=function(t,n,i){if(0!=n.length)if(null==o.sort_column||null==o.sort_order)i(n);else if(o.ranked_indices[o.sort_column]){var a=o.ranked_indices[o.sort_column];if("descending"==o.sort_order){for(var l=[],s=0;s<a.length;s++)l.push(a[s]);a=l.reverse()}var u=[];for(s=0;s<n.length;s++)"unsorted"==t?u.push(a[n[s]]):"sorted"==t&&u.push(a.indexOf(n[s]));i(new Int32Array(u))}else if(o.sort_column==o.metadata["column-count"]-1)o.ranked_indices[o.sort_column]=new Int32Array(e.default.range(o.metadata["row-count"])),o.get_indices(t,n,i);else{var c=new XMLHttpRequest;c.open("GET",o.api_root+"models/"+o.mid+"/arraysets/data-table/data?hyperchunks=0/rank(a"+o.sort_column+',"asc")/...&byteorder='+(r.is_little_endian()?"little":"big")),c.responseType="arraybuffer",c.direction=t,c.rows=n,c.callback=i,c.onload=function(t){for(var e=[],n=new Int32Array(this.response),r=0;r<n.length;r+=2)e.push(n[r]);o.ranked_indices[o.sort_column]=new Int32Array(e),o.get_indices(this.direction,this.rows,this.callback)},c.send()}else i([])}},_array_equal:function(e,n){return 0==t(e).not(n).length&&0==t(n).not(e).length}})}).call(this,n(1))},423:function(t,e,n){"use strict";(function(t){var e=s(n(332)),r=s(n(62)),o=s(n(15)),i=s(n(47)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),l=s(n(333));function s(t){return t&&t.__esModule?t:{default:t}}n(282),n(256),t.widget("cca.controls",{options:{mid:null,model_name:null,aid:null,metadata:null,"color-variable":null,color_variables:[],selection:[]},_create:function(){var e=this;this.color_control=t('<div class="btn-group btn-group-xs"></div>').appendTo(this.element),this.color_button=t('      <button class="btn btn-default dropdown-toggle" type="button" id="color-dropdown" data-toggle="dropdown" aria-expanded="true" title="Change Point Color">         Point Color         <span class="caret"></span>       </button>       ').appendTo(e.color_control),this.color_items=t('<ul id="y-axis-switcher" class="dropdown-menu" role="menu" aria-labelledby="color-dropdown">').appendTo(e.color_control),this.csv_button=t("      <button class='btn btn-default' title='Download Data Table'>         <span class='fa fa-download' aria-hidden='true'></span>       </button>       ").click(function(){0==e.options.selection.length?e._write_data_table():function(){var t="",n=[{className:"btn-default",label:"Cancel"},{className:"btn-primary",label:"Save Entire Table",icon_class:"fa fa-table"}];e.options.selection.length>0&&(t+="You have "+e.options.selection.length+" rows selected. ",n.splice(n.length-1,0,{className:"btn-primary",label:"Save Selected",icon_class:"fa fa-check"}));t+="What would you like to do?",a.dialog({title:"Download Choices",message:t,buttons:n,callback:function(t){"Save Entire Table"==t.label?e._write_data_table():"Save Selected"==t.label&&e._write_data_table(e.options.selection)}})}()}).appendTo(this.element),e._set_color_variables()},_write_data_table:function(e){var n=this;t.ajax({type:"POST",url:o.default+"models/"+n.options.mid+"/arraysets/"+n.options.aid+"/data",data:(0,r.default)({hyperchunks:"0/.../..."}),contentType:"application/json",success:function(t){n._write_csv(n._convert_to_csv(t,e),n.options.model_name+"_data_table.csv")},error:function(t,e,n){window.alert("Error retrieving data table: "+n)}})},_write_csv:function(t,e){var n=new Blob([t],{type:"application/csv;charset=utf-8;"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.style="visibility:hidden",o.download=e||"slycatDataTable.csv",document.body.appendChild(o),o.click(),document.body.removeChild(o)},_convert_to_csv:function(t,n){var r=i.default.zip.apply(i.default,(0,e.default)(t));void 0!=n&&n.length>0&&(n.sort(),r=i.default.at(r,n));var o=this.options.metadata["column-names"].slice(0,-1);return r.unshift(o),l.default.unparse(r)},_set_color_variables:function(){var e=this;this.color_items.empty();for(var n=0;n<this.options.color_variables.length;n++)t("<li role='presentation'>").toggleClass("active",e.options["color-variable"]==e.options.color_variables[n]).attr("data-colorvariable",this.options.color_variables[n]).appendTo(e.color_items).append(t('<a role="menuitem" tabindex="-1">').html(this.options.metadata["column-names"][this.options.color_variables[n]]).click(function(){var n=t(this).parent();if(n.hasClass("active"))return!1;e.color_items.find("li").removeClass("active"),n.addClass("active"),e.element.trigger("color-selection-changed",n.attr("data-colorvariable"))}))},_set_selected_color:function(){this.color_items.find("li").removeClass("active"),this.color_items.find('li[data-colorvariable="'+this.options["color-variable"]+'"]').addClass("active")},_setOption:function(t,e){this.options[t]=e,"color-variable"==t?this._set_selected_color():"color_variables"==t&&this._set_color_variables()}})}).call(this,n(1))},424:function(t,e,n){"use strict";(function(t){n(282),n(316),t.widget("cca.barplot",{options:{metadata:null,inputs:[],outputs:[],r2:[],wilks:[],x_loadings:[],y_loadings:[],component:0,variable:null,sort:[null,null],tableHeight:null,inputsHeight:null,outputsHeight:null},_create:function(){var e=this;function n(t){return"cca"+(t+1)}function r(t){return t<0?-100*t+"px":"0px"}function o(t){return t>0?100*t+"px":"0px"}function i(t,e){return function(){t.select_component(e),t.element.trigger("component-changed",e)}}function a(e,n){return function(){var r="descending";t(this).hasClass("icon-sort-descending")&&(r="ascending"),e.do_component_sort(n,r)}}function l(t,e,n){return function(){t.element.find(".selected-variable").removeClass("selected-variable"),t.element.find(".variable"+n).addClass("selected-variable"),t.element.trigger("variable-changed",[n])}}this.select_component=function(t){this.element.find(".selected-component").removeClass("selected-component"),this.element.find(".col"+(t+1)).addClass("selected-component"),this.resize_canvas(),this.element.find(".rowOutput.selected-component").first().scrollintoview({direction:"horizontal"})},this.do_component_sort=function(r,o){var i=t(".barplotHeaderColumn."+n(r)+" .sortCCAComponent",e.element);t("span.sortCCAComponent",e.element).removeClass("icon-sort-descending icon-sort-ascending").addClass("icon-sort-off"),t(i).removeClass("icon-sort-off").addClass("icon-sort-"+o);var a=t(".inputLabel",e.element),l=t(".outputLabel",e.element),s=t(".barplotRow.rowInput",e.element),u=t(".barplotRow.rowOutput",e.element);function c(t,n){return d(t,n,e.options.x_loadings)}function A(t,n){return d(t,n,e.options.y_loadings)}function d(e,n,i){var a=t(e).data("loadings_index"),l=t(n).data("loadings_index"),s=i[r][a];isNaN(s)&&(s=0);var u=i[r][l];return isNaN(u)&&(u=0),"descending"==o?Math.abs(u)-Math.abs(s):Math.abs(s)-Math.abs(u)}a.sort(c).appendTo(t(".barplotColumn.input",e.element)),s.sort(c).appendTo(t(".barplotCanvas.input",e.element)),l.sort(A).appendTo(t(".barplotColumn.output",e.element)),u.sort(A).appendTo(t(".barplotCanvas.output",e.element)),e.element.find(".barplotRow.selected-variable").scrollintoview({direction:"vertical"}),e.element.trigger("component-sort-changed",[r,o])};for(var s=this.options.metadata,u=this.options.inputs,c=this.options.outputs,A=this.options.r2,d=this.options.wilks,h=this.options.x_loadings,f=this.options.y_loadings,p=h.length,g=t("<div class='barplotHeader'>").appendTo(this.element),v=t('<div class="barplotRow">').appendTo(g),m=(t('<div class="barplotHeaderColumn mask col0"><div class="wrapper">&nbsp;</div></div>').appendTo(v),t('<div class="barplotHeaderColumns">').appendTo(v)),b=0;b!=p;++b){var w=t('<div class="barplotHeaderColumn"><div class="wrapper"><div class="negativeSpacer spacer" /><div class="barplotHeaderColumnLabelWrapper"><span class="selectCCAComponent">CCA'+(b+1)+'</span><span class="sortCCAComponent icon-sort-off" /></div><div class="positiveSpacer spacer" /></div></div>').addClass("col"+(b+1)).addClass(n(b)).appendTo(m);t("span.selectCCAComponent",w).click(i(this,b)),t("span.sortCCAComponent",w).click(a(this,b))}v=t('<div class="barplotRow">').appendTo(g);t('<div class="barplotCell mask col0" id="rsquared-label"><div class="wrapper">R<sup>2</sup></div></div>').appendTo(v);for(m=t('<div class="barplotHeaderColumns">').appendTo(v),b=0;b!=p;++b)var y=t('<div class="barplotCell" />').addClass("col"+(b+1)).appendTo(m),C=t('<div class="wrapper" />').appendTo(y),x=t('<div class="negativeSpacer spacer" />').appendTo(C),_=(t('<div class="barplotCellValue" />').html(Number(A[b]).toFixed(3)).appendTo(C),t('<div class="positiveSpacer spacer" />').appendTo(C));v=t('<div class="barplotRow">').appendTo(g);t('<div class="barplotCell mask col0"><div class="wrapper">P</div></div>').appendTo(v);for(m=t('<div class="barplotHeaderColumns">').appendTo(v),b=0;b!=p;++b)y=t('<div class="barplotCell" />').addClass("col"+(b+1)).appendTo(m),C=t('<div class="wrapper" />').appendTo(y),x=t('<div class="negativeSpacer spacer" />').appendTo(C),t('<div class="barplotCellValue" />').html(Number(d[b]).toFixed(3)).appendTo(C),_=t('<div class="positiveSpacer spacer" />').appendTo(C);for(var k=t('<div class="barplotViewport">').appendTo(this.element),M=t('<div class="barplotGroup inputs">').appendTo(k),S=t('<div class="barplotColumn input">').appendTo(M),R=t('<div class="barplotCanvas input">').appendTo(M),E=0;E!=u.length;++E){(T=t('<div class="barplotCell col0 rowInput inputLabel" />').addClass("row"+E+" variable"+u[E]).appendTo(S)).data({loadings_index:E,variable:u[E]});t('<div class="wrapper" />').html(s["column-names"][u[E]]).appendTo(T);T.click(l(this,0,u[E])),(v=t('<div class="barplotRow rowInput">').addClass("row"+E+" variable"+u[E]).appendTo(R)).data({loadings_index:E,variable:u[E]}),v.click(l(this,0,u[E]));for(b=0;b!=p;++b)y=t('<div class="barplotCell rowInput">').addClass("row"+E+" col"+(b+1)+" variable"+u[E]).appendTo(v),C=t('<div class="wrapper" />').appendTo(y),x=t('<div class="negativeSpacer spacer" />').appendTo(C),t('<div class="negative" />').css("width",r(h[b][E])).addClass(n(b)).appendTo(x),t('<div class="barplotCellValue" />').html(Number(h[b][E]).toFixed(3)).appendTo(C),_=t('<div class="positiveSpacer spacer" />').appendTo(C),t('<div class="positive" />').css("width",o(h[b][E])).addClass(n(b)).appendTo(_)}var N=t('<div class="barplotGroup outputs">').appendTo(k);for(S=t('<div class="barplotColumn output">').appendTo(N),R=t('<div class="barplotCanvas output">').appendTo(N),E=0;E!=c.length;++E){var T;(T=t('<div class="barplotCell col0 rowOutput outputLabel">').addClass("row"+(E+u.length)+" variable"+c[E]).appendTo(S)).data({loadings_index:E,variable:c[E]});t('<div class="wrapper" />').html(s["column-names"][c[E]]).appendTo(T);T.click(l(this,0,c[E])),(v=t('<div class="barplotRow rowOutput">').addClass("row"+(E+u.length)+" variable"+c[E]).appendTo(R)).data({loadings_index:E,variable:c[E]}),v.click(l(this,0,c[E]));for(b=0;b!=p;++b)y=t('<div class="barplotCell rowOutput">').addClass("row"+(E+u.length)+" col"+(b+1)+" variable"+c[E]).appendTo(v),C=t('<div class="wrapper" />').appendTo(y),x=t('<div class="negativeSpacer spacer" />').appendTo(C),t('<div class="negative" />').css("width",r(f[b][E])).addClass(n(b)).appendTo(x),t('<div class="barplotCellValue" />').html(Number(f[b][E]).toFixed(3)).appendTo(C),_=t('<div class="positiveSpacer spacer" />').appendTo(C),t('<div class="positive" />').css("width",o(f[b][E])).addClass(n(b)).appendTo(_)}this.options.tableHeight=t("#barplot-table").height(),this.options.inputsHeight=M.height(),this.options.outputsHeight=N.height(),this.select_component(this.options.component),t(".barplotCanvas.input").bind("scroll",function(){t(".barplotHeaderColumns").css("margin-left","-"+t(this).scrollLeft()+"px"),t(".barplotColumn.input").css("margin-top","-"+t(this).scrollTop()+"px")}),t(".barplotCanvas.output").bind("scroll",function(){t(".barplotHeaderColumns").css("margin-left","-"+t(this).scrollLeft()+"px"),t(".barplotColumn.output").css("margin-top","-"+t(this).scrollTop()+"px"),t(".barplotCanvas.input").scrollLeft(t(this).scrollLeft())});var D=N.height();M.resizable({containment:k,handles:"s",minHeight:Math.max(4,k.height()-this.options.outputsHeight),maxHeight:this.options.inputsHeight,resize:function(t,e){N.height(D+(e.originalSize.height-e.element.height()))},start:function(t,e){D=N.height()}});var L=t(".barplotCanvas.input")[0],H=L.offsetWidth-L.clientWidth,I=t(".barplotGroup.inputs .ui-resizable-s").css("left","-"+H+"px");I.hover(function(){t(this).addClass("ui-resizable-hover")},function(){t(this).removeClass("ui-resizable-hover")}),t("<div class='toggle-control-s' />").appendTo(I).hover(function(){t(this).addClass("toggle-control-hover"),I.removeClass("ui-resizable-hover")},function(){t(this).removeClass("toggle-control-hover"),I.addClass("ui-resizable-hover")}).click(function(){var t=M.height(),n=N.height();if(t>=M.resizable("option","maxHeight")||0==n){var r=D-n;r<0&&(r=0),M.height(t-r),N.height(n+r)}else{D=N.height();var o=e.options.inputsHeight,i=Math.min(n,o-t);N.height(n-i),M.height(t+i)}}),t(".barplotHeaderColumn.mask.col0").height(t(".barplotHeader .barplotRow:first-child").height())},resize_canvas:function(){var e=20;t(".barplotHeaderColumn").each(function(e){var n=Math.max.apply(null,t(".col"+e+" .wrapper").map(function(){return t(this).outerWidth(!0)}).get());t(".col"+e).width(n)}),t(".barplotHeaderColumn").each(function(n){e+=t(this).outerWidth(!0)});var n=t("#barplot-pane").width();t("#barplot-table").width(Math.min(e,n)),e>n?(t(".barplotCanvas.output").css("overflow","scroll"),t(".barplotCanvas.input").css("overflow-y","scroll")):(t(".barplotCanvas.output").css("overflow","auto"),t(".barplotCanvas.input").css("overflow-y","auto")),t("#barplot-table").removeClass("noVerticalResize");var r=0,o=t("#barplot-pane").height();t("#barplot-table").height(Math.min(this.options.tableHeight,o));var i=t("#barplot-table").height()-t(".barplotHeader").outerHeight(!0);if(this.options.tableHeight>o){var a=Math.floor(i/2);this.options.inputsHeight>a?this.options.outputsHeight>a?(t(".barplotGroup.inputs").height(a),t(".barplotGroup.outputs").height(i-t(".barplotCanvas").height())):(t(".barplotGroup.inputs").height(i-this.options.outputsHeight),t(".barplotGroup.outputs").height(this.options.outputsHeight)):(t(".barplotGroup.inputs").height(this.options.inputsHeight),t(".barplotGroup.outputs").height(i-this.options.inputsHeight))}else{t(".barplotGroup.inputs").height(this.options.inputsHeight),t(".barplotGroup.outputs").height(this.options.outputsHeight);var l=(u=t(".barplotCanvas.output")[0]).offsetHeight-u.clientHeight,s=o-this.options.tableHeight;(r=Math.min(l,s))>0&&(t("#barplot-table").height(t("#barplot-table").height()+r),t(".barplotGroup.outputs").height(t(".barplotGroup.outputs").height()+r)),l<=s&&t("#barplot-table").addClass("noVerticalResize")}var u;l=(u=t(".barplotCanvas.output")[0]).offsetHeight-u.clientHeight;t(".barplotGroup.inputs").data("ui-resizable")&&t(".barplotGroup.inputs").resizable("option",{minHeight:Math.max(4,i-(this.options.outputsHeight+l-r)),maxHeight:this.options.inputsHeight});var c=t(".barplotCanvas.input")[0],A=c.offsetWidth-c.clientWidth;t(".barplotGroup.inputs .ui-resizable-s").css("left","-"+A+"px")},_setOption:function(t,e){this.options[t]=e,"component"==t?this.select_component(e):"variable"==t?(this.element.find(".selected-variable").removeClass("selected-variable"),this.element.find(".variable"+e).addClass("selected-variable"),this.element.find(".barplotRow.selected-variable").scrollintoview({direction:"vertical"})):"sort"==t&&this.do_component_sort(this.options.sort[0],this.options.sort[1])}})}).call(this,n(1))},425:function(t,e,n){"use strict";(function(t){var e=function(t){return t&&t.__esModule?t:{default:t}}(n(283));n(282),t.widget("cca.scatterplot",{options:{width:300,height:300,pick_distance:3,drag_threshold:3,indices:[],x:[],y:[],v:[],selection:[],color:e.default.scale.linear().domain([-1,0,1]).range(["blue","white","red"]),border:25},_create:function(){this.start_drag=null,this.end_drag=null,this.main_context=this.element.get(0).getContext("2d"),this.data_canvas=t("<canvas>"),this.data_context=this.data_canvas.get(0).getContext("2d"),this.selection_canvas=t("<canvas>"),this.selection_context=this.selection_canvas.get(0).getContext("2d"),this.updates={},this.update_timer=null,this._schedule_update({update_indices:!0,update_width:!0,update_height:!0,update_x:!0,update_y:!0,update_color_domain:!0,render_data:!0,render_selection:!0});var e=this;this.element.mousedown(function(t){e.start_drag=[e._offsetX(t),e._offsetY(t)],e.end_drag=null}),this.element.mousemove(function(t){if(e.start_drag)if(e.end_drag){e.end_drag=[e._offsetX(t),e._offsetY(t)];var n=e.element.width(),r=e.element.height();e.main_context.clearRect(0,0,n,r),e.main_context.drawImage(e.data_canvas.get(0),0,0),e.main_context.drawImage(e.selection_canvas.get(0),0,0),e.main_context.fillStyle="rgba(255, 255, 0, 0.3)",e.main_context.fillRect(e.start_drag[0],e.start_drag[1],e.end_drag[0]-e.start_drag[0],e.end_drag[1]-e.start_drag[1]),e.main_context.strokeStyle="rgb(255, 255, 0)",e.main_context.lineWidth=2,e.main_context.strokeRect(e.start_drag[0],e.start_drag[1],e.end_drag[0]-e.start_drag[0],e.end_drag[1]-e.start_drag[1])}else(Math.abs(e._offsetX(t)-e.start_drag[0])>e.options.drag_threshold||Math.abs(e._offsetY(t)-e.start_drag[1])>e.options.drag_threshold)&&(e.end_drag=[e._offsetX(t),e._offsetY(t)])}),this.element.mouseup(function(t){t.ctrlKey||t.metaKey||(e.options.selection=[]);var n=e.options.x,r=e.options.y,o=n.length;if(e.start_drag&&e.end_drag)for(var i=e.x_scale.invert(Math.min(e.start_drag[0],e.end_drag[0])),a=e.y_scale.invert(Math.max(e.start_drag[1],e.end_drag[1])),l=e.x_scale.invert(Math.max(e.start_drag[0],e.end_drag[0])),s=e.y_scale.invert(Math.min(e.start_drag[1],e.end_drag[1])),u=0;u!=o;++u){if(i<=n[u]&&n[u]<=l&&a<=r[u]&&r[u]<=s)-1==(c=e.options.selection.indexOf(e.options.indices[u]))&&e.options.selection.push(e.options.indices[u])}else for(i=e.x_scale.invert(e._offsetX(t)-e.options.pick_distance),a=e.y_scale.invert(e._offsetY(t)+e.options.pick_distance),l=e.x_scale.invert(e._offsetX(t)+e.options.pick_distance),s=e.y_scale.invert(e._offsetY(t)-e.options.pick_distance),u=o-1;u>-1;u--)if(i<=n[u]&&n[u]<=l&&a<=r[u]&&r[u]<=s){var c;-1==(c=e.options.selection.indexOf(e.options.indices[u]))?e.options.selection.push(e.options.indices[u]):e.options.selection.splice(c,1);break}e.start_drag=null,e.end_drag=null,e._schedule_update({render_selection:!0}),e.element.trigger("selection-changed",[e.options.selection])})},_offsetX:function(e){return e.pageX-e.currentTarget.getBoundingClientRect().left-t(document).scrollLeft()},_offsetY:function(e){return e.pageY-e.currentTarget.getBoundingClientRect().top-t(document).scrollTop()},_setOption:function(t,e){this.options[t]=e,"indices"==t?this._schedule_update({update_indices:!0,render_selection:!0}):"x"==t?this._schedule_update({update_x:!0,render_data:!0,render_selection:!0}):"y"==t?this._schedule_update({update_y:!0,render_data:!0,render_selection:!0}):"v"==t?this._schedule_update({update_color_domain:!0,render_data:!0,render_selection:!0}):"selection"==t?this._schedule_update({render_selection:!0}):"color"==t?this._schedule_update({update_color_domain:!0,render_data:!0,render_selection:!0}):"width"==t?this._schedule_update({update_width:!0,update_x:!0,render_data:!0,render_selection:!0}):"height"==t?this._schedule_update({update_height:!0,update_y:!0,render_data:!0,render_selection:!0}):"border"==t&&this._schedule_update({update_x:!0,update_y:!0,render_data:!0,render_selection:!0})},_schedule_update:function(t){for(var e in t)1==t[e]&&(this.updates[e]=!0);if(!this.update_timer){var n=this;this.update_timer=window.setTimeout(function(){n._update()},0)}},_update:function(){if(this.update_timer=null,this.updates.update_width&&(this.element.attr("width",this.options.width).css("width",this.options.width),this.data_canvas.attr("width",this.options.width),this.selection_canvas.attr("width",this.options.width)),this.updates.update_height&&(this.element.attr("height",this.options.height).css("height",this.options.height),this.data_canvas.attr("height",this.options.height),this.selection_canvas.attr("height",this.options.height)),this.updates.update_indices){this.inverse_indices={};for(var t=this.options.indices.length,n=0;n!=t;++n)this.inverse_indices[this.options.indices[n]]=n}if(this.updates.update_x&&(this.x_scale=e.default.scale.linear().domain([e.default.min(this.options.x),e.default.max(this.options.x)]).range([0+this.options.border,this.element.attr("width")-this.options.border])),this.updates.update_y&&(this.y_scale=e.default.scale.linear().domain([e.default.min(this.options.y),e.default.max(this.options.y)]).range([this.element.attr("height")-this.options.border,0+this.options.border])),this.updates.update_color_domain){var r=e.default.min(this.options.v),o=e.default.max(this.options.v),i=[],a=e.default.scale.linear().domain([0,this.options.color.domain().length]).range([r,o]);for(var n in this.options.color.domain())i.push(a(n));this.options.color.domain(i)}var l=this.element.attr("width"),s=this.element.attr("height");if(this.updates.render_data){this.data_context.setTransform(1,0,0,1,0,0),this.data_context.clearRect(0,0,l,s),this.data_context.font="10pt Arial",this.data_context.textAlign="center",this.data_context.fillStyle="black",this.data_context.save(),this.data_context.textBaseline="alphabetic",this.data_context.translate(l/2,s-5),this.data_context.fillText("Input Metavariable",0,0),this.data_context.restore(),this.data_context.save(),this.data_context.textBaseline="top",this.data_context.translate(5,s/2),this.data_context.rotate(-Math.PI/2),this.data_context.fillText("Output Metavariable",0,0),this.data_context.restore();t=this.options.x.length;var u=this.options.x,c=this.options.y,A=this.options.v,d=this.options.indices,h=this.options.color;if(t<5e4){var f=(w=1)/2,p=x=(b=8)-2*w,g=_=b-w;for(n=0;n!=t;++n)v=Math.round(this.x_scale(u[n])-b/2-w),m=Math.round(this.y_scale(c[n])-b/2-w),this.data_context.fillStyle=h(A[d[n]]),this.data_context.fillRect(v+w,m+w,x,p),this.data_context.strokeRect(v+f,m+f,_,g)}else for(n=0;n!=t;++n)this.data_context.fillStyle=h(A[d[n]]),this.data_context.fillRect(Math.round(this.x_scale(u[n])-1),Math.round(this.y_scale(c[n])-1),2,2)}if(this.updates.render_selection){u=this.options.x,c=this.options.y,A=this.options.v,h=this.options.color,d=this.options.indices;this.selection_context.setTransform(1,0,0,1,0,0),this.selection_context.clearRect(0,0,l,s);var v,m,b,w,y=this.options.selection,C=y.length,x=(f=(w=2)/2,p=(b=16)-2*w),_=g=b-w;this.selection_context.strokeStyle="black",this.selection_context.lineWidth=w;for(n=0;n!=C;++n){var k=y[n],M=this.inverse_indices[k];this.selection_context.fillStyle=h(A[k]),v=Math.round(this.x_scale(u[M])-b/2-w),m=Math.round(this.y_scale(c[M])-b/2-w),this.selection_context.fillRect(v+w,m+w,x,p),this.selection_context.strokeRect(v+f,m+f,_,g)}}(this.updates.render_data||this.updates.render_selection)&&(this.main_context.clearRect(0,0,l,s),this.main_context.drawImage(this.data_canvas.get(0),0,0),this.main_context.drawImage(this.selection_canvas.get(0),0,0)),this.updates={}}})}).call(this,n(1))},426:function(t,e,n){"use strict";(function(t){var e=function(t){return t&&t.__esModule?t:{default:t}}(n(283));n(282),t.widget("slycat.colorswitcher",{options:{colormap:"day"},_create:function(){var n=this;this.color_maps={night:{label:"Night",background:e.default.rgb(128,128,128),null_color:"rgb(75,75,75)",opacity:"0.5",colors:[e.default.rgb(59,76,192),e.default.rgb(68,90,204),e.default.rgb(77,104,215),e.default.rgb(87,117,225),e.default.rgb(98,130,234),e.default.rgb(108,142,241),e.default.rgb(119,154,247),e.default.rgb(130,165,251),e.default.rgb(141,176,254),e.default.rgb(152,185,255),e.default.rgb(163,194,255),e.default.rgb(174,201,253),e.default.rgb(184,208,249),e.default.rgb(194,213,244),e.default.rgb(204,217,238),e.default.rgb(213,219,230),e.default.rgb(221,221,221),e.default.rgb(229,216,209),e.default.rgb(236,211,197),e.default.rgb(241,204,185),e.default.rgb(245,196,173),e.default.rgb(247,187,160),e.default.rgb(247,177,148),e.default.rgb(247,166,135),e.default.rgb(244,154,123),e.default.rgb(241,141,111),e.default.rgb(236,127,99),e.default.rgb(229,112,88),e.default.rgb(222,96,77),e.default.rgb(213,80,66),e.default.rgb(203,62,56),e.default.rgb(192,40,47),e.default.rgb(180,4,38)]},day:{label:"Day",background:e.default.rgb(255,255,255),null_color:"gray",opacity:"0.7",colors:[e.default.rgb(100,108,234),e.default.rgb(115,118,240),e.default.rgb(128,128,244),e.default.rgb(140,138,248),e.default.rgb(151,147,250),e.default.rgb(161,155,251),e.default.rgb(169,163,251),e.default.rgb(177,170,250),e.default.rgb(184,177,248),e.default.rgb(189,182,245),e.default.rgb(193,187,241),e.default.rgb(197,191,236),e.default.rgb(199,194,230),e.default.rgb(200,196,224),e.default.rgb(201,198,216),e.default.rgb(200,199,208),e.default.rgb(198,198,198),e.default.rgb(210,197,195),e.default.rgb(220,194,192),e.default.rgb(229,191,187),e.default.rgb(236,186,181),e.default.rgb(243,181,175),e.default.rgb(248,175,168),e.default.rgb(251,168,160),e.default.rgb(254,159,152),e.default.rgb(255,150,143),e.default.rgb(255,140,133),e.default.rgb(253,129,123),e.default.rgb(250,117,112),e.default.rgb(246,105,101),e.default.rgb(240,91,90),e.default.rgb(233,75,78),e.default.rgb(225,57,66)]},rainbow:{label:"Rainbow Night",background:e.default.rgb(128,128,128),null_color:"rgb(75,75,75)",opacity:"0.6",colors:[e.default.rgb(0,0,255),e.default.rgb(0,255,255),e.default.rgb(255,255,0),e.default.rgb(255,0,0)]},rainbow_day:{label:"Rainbow Day",background:e.default.rgb(255,255,255),null_color:"gray",opacity:"0.7",colors:[e.default.rgb(0,0,255),e.default.rgb(0,255,255),e.default.rgb(255,255,0),e.default.rgb(255,0,0)]}},this.button=t('<button class="btn btn-xs btn-default dropdown-toggle" type="button" id="colors-dropdown" data-toggle="dropdown" aria-expanded="true" title="Scatterplot Color Theme">           Colors           <span class="caret"></span>         </button>').appendTo(this.element),this.list=t('<ul class="dropdown-menu" role="menu" aria-labelledby="colors-dropdown">').appendTo(this.element),t.each(this.color_maps,function(e,r){for(var o=n.get_gradient_data(e),i=[],a=0;a<o.length;a++)i.push(o[a].color+" "+o[a].offset+"%");var l=n.get_background(e);t('<li role="presentation">').addClass("color").toggleClass("active",e==n.options.colormap).attr("data-colormap",e).appendTo(n.list).append(t('<a role="menuitem" tabindex="-1">').html(r.label).click(function(){var e=t(this).parent();if(e.hasClass("active"))return!1;n.options.colormap=e.attr("data-colormap"),n.list.find(".color").removeClass("active"),e.addClass("active"),n.element.trigger("colormap-changed",[n.options.colormap])}).css({"background-image":"linear-gradient(to bottom, "+i.join(", ")+"), linear-gradient(to bottom, "+l+", "+l+")","background-size":"5px 75%, 50px 100%","background-position":"right 10px center, right 5px center","background-repeat":"no-repeat, no-repeat","padding-right":"70px"}))})},_setOption:function(t,e){this.options[t]=e,"colormap"==t&&(this.list.find(".color").removeClass("active"),this.list.find("[data-colormap='"+this.options.colormap+"']").addClass("active"))},get_background:function(t){return void 0===t&&(t=this.options.colormap),this.color_maps[t].background},get_null_color:function(t){return void 0===t&&(t=this.options.colormap),this.color_maps[t].null_color},get_opacity:function(t){return void 0===t&&(t=this.options.colormap),this.color_maps[t].opacity},get_color_scale:function(t,n,r){void 0===t&&(t=this.options.colormap),void 0===n&&(n=0),void 0===r&&(r=1);var o=[],i=e.default.scale.linear().domain([0,this.color_maps[t].colors.length-1]).range([n,r]);for(var a in this.color_maps[t].colors)o.push(i(a));return e.default.scale.linear().domain(o).range(this.color_maps[t].colors)},get_color_map:function(t,e,n){return this.get_color_scale(t,e,n)},get_color_scale_ordinal:function(t,n){void 0===t&&(t=this.options.colormap),void 0===n&&(n=[0,1]);for(var r=e.default.scale.ordinal().domain(n).rangePoints([0,100],0),o=this.get_color_scale(t,0,100),i=[],a=0;a<n.length;a++)i.push(o(r(n[a])));return e.default.scale.ordinal().domain(n).range(i)},get_color_map_ordinal:function(t,e){return this.get_color_scale_ordinal(t,e)},get_gradient_data:function(t){void 0===t&&(t=this.options.colormap);for(var e=this.color_maps[t].colors,n=e.length,r=[],o=0;o<n;o++)r.push({offset:o*(100/(n-1)),color:e[n-1-o]});return r},setUpColorMapsForAllColumns:function(t,e){for(var n=0;n!=e.length;++n)e[n].colorMap=this.get_color_scale(t,e[n].columnMin,e[n].columnMax)}})}).call(this,n(1))}}]);
//# sourceMappingURL=ui_cca_module.js.map